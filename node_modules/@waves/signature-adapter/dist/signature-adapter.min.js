(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.wavesSignatureAdapter=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var SignError=function(_super){__extends(SignError,_super);function SignError(message,code){var _this=_super.call(this,message)||this;_this.code=code;Object.setPrototypeOf(_this,SignError.prototype);return _this}return SignError}(Error);exports.SignError=SignError},{}],2:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var prepareTx_1=require("./prepareTx");var utils_1=require("./utils");var constants_1=require("./constants");var SignError_1=require("./SignError");var waves_transactions_1=require("@waves/waves-transactions");var money_like_to_node_1=require("@waves/money-like-to-node");var bignumber_1=require("@waves/bignumber");var prepareTx_2=require("./prepareTx");var _a=waves_transactions_1.libs.crypto,base58Encode=_a.base58Encode,blake2b=_a.blake2b,verifySignature=_a.verifySignature;var Signable=function(){function Signable(forSign,adapter){this._signMethod="signRequest";this._proofs=[];var networkCode=adapter.getNetworkByte();this._forSign=__assign({},forSign);this.type=forSign.type;this._adapter=adapter;var prepareMap=prepareTx_1.getValidateSchema(networkCode)[forSign.type];if(!prepareMap){throw new SignError_1.SignError("Can't find prepare api for tx type \""+forSign.type+'"!',constants_1.ERRORS.UNKNOWN_SIGN_TYPE)}this._forSign.data.timestamp=new Date(this._forSign.data.timestamp||Date.now()).getTime();if(this._forSign.data.proofs){this._proofs=this._forSign.data.proofs.slice()}var availableVersions=adapter.getSignVersions()[forSign.type];if(availableVersions.length===0){throw new SignError_1.SignError("Can't sign data with type "+this.type,constants_1.ERRORS.NO_SUPPORTED_VERSIONS)}if(utils_1.isEmpty(this._forSign.data.version)){this._forSign.data.version=utils_1.last(availableVersions)}var version=this._forSign.data.version;if(!availableVersions.includes(version)){throw new SignError_1.SignError("Can't sign data with type \""+this.type+'" and version "'+version+'"',constants_1.ERRORS.VERSION_IS_NOT_SUPPORTED)}if(!prepareTx_1.SIGN_TYPES[forSign.type].getBytes[version]){throw new SignError_1.SignError("Can't find prepare api for tx type \""+forSign.type+'" with version '+version+"!",constants_1.ERRORS.VERSION_IS_NOT_SUPPORTED)}this._signMethod=prepareTx_1.SIGN_TYPES[forSign.type].adapter;try{this._preparedData=prepareTx_1.prepare.signSchema(prepareMap)(this._forSign.data,true)}catch(e){throw new SignError_1.SignError(e.message,constants_1.ERRORS.VALIDATION_FAILED)}this._bytePromise=this.getSignData().then(function(signData){return prepareTx_1.SIGN_TYPES[forSign.type].getBytes[version](signData)})}Signable.prototype.getOrderFee=function(config,minOrderFee,hasMatcherScript,smartAssetIdList){return __awaiter(this,void 0,void 0,function(){var currentFee,_a;return __generator(this,function(_b){switch(_b.label){case 0:if(!(this._forSign.type===prepareTx_1.SIGN_TYPE.CREATE_ORDER))return[3,2];currentFee=utils_1.currentCreateOrderFactory(config,minOrderFee);_a=currentFee;return[4,this.getDataForApi()];case 1:return[2,_a.apply(void 0,[_b.sent(),hasMatcherScript,smartAssetIdList])];case 2:return[2]}})})};Signable.prototype.getFee=function(config,hasScript,smartAssetIdList){return __awaiter(this,void 0,void 0,function(){var currentFee,txData,bytes;return __generator(this,function(_a){switch(_a.label){case 0:currentFee=utils_1.currentFeeFactory(config);return[4,this.getSignData()];case 1:txData=_a.sent();return[4,this.getBytes()];case 2:bytes=_a.sent();return[2,currentFee(txData,bytes,hasScript,smartAssetIdList)]}})})};Signable.prototype.getTxData=function(){return __assign({},this._forSign.data)};Signable.prototype.getSignData=function(){return __awaiter(this,void 0,void 0,function(){var senderPublicKey,sender,dataForBytes,convert,signData;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this._adapter.getPublicKey()];case 1:senderPublicKey=_a.sent();return[4,this._adapter.getAddress()];case 2:sender=_a.sent();dataForBytes=__assign({},this._preparedData,{senderPublicKey:senderPublicKey,sender:sender},this._forSign.data,{type:this._forSign.type});convert=prepareTx_1.SIGN_TYPES[this._forSign.type].toNode||null;signData=convert&&convert(dataForBytes,this._adapter.getNetworkByte());return[2,signData||dataForBytes]}})})};Signable.prototype.getAssetIds=function(){return __awaiter(this,void 0,void 0,function(){var transaction,hash;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getSignData()];case 1:transaction=_a.sent();hash=Object.create(null);hash[prepareTx_1.WAVES_ID]=true;hash[utils_1.normalizeAssetId(transaction.feeAssetId)]=true;switch(transaction.type){case prepareTx_1.SIGN_TYPE.CREATE_ORDER:hash[utils_1.normalizeAssetId(transaction.matcherFeeAssetId)]=true;hash[utils_1.normalizeAssetId(transaction.assetPair.amountAsset)]=true;hash[utils_1.normalizeAssetId(transaction.assetPair.priceAsset)]=true;break;case prepareTx_2.TRANSACTION_TYPE_NUMBER.REISSUE:case prepareTx_2.TRANSACTION_TYPE_NUMBER.BURN:case prepareTx_2.TRANSACTION_TYPE_NUMBER.MASS_TRANSFER:case prepareTx_2.TRANSACTION_TYPE_NUMBER.SPONSORSHIP:case prepareTx_2.TRANSACTION_TYPE_NUMBER.TRANSFER:hash[utils_1.normalizeAssetId(transaction.assetId)]=true;break;case prepareTx_2.TRANSACTION_TYPE_NUMBER.EXCHANGE:hash[utils_1.normalizeAssetId(transaction.order1.assetPair.amountAsset)]=true;hash[utils_1.normalizeAssetId(transaction.order1.assetPair.priceAsset)]=true;hash[utils_1.normalizeAssetId(transaction.order1.matcherFeeAssetId)]=true;hash[utils_1.normalizeAssetId(transaction.order2.matcherFeeAssetId)]=true;break;case prepareTx_2.TRANSACTION_TYPE_NUMBER.SCRIPT_INVOCATION:transaction.payment.forEach(function(payment){hash[utils_1.normalizeAssetId(payment.assetId)]=true});break}return[2,Object.keys(hash)]}})})};Signable.prototype.sign2fa=function(options){var _this=this;var code=options.code;return this._adapter.getAddress().then(function(address){return options.request({address:address,code:code,signData:_this._forSign})}).then(function(signature){_this._proofs.push(signature);return _this})};Signable.prototype.addProof=function(signature){if(this._proofs.indexOf(signature)!==-1){this._proofs.push(signature)}return this};Signable.prototype.getHash=function(){return this._bytePromise.then(function(bytes){return base58Encode(blake2b(bytes))})};Signable.prototype.getId=function(){return this._bytePromise.then(function(bytes){var byteArr=Array.from(bytes);if(bytes[0]===10){bytes=new Uint8Array([byteArr[0]].concat(byteArr.slice(36,-16)))}return base58Encode(blake2b(bytes))})};Signable.prototype.sign=function(){var _this=this;this._makeSignPromise();return this._signPromise.then(function(){return _this})};Signable.prototype.getSignature=function(){this._makeSignPromise();return this._signPromise};Signable.prototype.getBytes=function(){return this._bytePromise};Signable.prototype.getMyProofs=function(){var _this=this;return Promise.all([this.getBytes(),this._adapter.getPublicKey()]).then(function(_a){var bytes=_a[0],publicKey=_a[1];return _this._proofs.filter(function(signature){try{return verifySignature(publicKey,bytes,signature)}catch(e){return false}})})};Signable.prototype.hasMySignature=function(){return this.getMyProofs().then(function(proofs){return!!proofs.length})};Signable.prototype.addMyProof=function(){var _this=this;return this.hasMySignature().then(function(hasMySignature){if(!hasMySignature){return _this.getSignature().then(function(signature){_this._proofs.push(signature);return signature})}else{return _this.getMyProofs().then(function(list){return list[list.length-1]})}})};Signable.prototype.getDataForApi=function(){return __awaiter(this,void 0,void 0,function(){var data,proofs;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getSignData()];case 1:data=_a.sent();return[4,this.addMyProof()];case 2:_a.sent();proofs=(this._proofs||[]).slice();try{return[2,money_like_to_node_1.convert(__assign({},data,{proofs:proofs}),function(item){return new bignumber_1.BigNumber(item)})]}catch(e){return[2,__assign({},data,{proofs:proofs,signature:proofs[0]})]}return[2]}})})};Signable.prototype._makeSignPromise=function(){var _this=this;if(!this._signPromise){this._signPromise=this._bytePromise.then(function(bytes){return _this._adapter[_this._signMethod](bytes,_this._getAmountPrecision(),_this._forSign)});this._signPromise.catch(function(){_this._signPromise=undefined})}return this};Signable.prototype._getAmountPrecision=function(){var data=this._forSign.data;return data.amount&&data.amount.asset&&data.amount.asset.precision?data.amount.asset.precision:0};return Signable}();exports.Signable=Signable},{"./SignError":1,"./constants":10,"./prepareTx":16,"./utils":19,"@waves/bignumber":undefined,"@waves/money-like-to-node":23,"@waves/waves-transactions":undefined}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Signable_1=require("../Signable");var Adapter=function(){function Adapter(networkCode){networkCode=typeof networkCode==="string"?networkCode.charCodeAt(0):networkCode;this.type=this.constructor.type;this._code=networkCode||Adapter._code||"W".charCodeAt(0)}Adapter.prototype.makeSignable=function(forSign){return new Signable_1.Signable(forSign,this)};Adapter.prototype.isAvailable=function(){return Promise.resolve()};Adapter.prototype.onDestroy=function(cb){return};Adapter.prototype.getNetworkByte=function(){return this._code||Adapter._code};Adapter.initOptions=function(options){Adapter._code=options.networkCode};Adapter.getUserList=function(){return Promise.resolve([])};Adapter.isAvailable=function(){return Promise.resolve(false)};Adapter.type="seed";return Adapter}();exports.Adapter=Adapter},{"../Signable":2}],4:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Adapter_1=require("./Adapter");var ledger_1=require("@waves/ledger");var prepareTx_1=require("../prepareTx");var LedgerAdapter=function(_super){__extends(LedgerAdapter,_super);function LedgerAdapter(user){var _this=_super.call(this)||this;_this._currentUser=user;if(!_this._currentUser){throw"No selected user"}return _this}LedgerAdapter.prototype.isAvailable=function(){return this._isMyLedger()};LedgerAdapter.prototype.getPublicKey=function(){return Promise.resolve(this._currentUser.publicKey)};LedgerAdapter.prototype.getAddress=function(){return Promise.resolve(this._currentUser.address)};LedgerAdapter.prototype.getSeed=function(){return Promise.reject(Error('Method "getSeed" is not available!'))};LedgerAdapter.prototype.getAdapterVersion=function(){return LedgerAdapter._ledger.getVersion()};LedgerAdapter.prototype.signRequest=function(bytes){var _this=this;return this._isMyLedger().then(function(){return LedgerAdapter._ledger.signRequest(_this._currentUser.id,bytes)})};LedgerAdapter.prototype.signTransaction=function(bytes,amountPrecision){var _this=this;if(bytes[0]===15){return this.signData(bytes)}return this._isMyLedger().then(function(){return LedgerAdapter._ledger.signTransaction(_this._currentUser.id,{precision:amountPrecision},bytes)})};LedgerAdapter.prototype.signOrder=function(bytes,amountPrecision){var _this=this;return this._isMyLedger().then(function(){return LedgerAdapter._ledger.signOrder(_this._currentUser.id,{precision:amountPrecision},bytes)})};LedgerAdapter.prototype.signData=function(bytes){var _this=this;return this._isMyLedger().then(function(){return LedgerAdapter._ledger.signSomeData(_this._currentUser.id,bytes)})};LedgerAdapter.prototype.getPrivateKey=function(){return Promise.reject("No private key")};LedgerAdapter.prototype.getSignVersions=function(){var _a;return _a={},_a[prepareTx_1.SIGN_TYPE.AUTH]=[1],_a[prepareTx_1.SIGN_TYPE.MATCHER_ORDERS]=[1],_a[prepareTx_1.SIGN_TYPE.CREATE_ORDER]=[1,2,3],_a[prepareTx_1.SIGN_TYPE.CANCEL_ORDER]=[1],_a[prepareTx_1.SIGN_TYPE.COINOMAT_CONFIRMATION]=[1],_a[prepareTx_1.SIGN_TYPE.ISSUE]=[2],_a[prepareTx_1.SIGN_TYPE.TRANSFER]=[2],_a[prepareTx_1.SIGN_TYPE.REISSUE]=[2],_a[prepareTx_1.SIGN_TYPE.BURN]=[2],_a[prepareTx_1.SIGN_TYPE.EXCHANGE]=[],_a[prepareTx_1.SIGN_TYPE.LEASE]=[2],_a[prepareTx_1.SIGN_TYPE.CANCEL_LEASING]=[2],_a[prepareTx_1.SIGN_TYPE.CREATE_ALIAS]=[2],_a[prepareTx_1.SIGN_TYPE.MASS_TRANSFER]=[1],_a[prepareTx_1.SIGN_TYPE.DATA]=[1],_a[prepareTx_1.SIGN_TYPE.SET_SCRIPT]=[1],_a[prepareTx_1.SIGN_TYPE.SPONSORSHIP]=[1],_a[prepareTx_1.SIGN_TYPE.SET_ASSET_SCRIPT]=[1],_a[prepareTx_1.SIGN_TYPE.SCRIPT_INVOCATION]=[1],_a};LedgerAdapter.prototype._isMyLedger=function(){var _this=this;return LedgerAdapter._ledger.getUserDataById(this._currentUser.id).then(function(user){if(user.address!==_this._currentUser.address){throw{error:"Invalid ledger"}}})};LedgerAdapter.getUserList=function(from,to){if(from===void 0){from=1}if(to===void 0){to=1}return LedgerAdapter._ledger.getPaginationUsersData(from,to)};LedgerAdapter.initOptions=function(options){Adapter_1.Adapter.initOptions(options);this._ledger=new ledger_1.WavesLedger(options)};LedgerAdapter.isAvailable=function(){if(!LedgerAdapter._hasConnectionPromise){LedgerAdapter._hasConnectionPromise=LedgerAdapter._ledger.probeDevice()}return LedgerAdapter._hasConnectionPromise.then(function(){LedgerAdapter._hasConnectionPromise=null;return true},function(err){LedgerAdapter._hasConnectionPromise=null;return false})};LedgerAdapter.type="ledger";return LedgerAdapter}(Adapter_1.Adapter);exports.LedgerAdapter=LedgerAdapter},{"../prepareTx":16,"./Adapter":3,"@waves/ledger":undefined}],5:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Adapter_1=require("./Adapter");var waves_transactions_1=require("@waves/waves-transactions");var prepareTx_1=require("../prepareTx");var publicKey=waves_transactions_1.libs.crypto.publicKey;var address=waves_transactions_1.libs.crypto.address;var signWithPrivateKey=waves_transactions_1.libs.crypto.signBytes;var PrivateKeyAdapter=function(_super){__extends(PrivateKeyAdapter,_super);function PrivateKeyAdapter(data,networkCode){var _this=_super.call(this,networkCode)||this;_this.privateKey="";_this.address="";_this.publicKey="";if(typeof data==="string"){_this.privateKey=data}else{var user=data;var encryptionRounds=user.encryptionRounds;_this.privateKey=waves_transactions_1.seedUtils.Seed.decryptSeedPhrase(user.encryptedPrivateKey,user.password,encryptionRounds)}_this.publicKey=publicKey({privateKey:_this.privateKey});_this.address=address({publicKey:_this.publicKey},_this._code);return _this}PrivateKeyAdapter.prototype.getSignVersions=function(){var _a;return _a={},_a[prepareTx_1.SIGN_TYPE.AUTH]=[1],_a[prepareTx_1.SIGN_TYPE.MATCHER_ORDERS]=[1],_a[prepareTx_1.SIGN_TYPE.CREATE_ORDER]=[1,2,3],_a[prepareTx_1.SIGN_TYPE.CANCEL_ORDER]=[0,1],_a[prepareTx_1.SIGN_TYPE.COINOMAT_CONFIRMATION]=[1],_a[prepareTx_1.SIGN_TYPE.ISSUE]=[2],_a[prepareTx_1.SIGN_TYPE.TRANSFER]=[2],_a[prepareTx_1.SIGN_TYPE.REISSUE]=[2],_a[prepareTx_1.SIGN_TYPE.BURN]=[2],_a[prepareTx_1.SIGN_TYPE.EXCHANGE]=[0,2],_a[prepareTx_1.SIGN_TYPE.LEASE]=[2],_a[prepareTx_1.SIGN_TYPE.CANCEL_LEASING]=[2],_a[prepareTx_1.SIGN_TYPE.CREATE_ALIAS]=[2],_a[prepareTx_1.SIGN_TYPE.MASS_TRANSFER]=[1],_a[prepareTx_1.SIGN_TYPE.DATA]=[1],_a[prepareTx_1.SIGN_TYPE.SET_SCRIPT]=[1],_a[prepareTx_1.SIGN_TYPE.SPONSORSHIP]=[1],_a[prepareTx_1.SIGN_TYPE.SET_ASSET_SCRIPT]=[1],_a[prepareTx_1.SIGN_TYPE.SCRIPT_INVOCATION]=[1],_a};PrivateKeyAdapter.prototype.getSeed=function(){return Promise.reject(Error('Method "getSeed" is not available!'))};PrivateKeyAdapter.prototype.getPublicKey=function(){return Promise.resolve(this.publicKey)};PrivateKeyAdapter.prototype.getPrivateKey=function(){return Promise.resolve(this.privateKey)};PrivateKeyAdapter.prototype.getAddress=function(){return Promise.resolve(this.address)};PrivateKeyAdapter.prototype.signRequest=function(bytes){return this._sign(bytes)};PrivateKeyAdapter.prototype.signTransaction=function(bytes,amountPrecision){return this._sign(bytes)};PrivateKeyAdapter.prototype.signOrder=function(bytes,amountPrecision){return this._sign(bytes)};PrivateKeyAdapter.prototype.signData=function(bytes){return this._sign(bytes)};PrivateKeyAdapter.prototype._sign=function(bytes){return Promise.resolve(signWithPrivateKey({privateKey:this.privateKey},bytes))};PrivateKeyAdapter.isAvailable=function(){return Promise.resolve(true)};PrivateKeyAdapter.type="privateKey";return PrivateKeyAdapter}(Adapter_1.Adapter);exports.PrivateKeyAdapter=PrivateKeyAdapter},{"../prepareTx":16,"./Adapter":3,"@waves/waves-transactions":undefined}],6:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:true});var Adapter_1=require("./Adapter");var waves_transactions_1=require("@waves/waves-transactions");var prepareTx_1=require("../prepareTx");var Seed=waves_transactions_1.seedUtils.Seed;var signWithPrivateKey=waves_transactions_1.libs.crypto.signBytes;var SeedAdapter=function(_super){__extends(SeedAdapter,_super);function SeedAdapter(data,networkCode){var _this=_super.call(this,networkCode)||this;var seed;if(typeof data==="string"){seed=data}else{var user=data;var encryptionRounds=user.encryptionRounds;seed=Seed.decryptSeedPhrase(user.encryptedSeed,user.password,encryptionRounds)}_this.seed=new Seed(seed,String.fromCharCode(_this.getNetworkByte()));return _this}SeedAdapter.prototype.getSignVersions=function(){var _a;return _a={},_a[prepareTx_1.SIGN_TYPE.AUTH]=[1],_a[prepareTx_1.SIGN_TYPE.MATCHER_ORDERS]=[1],_a[prepareTx_1.SIGN_TYPE.CREATE_ORDER]=[1,2,3],_a[prepareTx_1.SIGN_TYPE.CANCEL_ORDER]=[0,1],_a[prepareTx_1.SIGN_TYPE.COINOMAT_CONFIRMATION]=[1],_a[prepareTx_1.SIGN_TYPE.ISSUE]=[2],_a[prepareTx_1.SIGN_TYPE.TRANSFER]=[2],_a[prepareTx_1.SIGN_TYPE.REISSUE]=[2],_a[prepareTx_1.SIGN_TYPE.BURN]=[2],_a[prepareTx_1.SIGN_TYPE.EXCHANGE]=[0,2],_a[prepareTx_1.SIGN_TYPE.LEASE]=[2],_a[prepareTx_1.SIGN_TYPE.CANCEL_LEASING]=[2],_a[prepareTx_1.SIGN_TYPE.CREATE_ALIAS]=[2],_a[prepareTx_1.SIGN_TYPE.MASS_TRANSFER]=[1],_a[prepareTx_1.SIGN_TYPE.DATA]=[1],_a[prepareTx_1.SIGN_TYPE.SET_SCRIPT]=[1],_a[prepareTx_1.SIGN_TYPE.SPONSORSHIP]=[1],_a[prepareTx_1.SIGN_TYPE.SET_ASSET_SCRIPT]=[1],_a[prepareTx_1.SIGN_TYPE.SCRIPT_INVOCATION]=[1],_a};SeedAdapter.prototype.getPublicKey=function(){return Promise.resolve(this.seed.keyPair.publicKey)};SeedAdapter.prototype.getPrivateKey=function(){return Promise.resolve(this.seed.keyPair.privateKey)};SeedAdapter.prototype.getAddress=function(){return Promise.resolve(this.seed.address)};SeedAdapter.prototype.getSeed=function(){return Promise.resolve(this.seed.phrase)};SeedAdapter.prototype.signRequest=function(bytes){return this._sign(bytes)};SeedAdapter.prototype.signTransaction=function(bytes,amountPrecision){return this._sign(bytes)};SeedAdapter.prototype.signOrder=function(bytes,amountPrecision){return this._sign(bytes)};SeedAdapter.prototype.signData=function(bytes){return this._sign(bytes)};SeedAdapter.prototype._sign=function(bytes){return Promise.resolve(signWithPrivateKey(this.seed.keyPair,bytes))};SeedAdapter.isAvailable=function(){return Promise.resolve(true)};SeedAdapter.type="seed";return SeedAdapter}(Adapter_1.Adapter);exports.SeedAdapter=SeedAdapter},{"../prepareTx":16,"./Adapter":3,"@waves/waves-transactions":undefined}],7:[function(require,module,exports){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var _a;var Adapter_1=require("./Adapter");var prepareTx_1=require("../prepareTx");var fieldValidator_1=require("../prepareTx/fieldValidator");var DEFAULT_TX_VERSIONS=(_a={},_a[prepareTx_1.SIGN_TYPE.AUTH]=[1],_a[prepareTx_1.SIGN_TYPE.MATCHER_ORDERS]=[1],_a[prepareTx_1.SIGN_TYPE.CREATE_ORDER]=[1,2,3],_a[prepareTx_1.SIGN_TYPE.CANCEL_ORDER]=[1],_a[prepareTx_1.SIGN_TYPE.COINOMAT_CONFIRMATION]=[1],_a[prepareTx_1.SIGN_TYPE.ISSUE]=[2],_a[prepareTx_1.SIGN_TYPE.TRANSFER]=[2],_a[prepareTx_1.SIGN_TYPE.REISSUE]=[2],_a[prepareTx_1.SIGN_TYPE.BURN]=[2],_a[prepareTx_1.SIGN_TYPE.EXCHANGE]=[],_a[prepareTx_1.SIGN_TYPE.LEASE]=[2],_a[prepareTx_1.SIGN_TYPE.CANCEL_LEASING]=[2],_a[prepareTx_1.SIGN_TYPE.CREATE_ALIAS]=[2],_a[prepareTx_1.SIGN_TYPE.MASS_TRANSFER]=[1],_a[prepareTx_1.SIGN_TYPE.DATA]=[1],_a[prepareTx_1.SIGN_TYPE.SET_SCRIPT]=[1],_a[prepareTx_1.SIGN_TYPE.SPONSORSHIP]=[1],_a[prepareTx_1.SIGN_TYPE.SET_ASSET_SCRIPT]=[1],_a[prepareTx_1.SIGN_TYPE.SCRIPT_INVOCATION]=[1],_a);var WavesKeeperAdapter=function(_super){__extends(WavesKeeperAdapter,_super);function WavesKeeperAdapter(_a,networkCode){var address=_a.address,publicKey=_a.publicKey;var _this=_super.call(this,networkCode)||this;_this._onDestoryCb=[];_this._needDestroy=false;_this.handleUpdate=function(state){if(!state.locked&&(!state.account||state.account.address!==_this._address)){_this._needDestroy=true;_this._onDestoryCb.forEach(function(cb){return cb()});_this._onDestoryCb=[];WavesKeeperAdapter.offUpdate(_this.handleUpdate)}};_this._address=address;_this._pKey=publicKey;WavesKeeperAdapter._initExtension();WavesKeeperAdapter.onUpdate(_this.handleUpdate);return _this}WavesKeeperAdapter.prototype.isAvailable=function(ignoreLocked){if(ignoreLocked===void 0){ignoreLocked=false}return __awaiter(this,void 0,void 0,function(){var data,e_1;return __generator(this,function(_a){switch(_a.label){case 0:_a.trys.push([0,3,,4]);return[4,WavesKeeperAdapter.isAvailable(this.getNetworkByte())];case 1:_a.sent();return[4,WavesKeeperAdapter._api.publicState()];case 2:data=_a.sent();WavesKeeperAdapter._updateState(data);if(data.locked){return[2,ignoreLocked?Promise.resolve():Promise.reject({code:4,msg:"Keeper is locked"})]}if(data.account&&data.account.address===this._address){return[2,Promise.resolve()]}return[3,4];case 3:e_1=_a.sent();return[3,4];case 4:return[2,Promise.reject({code:5,msg:"Keeper has another active account"})]}})})};WavesKeeperAdapter.prototype.isLocked=function(){return __awaiter(this,void 0,void 0,function(){var data;return __generator(this,function(_a){switch(_a.label){case 0:return[4,WavesKeeperAdapter.isAvailable()];case 1:_a.sent();return[4,WavesKeeperAdapter._api.publicState()];case 2:data=_a.sent();WavesKeeperAdapter._updateState(data);if(data.locked){return[2,Promise.resolve()]}return[2]}})})};WavesKeeperAdapter.prototype.getSignVersions=function(){return WavesKeeperAdapter._txVersion};WavesKeeperAdapter.prototype.onDestroy=function(cb){if(this._needDestroy){return cb()}this._onDestoryCb.push(cb)};WavesKeeperAdapter.prototype.getPublicKey=function(){return Promise.resolve(this._pKey)};WavesKeeperAdapter.prototype.getAddress=function(){return Promise.resolve(this._address)};WavesKeeperAdapter.prototype.getSeed=function(){return Promise.reject(Error('Method "getSeed" is not available!'))};WavesKeeperAdapter.prototype.signRequest=function(bytes,_,signData){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.isAvailable(true)];case 1:_a.sent();return[4,WavesKeeperAdapter._api.signRequest(WavesKeeperAdapter._serializedData(signData))];case 2:return[2,_a.sent()]}})})};WavesKeeperAdapter.prototype.signTransaction=function(bytes,amountPrecision,signData){return __awaiter(this,void 0,void 0,function(){var dataStr,_a,proofs,signature;return __generator(this,function(_b){switch(_b.label){case 0:return[4,this.isAvailable(true)];case 1:_b.sent();return[4,WavesKeeperAdapter._api.signTransaction(WavesKeeperAdapter._serializedData(signData))];case 2:dataStr=_b.sent();_a=JSON.parse(dataStr),proofs=_a.proofs,signature=_a.signature;return[2,signature||proofs.pop()]}})})};WavesKeeperAdapter.prototype.signOrder=function(bytes,amountPrecision,signData){return __awaiter(this,void 0,void 0,function(){var promise,dataStr,_a,proofs,signature;return __generator(this,function(_b){switch(_b.label){case 0:return[4,this.isAvailable(true)];case 1:_b.sent();switch(signData.type){case prepareTx_1.SIGN_TYPE.CREATE_ORDER:promise=WavesKeeperAdapter._api.signOrder(WavesKeeperAdapter._serializedData(signData));break;case prepareTx_1.SIGN_TYPE.CANCEL_ORDER:promise=WavesKeeperAdapter._api.signCancelOrder(WavesKeeperAdapter._serializedData(signData));break;default:return[2,WavesKeeperAdapter._api.signRequest(WavesKeeperAdapter._serializedData(signData))]}return[4,promise];case 2:dataStr=_b.sent();_a=JSON.parse(dataStr),proofs=_a.proofs,signature=_a.signature;return[2,signature||proofs.pop()]}})})};WavesKeeperAdapter.prototype.signData=function(bytes){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.isAvailable(true)];case 1:_a.sent();return[2,Promise.resolve("")]}})})};WavesKeeperAdapter.prototype.getPrivateKey=function(){return Promise.reject("No private key")};WavesKeeperAdapter.isAvailable=function(networkCode){return __awaiter(this,void 0,void 0,function(){var error,data,e_2;return __generator(this,function(_a){switch(_a.label){case 0:return[4,WavesKeeperAdapter._initExtension()];case 1:_a.sent();if(!this._api){throw{code:0,message:"Install WavesKeeper"}}if(!(networkCode||Adapter_1.Adapter._code)){throw{code:5,message:"Set adapter network code"}}_a.label=2;case 2:_a.trys.push([2,4,,5]);return[4,this._api.publicState()];case 3:data=_a.sent();WavesKeeperAdapter._updateState(data);if(data.txVersion){WavesKeeperAdapter._txVersion=data.txVersion}return[3,5];case 4:e_2=_a.sent();error={code:1,message:"No permissions"};return[3,5];case 5:if(!error&&data){if(!data.account){error={code:2,message:"No accounts in waveskeeper"}}else if(!data.account.address||!fieldValidator_1.isValidAddress(data.account.address,networkCode||Adapter_1.Adapter._code)){error={code:3,message:"Selected network incorrect"}}}if(error){throw error}return[2,true]}})})};WavesKeeperAdapter.getUserList=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,WavesKeeperAdapter.isAvailable()];case 1:_a.sent();return[2,WavesKeeperAdapter._api.publicState().then(function(data){WavesKeeperAdapter._updateState(data);return[data.account]})]}})})};WavesKeeperAdapter.initOptions=function(options){Adapter_1.Adapter.initOptions(options);this.setApiExtension(options.extension);this._initExtension();try{this._api.publicState().then(WavesKeeperAdapter._updateState)}catch(e){}};WavesKeeperAdapter.setApiExtension=function(extension){var extensionCb;if(typeof extension==="function"){extensionCb=extension}else if(extension){extensionCb=function(){return extension}}WavesKeeperAdapter._getApiCb=extensionCb};WavesKeeperAdapter.onUpdate=function(cb){WavesKeeperAdapter._onUpdateCb.push(cb)};WavesKeeperAdapter.offUpdate=function(func){WavesKeeperAdapter._onUpdateCb=WavesKeeperAdapter._onUpdateCb.filter(function(f){return f!==func})};WavesKeeperAdapter._updateState=function(state){for(var _i=0,_a=WavesKeeperAdapter._onUpdateCb;_i<_a.length;_i++){var cb=_a[_i];cb(state)}};WavesKeeperAdapter._initExtension=function(){var _this=this;if(WavesKeeperAdapter._api||!WavesKeeperAdapter._getApiCb){return WavesKeeperAdapter._api.initialPromise}var wavesApi=WavesKeeperAdapter._getApiCb();if(wavesApi){return wavesApi.initialPromise.then(function(api){_this._api=api;_this._api.on("update",WavesKeeperAdapter._updateState);_this._api.publicState().then(function(state){if(state.txVersion){WavesKeeperAdapter._txVersion=state.txVersion}WavesKeeperAdapter._updateState(state)})})}};WavesKeeperAdapter._serializedData=function(data){return JSON.parse(JSON.stringify(data,function(key,value){return value instanceof Uint8Array?Array.from(value):value}))};WavesKeeperAdapter.type="wavesKeeper";WavesKeeperAdapter._onUpdateCb=[];WavesKeeperAdapter._txVersion=DEFAULT_TX_VERSIONS;return WavesKeeperAdapter}(Adapter_1.Adapter);exports.WavesKeeperAdapter=WavesKeeperAdapter},{"../prepareTx":16,"../prepareTx/fieldValidator":14,"./Adapter":3}],8:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./Adapter"));__export(require("./LedgerAdapter"));__export(require("./SeedAdapter"));__export(require("./WavesKeeperAdapter"))},{"./Adapter":3,"./LedgerAdapter":4,"./SeedAdapter":6,"./WavesKeeperAdapter":7}],9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SeedAdapter_1=require("./adapters/SeedAdapter");var LedgerAdapter_1=require("./adapters/LedgerAdapter");var adapters_1=require("./adapters");var PrivateKeyAdapter_1=require("./adapters/PrivateKeyAdapter");var AdapterType;(function(AdapterType){AdapterType["Seed"]="seed";AdapterType["PrivateKey"]="privateKey";AdapterType["WavesKeeper"]="wavesKeeper";AdapterType["Ledger"]="ledger";AdapterType["Tresor"]="tresor"})(AdapterType=exports.AdapterType||(exports.AdapterType={}));exports.adapterPriorityList=["wavesKeeper","ledger","tresor","seed","privateKey"];exports.adapterList=[SeedAdapter_1.SeedAdapter,LedgerAdapter_1.LedgerAdapter,adapters_1.WavesKeeperAdapter,PrivateKeyAdapter_1.PrivateKeyAdapter]},{"./adapters":8,"./adapters/LedgerAdapter":4,"./adapters/PrivateKeyAdapter":5,"./adapters/SeedAdapter":6}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ERRORS;(function(ERRORS){ERRORS[ERRORS["UNKNOWN_SIGN_TYPE"]=0]="UNKNOWN_SIGN_TYPE";ERRORS[ERRORS["NO_SUPPORTED_VERSIONS"]=1]="NO_SUPPORTED_VERSIONS";ERRORS[ERRORS["VERSION_IS_NOT_SUPPORTED"]=2]="VERSION_IS_NOT_SUPPORTED";ERRORS[ERRORS["VALIDATION_FAILED"]=3]="VALIDATION_FAILED"})(ERRORS=exports.ERRORS||(exports.ERRORS={}))},{}],11:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});var utils_1=require("./utils");__export(require("./adapters"));__export(require("./prepareTx"));var fieldValidator_1=require("./prepareTx/fieldValidator");exports.isValidAddress=fieldValidator_1.isValidAddress;__export(require("./config"));__export(require("./Signable"));__export(require("./constants"));__export(require("./utils"));var config_1=require("./config");function getAvailableList(){var _this=this;return Promise.all(config_1.adapterPriorityList.map(function(type){return __awaiter(_this,void 0,void 0,function(){var adapter,available;return __generator(this,function(_a){switch(_a.label){case 0:adapter=getAdapterByType(type);return[4,adapter.isAvailable()];case 1:available=_a.sent();return[2,available?adapter:null]}})})})).then(function(list){return list.filter(Boolean)})}exports.getAvailableList=getAvailableList;function getAdapterByType(type){return utils_1.find({type:type},config_1.adapterList)}exports.getAdapterByType=getAdapterByType},{"./Signable":2,"./adapters":8,"./config":9,"./constants":10,"./prepareTx":16,"./prepareTx/fieldValidator":14,"./utils":19}],12:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var _a;var waves_transactions_1=require("@waves/waves-transactions");var wavesTransactions=require("@waves/waves-transactions");var money_like_to_node_1=require("@waves/money-like-to-node");var prepare_1=require("./prepare");var processors=prepare_1.prepare.processors;var data_entities_1=require("@waves/data-entities");var _b=waves_transactions_1.libs.marshall.serializePrimitives,LEN=_b.LEN,SHORT=_b.SHORT,STRING=_b.STRING,LONG=_b.LONG,BASE58_STRING=_b.BASE58_STRING;var binary=waves_transactions_1.libs.marshall.binary;var toNode=function(data,convert){var r=money_like_to_node_1.toNode(data);r.timestamp=new Date(r.timestamp).getTime();return convert?convert(r):r};var processScript=function(srcScript){var scriptText=(srcScript||"").replace("base64:","");return scriptText?"base64:"+scriptText:null};var TRANSACTION_TYPE_NUMBER;(function(TRANSACTION_TYPE_NUMBER){TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["SEND_OLD"]=2]="SEND_OLD";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["ISSUE"]=3]="ISSUE";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["TRANSFER"]=4]="TRANSFER";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["REISSUE"]=5]="REISSUE";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["BURN"]=6]="BURN";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["EXCHANGE"]=7]="EXCHANGE";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["LEASE"]=8]="LEASE";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["CANCEL_LEASING"]=9]="CANCEL_LEASING";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["CREATE_ALIAS"]=10]="CREATE_ALIAS";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["MASS_TRANSFER"]=11]="MASS_TRANSFER";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["DATA"]=12]="DATA";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["SET_SCRIPT"]=13]="SET_SCRIPT";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["SPONSORSHIP"]=14]="SPONSORSHIP";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["SET_ASSET_SCRIPT"]=15]="SET_ASSET_SCRIPT";TRANSACTION_TYPE_NUMBER[TRANSACTION_TYPE_NUMBER["SCRIPT_INVOCATION"]=16]="SCRIPT_INVOCATION"})(TRANSACTION_TYPE_NUMBER=exports.TRANSACTION_TYPE_NUMBER||(exports.TRANSACTION_TYPE_NUMBER={}));var SIGN_TYPE;(function(SIGN_TYPE){SIGN_TYPE[SIGN_TYPE["AUTH"]=1e3]="AUTH";SIGN_TYPE[SIGN_TYPE["MATCHER_ORDERS"]=1001]="MATCHER_ORDERS";SIGN_TYPE[SIGN_TYPE["CREATE_ORDER"]=1002]="CREATE_ORDER";SIGN_TYPE[SIGN_TYPE["CANCEL_ORDER"]=1003]="CANCEL_ORDER";SIGN_TYPE[SIGN_TYPE["COINOMAT_CONFIRMATION"]=1004]="COINOMAT_CONFIRMATION";SIGN_TYPE[SIGN_TYPE["ISSUE"]=3]="ISSUE";SIGN_TYPE[SIGN_TYPE["TRANSFER"]=4]="TRANSFER";SIGN_TYPE[SIGN_TYPE["REISSUE"]=5]="REISSUE";SIGN_TYPE[SIGN_TYPE["BURN"]=6]="BURN";SIGN_TYPE[SIGN_TYPE["EXCHANGE"]=7]="EXCHANGE";SIGN_TYPE[SIGN_TYPE["LEASE"]=8]="LEASE";SIGN_TYPE[SIGN_TYPE["CANCEL_LEASING"]=9]="CANCEL_LEASING";SIGN_TYPE[SIGN_TYPE["CREATE_ALIAS"]=10]="CREATE_ALIAS";SIGN_TYPE[SIGN_TYPE["MASS_TRANSFER"]=11]="MASS_TRANSFER";SIGN_TYPE[SIGN_TYPE["DATA"]=12]="DATA";SIGN_TYPE[SIGN_TYPE["SET_SCRIPT"]=13]="SET_SCRIPT";SIGN_TYPE[SIGN_TYPE["SPONSORSHIP"]=14]="SPONSORSHIP";SIGN_TYPE[SIGN_TYPE["SET_ASSET_SCRIPT"]=15]="SET_ASSET_SCRIPT";SIGN_TYPE[SIGN_TYPE["SCRIPT_INVOCATION"]=16]="SCRIPT_INVOCATION"})(SIGN_TYPE=exports.SIGN_TYPE||(exports.SIGN_TYPE={}));var getCancelOrderBytes=function(txData){var orderId=txData.orderId,id=txData.id,senderPublicKey=txData.senderPublicKey,sender=txData.sender;var pBytes=BASE58_STRING(senderPublicKey||sender);var orderIdBytes=BASE58_STRING(id||orderId);return Uint8Array.from(Array.from(pBytes).concat(Array.from(orderIdBytes)))};exports.SIGN_TYPES=(_a={},_a[SIGN_TYPE.AUTH]={getBytes:{1:function(txData){var host=txData.host,data=txData.data;var pBytes=LEN(SHORT)(STRING)("WavesWalletAuthentication");var hostBytes=LEN(SHORT)(STRING)(host||"");var dataBytes=LEN(SHORT)(STRING)(data||"");return Uint8Array.from(Array.from(pBytes).concat(Array.from(hostBytes),Array.from(dataBytes)))}},adapter:"signRequest"},_a[SIGN_TYPE.COINOMAT_CONFIRMATION]={getBytes:{1:function(txData){var timestamp=txData.timestamp,prefix=txData.prefix;var pBytes=LEN(SHORT)(STRING)(prefix);var timestampBytes=LONG(timestamp);return Uint8Array.from(Array.from(pBytes).concat(Array.from(timestampBytes)))}},adapter:"signRequest"},_a[SIGN_TYPE.MATCHER_ORDERS]={getBytes:{1:function(txData){var timestamp=txData.timestamp,senderPublicKey=txData.senderPublicKey;var pBytes=BASE58_STRING(senderPublicKey);var timestampBytes=LONG(timestamp);return Uint8Array.from(Array.from(pBytes).concat(Array.from(timestampBytes)))}},adapter:"signRequest"},_a[SIGN_TYPE.CREATE_ORDER]={getBytes:{0:binary.serializeOrder,1:binary.serializeOrder,2:binary.serializeOrder,3:binary.serializeOrder},toNode:function(data){var price=processors.toOrderPrice(data);data=__assign({},data,{price:data_entities_1.Money.fromCoins(price,data.price.asset)});return toNode(data,wavesTransactions.order)},adapter:"signOrder"},_a[SIGN_TYPE.CANCEL_ORDER]={getBytes:{0:getCancelOrderBytes,1:getCancelOrderBytes},adapter:"signRequest",toNode:function(data){return{orderId:data.orderId,sender:data.senderPublicKey,senderPublicKey:data.senderPublicKey,signature:data.proofs&&data.proofs[0]}}},_a[SIGN_TYPE.TRANSFER]={getBytes:{2:binary.serializeTx},toNode:function(data,networkByte){return toNode(__assign({},data,{recipient:processors.recipient(String.fromCharCode(networkByte))(data.recipient),attachment:processors.attachment(data.attachment)}),wavesTransactions.transfer)},adapter:"signTransaction"},_a[SIGN_TYPE.ISSUE]={getBytes:{2:binary.serializeTx},toNode:function(data){return toNode(__assign({},data,{quantity:data.amount||data.quantity,script:processScript(data.script)}),wavesTransactions.issue)},adapter:"signTransaction"},_a[SIGN_TYPE.REISSUE]={getBytes:{2:binary.serializeTx},toNode:function(data){var quantity=data.amount||data.quantity;return toNode(__assign({},data,{quantity:quantity}),wavesTransactions.reissue)},adapter:"signTransaction"},_a[SIGN_TYPE.BURN]={getBytes:{2:binary.serializeTx},toNode:function(data){var quantity=data.amount||data.quantity;return toNode(__assign({},data,{quantity:quantity}),wavesTransactions.burn)},adapter:"signTransaction"},_a[SIGN_TYPE.EXCHANGE]={getBytes:{0:binary.serializeTx,2:binary.serializeTx},toNode:function(data){var tx=toNode(data);var order1Sign=data.buyOrder.signature||data.buyOrder.proofs[0];var order1proofs=data.buyOrder.proofs?data.buyOrder.proofs:data.buyOrder.signature;var order1=__assign({},tx.buyOrder,{signature:order1Sign,proofs:order1proofs});var order2Sign=data.sellOrder.signature||data.sellOrder.proofs[0];var order2proofs=data.sellOrder.proofs?data.sellOrder.proofs:data.sellOrder.signature;var order2=__assign({},tx.sellOrder,{signature:order2Sign,proofs:order2proofs});return wavesTransactions.exchange(__assign({},tx,{order1:order1,order2:order2}))},adapter:"signTransaction"},_a[SIGN_TYPE.LEASE]={getBytes:{2:binary.serializeTx},toNode:function(data,networkByte){return toNode(__assign({},data,{recipient:processors.recipient(String.fromCharCode(networkByte))(data.recipient)}),wavesTransactions.lease)},adapter:"signTransaction"},_a[SIGN_TYPE.CANCEL_LEASING]={getBytes:{2:binary.serializeTx},toNode:function(data){return toNode(data,wavesTransactions.cancelLease)},adapter:"signTransaction"},_a[SIGN_TYPE.CREATE_ALIAS]={getBytes:{2:binary.serializeTx},toNode:function(data){return __assign({},toNode(data,wavesTransactions.alias),{chainId:data.chainId})},adapter:"signTransaction"},_a[SIGN_TYPE.MASS_TRANSFER]={getBytes:{0:binary.serializeTx,1:binary.serializeTx},toNode:function(data,networkByte){return toNode(__assign({},data,{assetId:data.assetId||data.transfers[0].amount.asset.id,transfers:data.transfers.map(function(item){var recipient=processors.recipient(String.fromCharCode(networkByte))(item.name||item.recipient);return __assign({},item,{recipient:recipient})}),attachment:processors.attachment(data.attachment)}),wavesTransactions.massTransfer)},adapter:"signTransaction"},_a[SIGN_TYPE.DATA]={getBytes:{0:binary.serializeTx,1:binary.serializeTx},toNode:function(data){return toNode(data,wavesTransactions.data)},adapter:"signTransaction"},_a[SIGN_TYPE.SET_SCRIPT]={getBytes:{0:binary.serializeTx,1:binary.serializeTx},toNode:function(data){return toNode(__assign({},data,{script:processScript(data.script)}),wavesTransactions.setScript)},adapter:"signTransaction"},_a[SIGN_TYPE.SPONSORSHIP]={getBytes:{0:binary.serializeTx,1:binary.serializeTx},toNode:function(data){return toNode(data,wavesTransactions.sponsorship)},adapter:"signTransaction"},_a[SIGN_TYPE.SET_ASSET_SCRIPT]={getBytes:{0:binary.serializeTx,1:binary.serializeTx},toNode:function(data){return toNode(__assign({},data,{script:processScript(data.script)}),wavesTransactions.setAssetScript)},adapter:"signTransaction"},_a[SIGN_TYPE.SCRIPT_INVOCATION]={getBytes:{0:binary.serializeTx,1:binary.serializeTx},toNode:function(data,networkByte){return toNode(__assign({},data,{dApp:processors.recipient(String.fromCharCode(networkByte))(data.dApp)}),wavesTransactions.invokeScript)},adapter:"signTransaction"},_a)},{"./prepare":17,"@waves/data-entities":undefined,"@waves/money-like-to-node":23,"@waves/waves-transactions":undefined}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var fieldFactory=function(type,optionalData){return function(fromField,toField,processor,optional){if(toField===void 0){toField=fromField}if(processor===void 0){processor=null}if(optional===void 0){optional=false}return{name:fromField,field:toField||fromField,optional:optional,processor:processor,type:type,optionalData:optionalData}}};exports.string=function(data){return fieldFactory("string")};exports.asset=function(data){return fieldFactory("assetId")};exports.assetName=function(data){return fieldFactory("assetName")};exports.assetDescription=function(data){return fieldFactory("assetDescription")};exports.precision=function(data){return fieldFactory("precision")};exports.number=function(data){return fieldFactory("number")};exports.address=function(data){return fieldFactory("address",data)};exports.aliasName=function(data){return fieldFactory("aliasName",data)};exports.aliasOrAddress=function(data){return fieldFactory("aliasOrAddress",data)};exports.money=function(data){return fieldFactory("money")};exports.numberLike=function(data){return fieldFactory("numberLike")};exports.attachment=function(data){return fieldFactory("attachment")};exports.httpsUrl=function(data){return fieldFactory("httpsUrl")};exports.timestamp=function(data){return fieldFactory("timestamp")};exports.orderType=function(data){return fieldFactory("orderType")};exports.fromData=function(data){return fieldFactory("fromData")};exports.boolean=function(data){return fieldFactory("boolean")};exports.transfers=function(data){return fieldFactory("transfers",data)};exports.data=function(data){return fieldFactory("data")};exports.script=function(data){return fieldFactory("script")};exports.asset_script=function(data){return fieldFactory("asset_script")};exports.required=function(data){return fieldFactory("required")};exports.call=function(data){return fieldFactory("call")};exports.payment=function(data){return fieldFactory("payment")}},{}],14:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __rest=this&&this.__rest||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)if(e.indexOf(p[i])<0)t[p[i]]=s[p[i]];return t};Object.defineProperty(exports,"__esModule",{value:true});var waves_transactions_1=require("@waves/waves-transactions");var data_entities_1=require("@waves/data-entities");var bignumber_1=require("@waves/bignumber");var _a=waves_transactions_1.libs.crypto,stringToBytes=_a.stringToBytes,base58Decode=_a.base58Decode,keccak=_a.keccak,blake2b=_a.blake2b;var TRANSFERS={ATTACHMENT:140};var ALIAS={AVAILABLE_CHARS:"-.0123456789@_abcdefghijklmnopqrstuvwxyz",MAX_ALIAS_LENGTH:30,MIN_ALIAS_LENGTH:4};var ADDRESS={MAX_ADDRESS_LENGTH:45};var ASSETS={NAME_MIN_BYTES:4,NAME_MAX_BYTES:16,DESCRIPTION_MAX_BYTES:1e3};exports.ERROR_MSG={REQUIRED:"field is required",WRONG_TYPE:"field is wrong type",WRONG_NUMBER:"field is not number",WRONG_TIMESTAMP:"field is not timestamp",SMALL_FIELD:"field is small",LARGE_FIELD:"field is large",WRONG_SYMBOLS:"field has wrong symbols",WRONG_ADDRESS:"field is wrong address",WRONG_BOOLEAN:"field is wrong boolean",WRONG_ASSET_ID:"field is wrong assetId",WRONG_ORDER_TYPE:'field is wrong order type. Field can be "buy" or "sell"',NOT_HTTPS_URL:"field can be url with https protocol",BASE64:'field can be base64 string with prefix "base64:"',EMPTY_BASE64:'field can be not empty base64"'};exports.isValidAddress=function(address,networkByte){if(!address||typeof address!=="string"){throw new Error("Missing or invalid address")}var addressBytes=base58Decode(address);if(addressBytes[0]!==1||addressBytes[1]!==networkByte){return false}var key=addressBytes.slice(0,22);var check=addressBytes.slice(22,26);var keyHash=keccak(blake2b(key)).slice(0,4);for(var i=0;i<4;i++){if(check[i]!==keyHash[i]){return false}}return true};var isBase64=function(value){if(value===""){return true}var regExp=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;return regExp.test(value)};var getBytesFromString=function(value){return stringToBytes(value)};var numberToString=function(num){return num&&typeof num==="number"?num.toString():num};var error=function(_a,message){var value=_a.value,options=__rest(_a,["value"]);var field=options.name,type=options.type;throw{value:value,field:field,type:type,message:message}};var required=function(options){var value=options.value,optional=options.optional;if(!optional&&value==null){error(options,exports.ERROR_MSG.REQUIRED)}};var string=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value,optional=options.optional;if(!optional&&value==null&&(value!=null&&typeof value!=="string")){return error(options,exports.ERROR_MSG.WRONG_TYPE)}};var attachment=function(options){var value=options.value;if(value==null){return}if(typeof value==="string"||typeof value==="number"){string(options);switch(true){case typeof value!="string":error(options,exports.ERROR_MSG.WRONG_TYPE);break;case getBytesFromString(value).length>TRANSFERS.ATTACHMENT:error(options,exports.ERROR_MSG.LARGE_FIELD);break}return}if(typeof value==="object"){switch(true){case typeof value.length!=="number"||value.length<0:error(options,exports.ERROR_MSG.WRONG_TYPE);break;case value.length>TRANSFERS.ATTACHMENT:error(options,exports.ERROR_MSG.LARGE_FIELD);break}return}error(options,exports.ERROR_MSG.WRONG_TYPE)};var number=function(options){required(options);var value=options.value;if(value!=null&&new bignumber_1.BigNumber(value).isNaN()){return error(options,exports.ERROR_MSG.WRONG_NUMBER)}};var boolean=function(options){required(options);var value=options.value;if(value!=null&&typeof value!=="boolean"){return error(options,exports.ERROR_MSG.WRONG_BOOLEAN)}};var money=function(options){required(options);var value=options.value;if(value==null){return}switch(true){case!(value instanceof data_entities_1.Money):return error(options,exports.ERROR_MSG.WRONG_TYPE);case value instanceof data_entities_1.Money&&value.getCoins().isNaN():return error(options,exports.ERROR_MSG.WRONG_NUMBER)}};var numberLike=function(options,min,max){required(options);var value=options.value;if(value==null){return}var checkInterval=function(bigNumber){if(min!=null){if(bigNumber.lt(new bignumber_1.BigNumber(min))){error(options,exports.ERROR_MSG.SMALL_FIELD)}}if(max!=null){if(bigNumber.gt(new bignumber_1.BigNumber(max))){error(options,exports.ERROR_MSG.LARGE_FIELD)}}};switch(true){case value instanceof bignumber_1.BigNumber:if(value.isNaN()){error(options,exports.ERROR_MSG.WRONG_TYPE)}checkInterval(value);break;case value instanceof data_entities_1.Money:var coins=value.getCoins();if(coins.isNaN()){error(options,exports.ERROR_MSG.WRONG_NUMBER)}checkInterval(coins);break;case typeof value==="string"&&!value:error(options,exports.ERROR_MSG.WRONG_NUMBER);break;case new bignumber_1.BigNumber(value).isNaN():return error(options,exports.ERROR_MSG.WRONG_NUMBER);default:checkInterval(new bignumber_1.BigNumber(value))}};var aliasName=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value;if(value==null){return null}switch(true){case typeof value!=="string":return error(options,exports.ERROR_MSG.WRONG_TYPE);case value.length<ALIAS.MIN_ALIAS_LENGTH:return error(options,exports.ERROR_MSG.SMALL_FIELD);case value.length>ALIAS.MAX_ALIAS_LENGTH:return error(options,exports.ERROR_MSG.LARGE_FIELD);case!value.split("").every(function(char){return ALIAS.AVAILABLE_CHARS.includes(char)}):return error(options,exports.ERROR_MSG.WRONG_SYMBOLS)}};var address=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value;var validateAddress=function(address){try{return exports.isValidAddress(address,options.optionalData)}catch(e){return false}};if(value==null){return null}switch(true){case typeof value!=="string":return error(options,exports.ERROR_MSG.WRONG_TYPE);case value.length<=ALIAS.MAX_ALIAS_LENGTH:return error(options,exports.ERROR_MSG.SMALL_FIELD);case value.length>ADDRESS.MAX_ADDRESS_LENGTH:return error(options,exports.ERROR_MSG.LARGE_FIELD);case!validateAddress(value):return error(options,exports.ERROR_MSG.WRONG_ADDRESS)}};var aliasOrAddress=function(options){try{aliasName(options)}catch(e){address(options)}};var assetId=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value;if(value==null){return null}if(typeof value!=="string"){return error(options,exports.ERROR_MSG.WRONG_TYPE)}var isAssetId=false;try{isAssetId=base58Decode(value.trim()).length===32}catch(e){isAssetId=false}if(!isAssetId&&value!=="WAVES"){return error(options,exports.ERROR_MSG.WRONG_ASSET_ID)}};var timestamp=function(options){required(options);var value=options.value;if(isNaN(value)||value&&!(value instanceof Date||typeof value==="number"||+value)){if(typeof value!=="string"||isNaN(Date.parse(value))){return error(options,exports.ERROR_MSG.WRONG_TIMESTAMP)}}};var orderType=function(options){required(options);var value=options.value;if(value==null){return null}if(typeof value!=="string"){return error(options,exports.ERROR_MSG.WRONG_TYPE)}if(value!=="sell"&&value!=="buy"){return error(options,exports.ERROR_MSG.WRONG_ORDER_TYPE)}};var assetName=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value;if(value!=null){if(typeof value!=="string"){error(options,exports.ERROR_MSG.WRONG_TYPE)}var bytesLength=getBytesFromString(value).length;if(bytesLength<ASSETS.NAME_MIN_BYTES){error(options,exports.ERROR_MSG.SMALL_FIELD)}if(bytesLength>ASSETS.NAME_MAX_BYTES){error(options,exports.ERROR_MSG.LARGE_FIELD)}}};var assetDescription=function(options){options=__assign({},options,{value:numberToString(options.value)});required(options);var value=options.value;if(value!=null){if(typeof value!=="string"){error(options,exports.ERROR_MSG.WRONG_TYPE)}var bytesLength=getBytesFromString(value).length;if(bytesLength>ASSETS.DESCRIPTION_MAX_BYTES){error(options,exports.ERROR_MSG.LARGE_FIELD)}}};var precision=function(options){required(options);numberLike(options,0,8)};var httpsUrl=function(options){required(options);var value=options.value;var isNotUrl=function(url){try{new URL(url);return false}catch(e){return true}};if(value==null){return null}switch(true){case typeof value!=="string":error(options,exports.ERROR_MSG.WRONG_TYPE);break;case value.indexOf("https://")===-1:error(options,exports.ERROR_MSG.NOT_HTTPS_URL);break;case isNotUrl(value):error(options,exports.ERROR_MSG.NOT_HTTPS_URL);break}};var transfers=function(options){required(options);var value=options.value;if(!Array.isArray(value)){error(options,exports.ERROR_MSG.WRONG_TYPE)}if(!options.optional&&value.length===0){error(options,exports.ERROR_MSG.REQUIRED)}var errors=(value||[]).map(function(_a,index){var recipient=_a.recipient,amount=_a.amount,name=_a.name;var dataErrors=[];try{numberLike(__assign({},options,{value:amount,name:options.name+":"+index+":amount",optional:false}))}catch(e){dataErrors.push(e)}try{aliasOrAddress(__assign({},options,{value:recipient||name,name:options.name+":"+index+":recipient",optional:false}))}catch(e){dataErrors.push(e)}return dataErrors}).filter(function(item){return item.length});if(errors.length){error(options,errors);error(options,errors)}};var data=function(options,noKey){required(options);var value=options.value;if(!Array.isArray(value)){error(options,exports.ERROR_MSG.WRONG_TYPE)}var errors=value.map(function(_a,index){var key=_a.key,type=_a.type,value=_a.value;if(!noKey){try{string(__assign({},options,{value:key,name:options.name+":"+index+":key",optional:false}))}catch(e){return e}}var itemOptions=__assign({},options,{name:options.name+":"+index+":value",optional:false,value:value});try{switch(type){case"integer":numberLike(itemOptions);break;case"boolean":boolean(itemOptions);break;case"binary":binary(itemOptions);break;case"string":string(itemOptions);break;default:error(__assign({},options,{value:key,name:options.name+":"+index+":type"}),exports.ERROR_MSG.WRONG_TYPE)}}catch(e){return e}}).filter(function(item){return item});if(errors.length){error(options,errors)}};var binary=function(options){var _a=options.value,value=_a===void 0?"":_a;if(value&&!value.includes("base64:")){error(options,exports.ERROR_MSG.BASE64)}if(value&&!isBase64(value.replace("base64:",""))){error(options,exports.ERROR_MSG.BASE64)}};var script=function(options){binary(options)};var asset_script=function(options){var value=options.value;if(!value||!value.replace("base64:","")){error(options,exports.ERROR_MSG.EMPTY_BASE64)}script(options)};var call=function(options){required(options);var value=options.value;if(value==null){return}if(!value||typeof value!=="object"){error(options,exports.ERROR_MSG.WRONG_TYPE)}var functionValue={key:"call.function",value:value.function,optional:false,type:"string",name:"function"};string(functionValue);var argsValue={key:"call.args",value:value.args,optional:true,type:"args",name:"args"};if(argsValue.value){data(argsValue,true)}};var payment=function(options){required(options);var value=options.value;if(typeof value!=="object"||typeof value.length!=="number"||!value.forEach){error(options,exports.ERROR_MSG.WRONG_TYPE)}var errors=(value||[]).map(function(amount,index){var dataErrors=[];try{money(__assign({},options,{value:amount,name:options.name+":"+index,optional:false}))}catch(e){dataErrors.push(e)}return dataErrors}).filter(function(item){return item.length});if(errors.length){error(options,errors);error(options,errors)}};exports.VALIDATORS={string:string,number:number,required:required,numberLike:numberLike,money:money,aliasName:aliasName,address:address,boolean:boolean,assetId:assetId,timestamp:timestamp,orderType:orderType,assetName:assetName,assetDescription:assetDescription,httpsUrl:httpsUrl,attachment:attachment,transfers:transfers,aliasOrAddress:aliasOrAddress,data:data,script:script,asset_script:asset_script,binary:binary,precision:precision,call:call,payment:payment}},{"@waves/bignumber":undefined,"@waves/data-entities":undefined,"@waves/waves-transactions":undefined}],15:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var _1=require("./");var schemas_1=require("./schemas");var prepare_1=require("./prepare");function default_1(forSign,networkByte){var prepareMap=schemas_1.getValidateSchema(networkByte)[forSign.type];var version=forSign.data.version||Object.keys(_1.SIGN_TYPES[forSign.type].getBytes).sort().pop();var dataForBytes=__assign({},prepare_1.prepare.signSchema(prepareMap)(forSign.data),forSign.data,{version:version,type:forSign.type});var convert=_1.SIGN_TYPES[forSign.type].toNode||null;var signData=convert&&convert(dataForBytes,networkByte)||dataForBytes;return _1.SIGN_TYPES[forSign.type].getBytes[Number(version)](signData)}exports.default=default_1},{"./":16,"./prepare":17,"./schemas":18}],16:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./constants"));__export(require("./prepare"));__export(require("./schemas"));__export(require("./getTxBytes"))},{"./constants":12,"./getTxBytes":15,"./prepare":17,"./schemas":18}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var data_entities_1=require("@waves/data-entities");var bignumber_1=require("@waves/bignumber");var waves_transactions_1=require("@waves/waves-transactions");var fieldValidator_1=require("./fieldValidator");exports.WAVES_ID="WAVES";var _a=waves_transactions_1.libs.crypto,stringToBytes=_a.stringToBytes,base58Encode=_a.base58Encode;var normalizeAssetId=function(id){return id===exports.WAVES_ID?"":id};var prepare;(function(prepare){var processors;(function(processors){function callFunc(callData){if(!callData){return null}return{function:callData&&callData.function||"",args:callData&&callData.args||[]}}processors.callFunc=callFunc;function payments(payments){return(payments||[]).map(function(pay){return{amount:toBigNumber(pay).toString(),assetId:moneyToNodeAssetId(pay)}})}processors.payments=payments;function paymentsToNode(payments){return(payments||[]).map(function(pay){return{amount:toBigNumber(pay),assetId:moneyToNodeAssetId(pay)||null}})}processors.paymentsToNode=paymentsToNode;function scriptProcessor(code){return!!(code||"").replace("base64:","")?code:null}processors.scriptProcessor=scriptProcessor;function assetPair(data){return{amountAsset:normalizeAssetId(data.amount.asset.id),priceAsset:normalizeAssetId(data.price.asset.id)}}processors.assetPair=assetPair;function signatureFromProof(proofs){return proofs[0]}processors.signatureFromProof=signatureFromProof;function toBigNumber(some){switch(typeof some){case"string":case"number":return new bignumber_1.BigNumber(some);case"object":if(some instanceof bignumber_1.BigNumber){return some}else{return some.getCoins()}}}processors.toBigNumber=toBigNumber;function toNumberString(some){return toBigNumber(some).toString()}processors.toNumberString=toNumberString;function toSponsorshipFee(moeny){var coins=moeny.getCoins();if(coins.eq(0)){return null}else{return coins}}processors.toSponsorshipFee=toSponsorshipFee;function moneyToAssetId(money){return money.asset.id}processors.moneyToAssetId=moneyToAssetId;function moneyToNodeAssetId(money){return idToNode(money.asset.id)}processors.moneyToNodeAssetId=moneyToNodeAssetId;function timestamp(time){if(!+time&&typeof time==="string"){return Date.parse(time)}return time&&time instanceof Date?time.getTime():time}processors.timestamp=timestamp;function orString(data){return data||""}processors.orString=orString;function noProcess(data){return data}processors.noProcess=noProcess;processors.recipient=function(networkByte){return function(data){return data.length<=30?"alias:"+networkByte+":"+data:data}};function attachment(data){data=data||"";var value=data;if(typeof data==="string"){value=stringToBytes(data)}return base58Encode(Uint8Array.from(value))}processors.attachment=attachment;function addValue(value){return typeof value==="function"?value:function(){return value}}processors.addValue=addValue;function expiration(date){return date||(new Date).setDate((new Date).getDate()+20)}processors.expiration=expiration;function transfers(recipient,amount){return function(transfers){return transfers.map(function(transfer){return{recipient:recipient(transfer.recipient),amount:amount(transfer.amount)}})}}processors.transfers=transfers;function quantity(data){return new bignumber_1.BigNumber(data.quantity).mul(new bignumber_1.BigNumber(10).pow(data.precision))}processors.quantity=quantity;function base64(str){return(str||"").replace("base64:","")}processors.base64=base64;function toOrderPrice(order){var assetPair=new data_entities_1.AssetPair(order.amount.asset,order.price.asset);var orderPrice=data_entities_1.OrderPrice.fromTokens(order.price.toTokens(),assetPair);return orderPrice.getMatcherCoins()}processors.toOrderPrice=toOrderPrice})(processors=prepare.processors||(prepare.processors={}));function wrap(from,to,cb){if(typeof cb!="function"){return{from:from,to:to,cb:function(){return cb}}}return{from:from,to:to,cb:cb}}prepare.wrap=wrap;function schema(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return function(data){return args.map(function(item){return typeof item==="string"?{key:item,value:processors.noProcess(data[item])}:{key:item.to,value:item.cb(item.from?data[item.from]:data)}}).reduce(function(result,item){result[item.key]=item.value;return result},Object.create(null))}}prepare.schema=schema;function signSchema(args){return function(data,validate){if(validate===void 0){validate=false}var errors=[];var prepareData=args.map(function(item){var wrapped=wrap(item.name,item.field,item.processor||processors.noProcess);var validateOptions={key:wrapped.to,value:wrapped.from?data[wrapped.from]:data,optional:item.optional,optionalData:item.optionalData,type:item.type,name:item.name};var validator=fieldValidator_1.VALIDATORS[validateOptions.type];try{if(validate&&validator){validator(validateOptions)}return{key:validateOptions.key,value:wrapped.cb(validateOptions.value)}}catch(e){errors.push(e)}return{key:validateOptions.key,value:null}}).reduce(function(result,_a){var key=_a.key,value=_a.value;result[key]=value;return result},Object.create(null));if(errors.length){throw new Error(JSON.stringify(errors))}return prepareData}}prepare.signSchema=signSchema;function idToNode(id){return id===exports.WAVES_ID?"":id}prepare.idToNode=idToNode})(prepare=exports.prepare||(exports.prepare={}))},{"./fieldValidator":14,"@waves/bignumber":undefined,"@waves/data-entities":undefined,"@waves/waves-transactions":undefined}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var prepare_1=require("./prepare");var constants_1=require("./constants");var fieldsType=require("./fieldTypes");var processors=prepare_1.prepare.processors;exports.getValidateSchema=function(networkByte){var _a;return _a={},_a[constants_1.SIGN_TYPE.MATCHER_ORDERS]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.timestamp()("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.AUTH]=[fieldsType.string()("prefix",null,processors.addValue("WavesWalletAuthentication"),true),fieldsType.string()("host"),fieldsType.string()("data")],_a[constants_1.SIGN_TYPE.COINOMAT_CONFIRMATION]=[fieldsType.string()("prefix",null,processors.addValue("Coinomat"),true),fieldsType.timestamp()("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.CREATE_ORDER]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.string()("matcherPublicKey"),fieldsType.money()("amount","amountAsset",processors.moneyToAssetId),fieldsType.money()("price","priceAsset",processors.moneyToAssetId),fieldsType.orderType()("orderType"),fieldsType.money()("amount","amount",processors.toBigNumber),fieldsType.fromData()(null,"price",processors.toOrderPrice),fieldsType.money()("matcherFee",null,processors.toBigNumber),fieldsType.timestamp()("expiration",null,processors.expiration),fieldsType.timestamp()("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.CANCEL_ORDER]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.string()("id","orderId")],_a[constants_1.SIGN_TYPE.ISSUE]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.assetName()("name"),fieldsType.assetDescription()("description"),fieldsType.number()("chainId",null,processors.addValue(function(){return networkByte}),true),fieldsType.numberLike()("quantity",null,processors.toBigNumber),fieldsType.precision()("precision"),fieldsType.boolean()("reissuable"),fieldsType.script()("script",null,processors.orString,true),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.timestamp()("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.REISSUE]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.number()("chainId",null,processors.addValue(function(){return networkByte}),true),fieldsType.asset()("assetId"),fieldsType.numberLike()("quantity",null,processors.toBigNumber),fieldsType.boolean()("reissuable"),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.timestamp()("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.EXCHANGE]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.timestamp()("timestamp",null,processors.timestamp),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.fromData()("buyOrder"),fieldsType.fromData()("sellOrder"),fieldsType.numberLike()("amount","amount",processors.toBigNumber),fieldsType.numberLike()("price","price",processors.toBigNumber),fieldsType.numberLike()("buyMatcherFee","buyMatcherFee",processors.toBigNumber),fieldsType.numberLike()("sellMatcherFee","sellMatcherFee",processors.toBigNumber)],_a[constants_1.SIGN_TYPE.BURN]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.number()("chainId",null,processors.addValue(function(){return networkByte}),true),fieldsType.asset()("assetId"),fieldsType.numberLike()("amount","quantity",processors.toBigNumber),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.timestamp()("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.SPONSORSHIP]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.money()("minSponsoredAssetFee","assetId",processors.moneyToAssetId),fieldsType.numberLike()("minSponsoredAssetFee",null,processors.toBigNumber),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.timestamp()("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.TRANSFER]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.money()("amount","assetId",processors.moneyToAssetId),fieldsType.required()("amount",null,processors.toBigNumber),fieldsType.money()("fee","feeAssetId",processors.moneyToAssetId),fieldsType.required()("fee","fee",processors.toBigNumber),fieldsType.timestamp()("timestamp",null,processors.timestamp),fieldsType.aliasOrAddress(networkByte)("recipient"),fieldsType.attachment()("attachment",null,processors.orString,true)],_a[constants_1.SIGN_TYPE.LEASE]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.number()("chainId",null,processors.addValue(function(){return networkByte}),true),fieldsType.aliasOrAddress(networkByte)("recipient"),fieldsType.numberLike()("amount",null,processors.toBigNumber),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.timestamp()("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.CANCEL_LEASING]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.number()("chainId",null,processors.addValue(function(){return networkByte}),true),fieldsType.string()("leaseId","transactionId"),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.timestamp()("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.CREATE_ALIAS]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.number()("chainId",null,processors.addValue(function(){return networkByte}),true),fieldsType.aliasName(networkByte)("alias"),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.timestamp()("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.MASS_TRANSFER]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.money()("totalAmount","assetId",processors.moneyToAssetId),fieldsType.transfers(networkByte)("transfers",null,processors.transfers(processors.noProcess,processors.toBigNumber)),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.attachment()("attachment",null,processors.orString,true),fieldsType.timestamp()("timestamp",null,processors.timestamp)],_a[constants_1.SIGN_TYPE.DATA]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.timestamp()("timestamp",null,processors.timestamp),fieldsType.data()("data")],_a[constants_1.SIGN_TYPE.SET_SCRIPT]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.timestamp()("timestamp",null,processors.timestamp),fieldsType.number()("chainId",null,processors.addValue(function(){return networkByte}),true),fieldsType.script()("script")],_a[constants_1.SIGN_TYPE.SET_ASSET_SCRIPT]=[fieldsType.string()("senderPublicKey",null,null,true),fieldsType.asset()("assetId"),fieldsType.numberLike()("fee",null,processors.toBigNumber),fieldsType.timestamp()("timestamp",null,processors.timestamp),fieldsType.number()("chainId",null,processors.addValue(function(){return networkByte}),true),fieldsType.asset_script()("script")],_a[constants_1.SIGN_TYPE.SCRIPT_INVOCATION]=[fieldsType.number()("type",null,processors.addValue(function(){return constants_1.SIGN_TYPE.SCRIPT_INVOCATION}),true),fieldsType.number()("version",null,processors.addValue(function(){return 1}),true),fieldsType.string()("senderPublicKey",null,null,true),fieldsType.aliasOrAddress(networkByte)("dApp"),fieldsType.call()("call","call",processors.callFunc,true),fieldsType.payment()("payment",null,processors.payments,true),fieldsType.numberLike()("fee",null,processors.toNumberString),fieldsType.numberLike()("fee","assetId",processors.moneyToAssetId),fieldsType.timestamp()("timestamp",null,processors.timestamp),fieldsType.number()("chainId",null,processors.addValue(networkByte),true)],_a}},{"./constants":12,"./fieldTypes":13,"./prepare":17}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var bignumber_1=require("@waves/bignumber");var ramda_1=require("ramda");var prepareTx_1=require("./prepareTx");function find(some,list){var keys=Object.keys(some);var isEqual=function(a){return keys.every(function(n){return a[n]===some[n]})};for(var i=0;i<list.length;i++){if(isEqual(list[i])){return list[i]}}return null}exports.find=find;function isEmpty(some){return some==null}exports.isEmpty=isEmpty;function normalizeAssetId(assetId){return assetId||prepareTx_1.WAVES_ID}exports.normalizeAssetId=normalizeAssetId;function last(list){return list[list.length-1]}exports.last=last;exports.TRANSACTION_TYPE={GENESIS:1,PAYMENT:2,ISSUE:3,TRANSFER:4,REISSUE:5,BURN:6,EXCHANGE:7,LEASE:8,CANCEL_LEASE:9,ALIAS:10,MASS_TRANSFER:11,DATA:12,SET_SCRIPT:13,SPONSORSHIP:14,SET_ASSET_SCRIPT:15,SCRIPT_INVOCATION:16};function currentCreateOrderFactory(config,minOrderFee){return function(order,hasScript,smartAssetIdList){if(hasScript===void 0){hasScript=false}if(smartAssetIdList===void 0){smartAssetIdList=[]}var accountFee=hasScript?new bignumber_1.BigNumber(config.smart_account_extra_fee):new bignumber_1.BigNumber(0);var extraFee=Object.values(order.assetPair).map(function(id){return id&&smartAssetIdList.includes(id)?new bignumber_1.BigNumber(config.smart_asset_extra_fee):new bignumber_1.BigNumber(0)}).reduce(function(sum,item){return sum.add(item)},new bignumber_1.BigNumber(0));return minOrderFee.add(accountFee).add(extraFee)}}exports.currentCreateOrderFactory=currentCreateOrderFactory;function currentFeeFactory(config){return function(tx,bytes,hasAccountScript,smartAssetIdList){var accountFee=hasAccountScript?new bignumber_1.BigNumber(config.smart_account_extra_fee):new bignumber_1.BigNumber(0);var minFee=accountFee.add(getConfigProperty(tx.type,"fee",config));switch(tx.type){case exports.TRANSACTION_TYPE.CANCEL_LEASE:case exports.TRANSACTION_TYPE.ALIAS:case exports.TRANSACTION_TYPE.LEASE:case exports.TRANSACTION_TYPE.SET_ASSET_SCRIPT:case exports.TRANSACTION_TYPE.SET_SCRIPT:case exports.TRANSACTION_TYPE.SPONSORSHIP:return minFee;case exports.TRANSACTION_TYPE.REISSUE:case exports.TRANSACTION_TYPE.BURN:case exports.TRANSACTION_TYPE.TRANSFER:return minFee.add(getSmartAssetFeeByAssetId(tx.assetId,config,smartAssetIdList||[]));case exports.TRANSACTION_TYPE.MASS_TRANSFER:return minFee.add(getMassTransferFee(tx,config,smartAssetIdList||[]));case exports.TRANSACTION_TYPE.DATA:return accountFee.add(getDataFee(bytes,tx,config));case exports.TRANSACTION_TYPE.ISSUE:return getIssueFee(tx,accountFee,config);default:throw new Error("Wrong transaction type!")}}}exports.currentFeeFactory=currentFeeFactory;function isNFT(tx){var quantity=tx.quantity,precision=tx.precision,decimals=tx.decimals,reissuable=tx.reissuable;var nftQuantity=new bignumber_1.BigNumber(quantity).eq(1);var nftPrecision=new bignumber_1.BigNumber(precision||decimals||0).eq(0);return!reissuable&&nftPrecision&&nftQuantity}function getIssueFee(tx,accountFee,config){var minFee=accountFee.add(getConfigProperty(tx.type,"fee",config));if(isNFT(tx)){return accountFee.add(getConfigProperty(tx.type,"nftFee",config))}else{return minFee}}function getSmartAssetFeeByAssetId(assetId,config,smartAssetIdList){return assetId&&smartAssetIdList.includes(assetId)?new bignumber_1.BigNumber(config.smart_asset_extra_fee):new bignumber_1.BigNumber(0)}function getDataFee(bytes,tx,config){var kbPrice=getConfigProperty(tx.type,"price_per_kb",config)||0;return new bignumber_1.BigNumber(kbPrice).mul(Math.floor(1+(bytes.length-1)/1024))}function getMassTransferFee(tx,config,smartAssetIdList){var transferPrice=new bignumber_1.BigNumber(getConfigProperty(tx.type,"price_per_transfer",config)||0);var transfersCount=ramda_1.path(["transfers","length"],tx)||0;var smartAssetExtraFee=tx.assetId&&smartAssetIdList.includes(tx.assetId)?new bignumber_1.BigNumber(config.smart_asset_extra_fee):new bignumber_1.BigNumber(0);var minPriceStep=new bignumber_1.BigNumber(getConfigProperty(tx.type,"min_price_step",config));var price=transferPrice.mul(transfersCount);if(!price.div(minPriceStep).isInt()){price=price.div(minPriceStep).roundTo(0,0).mul(minPriceStep)}return price.add(smartAssetExtraFee)}function getConfigProperty(type,propertyName,config){var value=ramda_1.path(["calculate_fee_rules",type,propertyName],config);return isEmpty(value)?ramda_1.path(["calculate_fee_rules","default",propertyName],config):value}},{"./prepareTx":16,"@waves/bignumber":undefined,ramda:128}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TYPES={GENESIS:1,PAYMENT:2,ISSUE:3,TRANSFER:4,REISSUE:5,BURN:6,EXCHANGE:7,LEASE:8,CANCEL_LEASE:9,ALIAS:10,MASS_TRANSFER:11,DATA:12,SET_SCRIPT:13,SPONSORSHIP:14,SET_ASSET_SCRIPT:15,INVOKE_SCRIPT:16};exports.ALIAS={AVAILABLE_CHARS:"-.0123456789@_abcdefghijklmnopqrstuvwxyz",MAX_ALIAS_LENGTH:30,MIN_ALIAS_LENGTH:4}},{}],21:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var constants_1=require("../constants");var utils_1=require("../utils");var defaultConvert=function(data,factory){return Object.assign({},data,{fee:factory(data.fee)})};exports.issue=function(tx,factory){return __assign({},defaultConvert(tx,factory),{quantity:factory(tx.quantity)})};exports.transfer=function(tx,factory){return __assign({},defaultConvert(tx,factory),{amount:factory(tx.amount)})};exports.reissue=function(tx,factory){return __assign({},defaultConvert(tx,factory),{quantity:factory(tx.quantity)})};exports.burn=function(tx,factory){return __assign({},defaultConvert(tx,factory),{quantity:factory(tx.quantity)})};exports.order=function(data,factory){return __assign({},data,{price:factory(data.price),amount:factory(data.amount),matcherFee:factory(data.matcherFee)})};exports.exchange=function(tx,factory){return __assign({},defaultConvert(tx,factory),{buyOrder:exports.order(tx.buyOrder,factory),sellOrder:exports.order(tx.sellOrder,factory),amount:factory(tx.amount),price:factory(tx.price),sellMatcherFee:factory(tx.sellMatcherFee),buyMatcherFee:factory(tx.buyMatcherFee)})};exports.lease=function(tx,factory){return __assign({},defaultConvert(tx,factory),{amount:factory(tx.amount)})};exports.cancelLease=function(tx,factory){return defaultConvert(tx,factory)};exports.alias=function(tx,factory){return defaultConvert(tx,factory)};exports.massTransfer=function(tx,factory){return __assign({},defaultConvert(tx,factory),{transfers:tx.transfers.map(function(item){return __assign({},item,{amount:factory(item.amount)})})})};exports.data=function(tx,factory){return __assign({},defaultConvert(tx,factory),{data:tx.data.map(function(item){switch(item.type){case"integer":return __assign({},item,{value:factory(item.value)});default:return item}})})};exports.setScript=function(tx,factory){return defaultConvert(tx,factory)};exports.sponsorship=function(tx,factory){return __assign({},defaultConvert(tx,factory),{minSponsoredAssetFee:factory(tx.minSponsoredAssetFee)})};exports.invokeScript=function(tx,factory){return __assign({},defaultConvert(tx,factory),{payment:tx.payment&&tx.payment.map(function(item){return __assign({},item,{amount:factory(item.amount)})}),call:__assign({},tx.call,{args:tx.call&&tx.call.args.map(function(item){return __assign({},item,{value:item.type==="integer"?factory(item.value):item.value})})})})};exports.setAssetScript=function(tx,factory){return defaultConvert(tx,factory)};function convert(tx,factory){if(utils_1.isOrder(tx)){return exports.order(tx,factory)}switch(tx.type){case constants_1.TYPES.ISSUE:return exports.issue(tx,factory);case constants_1.TYPES.TRANSFER:return exports.transfer(tx,factory);case constants_1.TYPES.REISSUE:return exports.reissue(tx,factory);case constants_1.TYPES.BURN:return exports.burn(tx,factory);case constants_1.TYPES.EXCHANGE:return exports.exchange(tx,factory);case constants_1.TYPES.LEASE:return exports.lease(tx,factory);case constants_1.TYPES.CANCEL_LEASE:return exports.cancelLease(tx,factory);case constants_1.TYPES.ALIAS:return exports.alias(tx,factory);case constants_1.TYPES.MASS_TRANSFER:return exports.massTransfer(tx,factory);case constants_1.TYPES.DATA:return exports.data(tx,factory);case constants_1.TYPES.SET_SCRIPT:return exports.setScript(tx,factory);case constants_1.TYPES.SPONSORSHIP:return exports.sponsorship(tx,factory);case constants_1.TYPES.SET_ASSET_SCRIPT:return exports.setAssetScript(tx,factory);case constants_1.TYPES.INVOKE_SCRIPT:return exports.invokeScript(tx,factory);default:throw new Error("Unknown transaction type!")}}exports.convert=convert},{"../constants":20,"../utils":40}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.factory=function(transform){return function(data){var errors=[];var result=Object.entries(transform).reduce(function(acc,_a){var _b;var name=_a[0],transformer=_a[1];try{var value=transformer(data);return Object.assign(acc,(_b={},_b[name]=value,_b))}catch(e){errors.push({path:name,message:e.message})}},Object.create(null));if(errors.length){throw new Error("Errors: "+JSON.stringify(errors,null,4))}return result}}},{}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var converters_1=require("./converters");exports.convert=converters_1.convert;var toNodeEntities_1=require("./toNodeEntities");exports.toNode=toNodeEntities_1.toNode},{"./converters":21,"./toNodeEntities":30}],24:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var constants_1=require("../constants");var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");var validators_1=require("../validators");exports.alias=factory_1.factory(__assign({},general_1.getDefaultTransform(),{alias:utils_1.pipe(utils_1.prop("alias"),validators_1.validate(validators_1.requiredValidator("alias"),validators_1.createValidator(validators_1.isString,"Alias is not a string!"),validators_1.createValidator(utils_1.pipe(utils_1.length,utils_1.gte(constants_1.ALIAS.MAX_ALIAS_LENGTH)),"Alias max length is "+constants_1.ALIAS.MAX_ALIAS_LENGTH),validators_1.createValidator(utils_1.pipe(utils_1.length,utils_1.lte(constants_1.ALIAS.MIN_ALIAS_LENGTH)),"Alias min length is "+constants_1.ALIAS.MIN_ALIAS_LENGTH),validators_1.createValidator(validators_1.charsInDictionary(constants_1.ALIAS.AVAILABLE_CHARS),'Available alias chars is "'+constants_1.ALIAS.AVAILABLE_CHARS+'"')))}))},{"../constants":20,"../core/factory":22,"../utils":40,"../validators":42,"./general":29}],25:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");exports.burn=factory_1.factory(__assign({},general_1.getDefaultTransform(),{assetId:utils_1.pipe(utils_1.ifElse(utils_1.has("assetId"),utils_1.prop("assetId"),utils_1.pipe(utils_1.prop("quantity"),utils_1.getAssetId)),utils_1.emptyError("Has no assetId!")),quantity:utils_1.pipe(utils_1.prop("quantity"),utils_1.getCoins),chainId:utils_1.prop("chainId")}))},{"../core/factory":22,"../utils":40,"./general":29}],26:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");exports.cancelLease=factory_1.factory(__assign({},general_1.getDefaultTransform(),{leaseId:utils_1.prop("leaseId"),chainId:utils_1.prop("chainId")}))},{"../core/factory":22,"../utils":40,"./general":29}],27:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var ts_types_1=require("@waves/ts-types");var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");var parseValueByType=function(item){switch(item.type){case ts_types_1.DATA_FIELD_TYPE.BINARY:case ts_types_1.DATA_FIELD_TYPE.STRING:case ts_types_1.DATA_FIELD_TYPE.BOOLEAN:return item.value;case ts_types_1.DATA_FIELD_TYPE.INTEGER:return utils_1.getCoins(item.value)}};var remapDataEntryItem=function(item){return{key:utils_1.prop("key",item),type:utils_1.prop("type",item),value:parseValueByType(item)}};exports.data=factory_1.factory(__assign({},general_1.getDefaultTransform(),{data:utils_1.pipe(utils_1.prop("data"),utils_1.map(remapDataEntryItem))}))},{"../core/factory":22,"../utils":40,"./general":29,"@waves/ts-types":43}],28:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");var getAssetPair=factory_1.factory({amountAsset:utils_1.pipe(utils_1.prop("amount"),utils_1.getAssetId),priceAsset:utils_1.pipe(utils_1.prop("price"),utils_1.getAssetId)});exports.remapOrder=factory_1.factory({version:utils_1.prop("version"),matcherPublicKey:utils_1.prop("matcherPublicKey"),orderType:utils_1.prop("orderType"),timestamp:utils_1.prop("timestamp"),expiration:utils_1.prop("expiration"),senderPublicKey:utils_1.prop("senderPublicKey"),proofs:utils_1.prop("proofs"),price:utils_1.pipe(utils_1.prop("price"),utils_1.getCoins),amount:utils_1.pipe(utils_1.prop("amount"),utils_1.getCoins),matcherFee:utils_1.pipe(utils_1.prop("matcherFee"),utils_1.getCoins),matcherFeeAssetId:utils_1.pipe(utils_1.prop("matcherFee"),utils_1.getAssetId),assetPair:getAssetPair});exports.exchange=factory_1.factory(__assign({},general_1.getDefaultTransform(),{buyOrder:utils_1.pipe(utils_1.prop("buyOrder"),exports.remapOrder),sellOrder:utils_1.pipe(utils_1.prop("sellOrder"),exports.remapOrder),price:utils_1.pipe(utils_1.prop("price"),utils_1.getCoins),amount:utils_1.pipe(utils_1.prop("amount"),utils_1.getCoins),buyMatcherFee:utils_1.pipe(utils_1.prop("buyMatcherFee"),utils_1.getCoins),sellMatcherFee:utils_1.pipe(utils_1.prop("sellMatcherFee"),utils_1.getCoins)}))},{"../core/factory":22,"../utils":40,"./general":29}],29:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var utils_1=require("../utils");var validators_1=require("../validators");var processTimestamp=function(timestamp){return timestamp||Date.now()};exports.getDefaultTransform=function(){return{type:utils_1.pipe(utils_1.prop("type"),validators_1.validate(validators_1.requiredValidator("type"))),version:utils_1.pipe(utils_1.prop("version"),validators_1.validate(validators_1.requiredValidator("version"))),senderPublicKey:utils_1.pipe(utils_1.prop("senderPublicKey"),validators_1.validate(validators_1.requiredValidator("senderPublicKey"))),timestamp:utils_1.pipe(utils_1.prop("timestamp"),processTimestamp),fee:utils_1.pipe(utils_1.prop("fee"),utils_1.getCoins,validators_1.validate(validators_1.requiredValidator("fee")))}}},{"../utils":40,"../validators":42}],30:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var alias_1=require("./alias");var burn_1=require("./burn");var cancelLease_1=require("./cancelLease");var data_1=require("./data");var exchange_1=require("./exchange");var issue_1=require("./issue");var reissue_1=require("./reissue");var lease_1=require("./lease");var massTransfer_1=require("./massTransfer");var setAssetScript_1=require("./setAssetScript");var setScript_1=require("./setScript");var sponsorship_1=require("./sponsorship");var transfer_1=require("./transfer");var constants_1=require("../constants");var utils_1=require("../utils");var invokeScript_1=require("./invokeScript");exports.node={alias:alias_1.alias,burn:burn_1.burn,cancelLease:cancelLease_1.cancelLease,data:data_1.data,exchange:exchange_1.exchange,issue:issue_1.issue,reissue:reissue_1.reissue,lease:lease_1.lease,massTransfer:massTransfer_1.massTransfer,setAssetScript:setAssetScript_1.setAssetScript,setScript:setScript_1.setScript,sponsorship:sponsorship_1.sponsorship,transfer:transfer_1.transfer,order:exchange_1.remapOrder,invokeScript:invokeScript_1.invokeScript};function toNode(item){if(utils_1.isOrder(item)){return exchange_1.remapOrder(item)}switch(item.type){case constants_1.TYPES.ISSUE:return issue_1.issue(item);case constants_1.TYPES.TRANSFER:return transfer_1.transfer(item);case constants_1.TYPES.REISSUE:return reissue_1.reissue(item);case constants_1.TYPES.BURN:return burn_1.burn(item);case constants_1.TYPES.EXCHANGE:return exchange_1.exchange(item);case constants_1.TYPES.LEASE:return lease_1.lease(item);case constants_1.TYPES.CANCEL_LEASE:return cancelLease_1.cancelLease(item);case constants_1.TYPES.ALIAS:return alias_1.alias(item);case constants_1.TYPES.MASS_TRANSFER:return massTransfer_1.massTransfer(item);case constants_1.TYPES.DATA:return data_1.data(item);case constants_1.TYPES.SET_SCRIPT:return setScript_1.setScript(item);case constants_1.TYPES.SPONSORSHIP:return sponsorship_1.sponsorship(item);case constants_1.TYPES.SET_ASSET_SCRIPT:return setAssetScript_1.setAssetScript(item);case constants_1.TYPES.INVOKE_SCRIPT:return invokeScript_1.invokeScript(item);default:throw new Error("Unknown transaction type!")}}exports.toNode=toNode},{"../constants":20,"../utils":40,"./alias":24,"./burn":25,"./cancelLease":26,"./data":27,"./exchange":28,"./invokeScript":31,"./issue":32,"./lease":33,"./massTransfer":34,"./reissue":35,"./setAssetScript":36,"./setScript":37,"./sponsorship":38,"./transfer":39}],31:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");var isNull=function(data){return data==null};var defaultNull=function(){return null};var processArgument=function(data){if(data.type==="integer"){return{type:data.type,value:utils_1.getCoins(data.value)}}else{return data}};var processCall=factory_1.factory({function:utils_1.prop("function"),args:utils_1.pipe(utils_1.prop("args"),utils_1.map(processArgument))});var processPayment=factory_1.factory({amount:utils_1.getCoins,assetId:utils_1.getAssetId});exports.invokeScript=factory_1.factory(__assign({},general_1.getDefaultTransform(),{chainId:utils_1.prop("chainId"),dApp:utils_1.prop("dApp"),feeAssetId:utils_1.pipe(utils_1.prop("fee"),utils_1.getAssetId,utils_1.defaultTo("WAVES")),call:utils_1.pipe(utils_1.prop("call"),utils_1.ifElse(isNull,defaultNull,function(call){return processCall(call)})),payment:utils_1.pipe(utils_1.prop("payment"),utils_1.ifElse(isNull,defaultNull,function(payment){return utils_1.map(processPayment)(payment)}))}))},{"../core/factory":22,"../utils":40,"./general":29}],32:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");exports.issue=factory_1.factory(__assign({},general_1.getDefaultTransform(),{name:utils_1.prop("name"),description:utils_1.prop("description"),decimals:utils_1.prop("precision"),quantity:utils_1.pipe(utils_1.prop("quantity"),utils_1.getCoins),reissuable:utils_1.prop("reissuable"),chainId:utils_1.prop("chainId"),script:utils_1.prop("script")}))},{"../core/factory":22,"../utils":40,"./general":29}],33:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");exports.lease=factory_1.factory(__assign({},general_1.getDefaultTransform(),{amount:utils_1.pipe(utils_1.prop("amount"),utils_1.getCoins),recipient:utils_1.prop("recipient")}))},{"../core/factory":22,"../utils":40,"./general":29}],34:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");var remapTransferItem=factory_1.factory({recipient:utils_1.prop("recipient"),amount:utils_1.pipe(utils_1.prop("amount"),utils_1.getCoins)});var getFirstMassTransferItem=function(list){if(!list.length){throw new Error("MassTransfer transaction must have one transfer!")}return list[0]};exports.massTransfer=factory_1.factory(__assign({},general_1.getDefaultTransform(),{transfers:utils_1.pipe(utils_1.prop("transfers"),utils_1.map(remapTransferItem)),assetId:utils_1.pipe(utils_1.ifElse(utils_1.has("assetId"),utils_1.prop("assetId"),utils_1.pipe(utils_1.prop("transfers"),getFirstMassTransferItem,utils_1.prop("amount"),utils_1.getAssetId)),utils_1.emptyError("Has no assetId!")),attachment:utils_1.prop("attachment")}))},{"../core/factory":22,"../utils":40,"./general":29}],35:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");exports.reissue=factory_1.factory(__assign({},general_1.getDefaultTransform(),{assetId:utils_1.pipe(utils_1.ifElse(utils_1.has("assetId"),utils_1.prop("assetId"),utils_1.pipe(utils_1.prop("quantity"),utils_1.getAssetId)),utils_1.emptyError("Has no assetId!")),quantity:utils_1.pipe(utils_1.prop("quantity"),utils_1.getCoins),reissuable:utils_1.prop("reissuable"),chainId:utils_1.prop("chainId")}))},{"../core/factory":22,"../utils":40,"./general":29}],36:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");exports.setAssetScript=factory_1.factory(__assign({},general_1.getDefaultTransform(),{assetId:utils_1.prop("assetId"),script:utils_1.prop("script"),chainId:utils_1.prop("chainId")}))},{"../core/factory":22,"../utils":40,"./general":29}],37:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");exports.setScript=factory_1.factory(__assign({},general_1.getDefaultTransform(),{script:utils_1.prop("script"),chainId:utils_1.prop("chainId")}))},{"../core/factory":22,"../utils":40,"./general":29}],38:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");exports.sponsorship=factory_1.factory(__assign({},general_1.getDefaultTransform(),{assetId:utils_1.pipe(utils_1.prop("minSponsoredAssetFee"),utils_1.getAssetId),minSponsoredAssetFee:utils_1.pipe(utils_1.prop("minSponsoredAssetFee"),utils_1.getCoins)}))},{"../core/factory":22,"../utils":40,"./general":29}],39:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var factory_1=require("../core/factory");var general_1=require("./general");var utils_1=require("../utils");exports.transfer=factory_1.factory(__assign({},general_1.getDefaultTransform(),{recipient:utils_1.prop("recipient"),amount:utils_1.pipe(utils_1.prop("amount"),utils_1.getCoins),feeAssetId:utils_1.pipe(utils_1.prop("fee"),utils_1.getAssetId,utils_1.defaultTo("WAVES")),assetId:utils_1.pipe(utils_1.prop("amount"),utils_1.getAssetId),attachment:utils_1.pipe(utils_1.prop("attachment"),utils_1.defaultTo(""))}))},{"../core/factory":22,"../utils":40,"./general":29}],40:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./utils"))},{"./utils":41}],41:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function getAssetId(money){if(!money||typeof money!=="object"){return null}if("toCoins"in money){return money.asset.id}else if("assetId"in money){return money.assetId}else{return null}}exports.getAssetId=getAssetId;function getCoins(money){var result;if(money==null){return null}if(typeof money==="object"){if("toCoins"in money){result=money.toCoins()}else if("toFixed"in money){result=money.toFixed()}else{result=String(money.coins)}}else{result=String(money)}return result}exports.getCoins=getCoins;exports.curry=function(func){function loop(callback){var local=[];for(var _i=1;_i<arguments.length;_i++){local[_i-1]=arguments[_i]}if(callback.length<=local.length){return callback.apply(void 0,local)}else{return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return loop.apply(void 0,[func].concat(local.concat(args)))}}}return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return loop.apply(void 0,[func].concat(args))}};exports.ifElse=function(expression,resolve,reject){return function(data){return expression(data)?resolve(data):reject(data)}};exports.has=exports.curry(function(prop,data){return Object.prototype.hasOwnProperty.call(data,prop)});exports.emptyError=function(message){return function(value){if(value==null){throw new Error(message)}return value}};function isOrder(data){return"orderType"in data}exports.isOrder=isOrder;exports.length=function(some){return some.length};exports.lt=exports.curry(function(a,b){return a<b});exports.gt=exports.curry(function(a,b){return a>b});exports.lte=exports.curry(function(a,b){return a<=b});exports.gte=exports.curry(function(a,b){return a>=b});exports.head=function(list){return list[0]};exports.defaultTo=function(value){return function(data){return data==null?value:data}};exports.map=exports.curry(function(cb,list){return list.map(cb)});exports.prop=exports.curry(function(key,data){return Object.prototype.hasOwnProperty.call(data,key)?data[key]:undefined});exports.pipe=function(){var processors=[];for(var _i=0;_i<arguments.length;_i++){processors[_i]=arguments[_i]}return function(initial){return processors.reduce(function(acc,cb){return cb(acc)},initial)}}},{}],42:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isBase64=function(value){var regExp=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;return regExp.test(value)};function isString(value){return typeof value==="string"}exports.isString=isString;exports.required=function(value){return value!=null};exports.charsInDictionary=function(dictionary){return function(value){return value.split("").every(function(char){return dictionary.includes(char)})}};exports.createValidator=function(validateFunction,message){return function(data){if(validateFunction(data)){return null}else{return message}}};exports.requiredValidator=function(property){return exports.createValidator(exports.required,'Property "'+property+'" is required!')};function validate(){var validators=[];for(var _i=0;_i<arguments.length;_i++){validators[_i]=arguments[_i]}return function(data){var errors=validators.reduce(function(errors,validator){var message=validator(data);if(message){errors.push(message)}return errors},[]);if(errors.length){throw new Error("Validation error! Details: "+JSON.stringify(errors,null,4))}return data}}exports.validate=validate},{}],43:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TRANSACTION_TYPE={GENESIS:1,PAYMENT:2,ISSUE:3,TRANSFER:4,REISSUE:5,BURN:6,EXCHANGE:7,LEASE:8,CANCEL_LEASE:9,ALIAS:10,MASS_TRANSFER:11,DATA:12,SET_SCRIPT:13,SPONSORSHIP:14,SET_ASSET_SCRIPT:15,INVOKE_SCRIPT:16};exports.DATA_FIELD_TYPE={INTEGER:"integer",BOOLEAN:"boolean",STRING:"string",BINARY:"binary"}},{}],44:[function(require,module,exports){var always=require("./always");var F=always(false);module.exports=F},{"./always":52}],45:[function(require,module,exports){var always=require("./always");var T=always(true);module.exports=T},{"./always":52}],46:[function(require,module,exports){module.exports={"@@functional/placeholder":true}},{}],47:[function(require,module,exports){var _curry2=require("./internal/_curry2");var add=_curry2(function add(a,b){return Number(a)+Number(b)});module.exports=add},{"./internal/_curry2":149}],48:[function(require,module,exports){var _concat=require("./internal/_concat");var _curry1=require("./internal/_curry1");var curryN=require("./curryN");var addIndex=_curry1(function addIndex(fn){return curryN(fn.length,function(){var idx=0;var origFn=arguments[0];var list=arguments[arguments.length-1];var args=Array.prototype.slice.call(arguments,0);args[0]=function(){var result=origFn.apply(this,_concat(arguments,[idx,list]));idx+=1;return result};return fn.apply(this,args)})});module.exports=addIndex},{"./curryN":85,"./internal/_concat":144,"./internal/_curry1":148}],49:[function(require,module,exports){var _concat=require("./internal/_concat");var _curry3=require("./internal/_curry3");var adjust=_curry3(function adjust(fn,idx,list){if(idx>=list.length||idx<-list.length){return list}var start=idx<0?list.length:0;var _idx=start+idx;var _list=_concat(list);_list[_idx]=fn(list[_idx]);return _list});module.exports=adjust},{"./internal/_concat":144,"./internal/_curry3":150}],50:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xall=require("./internal/_xall");var all=_curry2(_dispatchable(["all"],_xall,function all(fn,list){var idx=0;while(idx<list.length){if(!fn(list[idx])){return false}idx+=1}return true}));module.exports=all},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xall":186}],51:[function(require,module,exports){var _curry1=require("./internal/_curry1");var curryN=require("./curryN");var max=require("./max");var pluck=require("./pluck");var reduce=require("./reduce");var allPass=_curry1(function allPass(preds){return curryN(reduce(max,0,pluck("length",preds)),function(){var idx=0;var len=preds.length;while(idx<len){if(!preds[idx].apply(this,arguments)){return false}idx+=1}return true})});module.exports=allPass},{"./curryN":85,"./internal/_curry1":148,"./max":237,"./pluck":282,"./reduce":293}],52:[function(require,module,exports){var _curry1=require("./internal/_curry1");var always=_curry1(function always(val){return function(){return val}});module.exports=always},{"./internal/_curry1":148}],53:[function(require,module,exports){var _curry2=require("./internal/_curry2");var and=_curry2(function and(a,b){return a&&b});module.exports=and},{"./internal/_curry2":149}],54:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xany=require("./internal/_xany");var any=_curry2(_dispatchable(["any"],_xany,function any(fn,list){var idx=0;while(idx<list.length){if(fn(list[idx])){return true}idx+=1}return false}));module.exports=any},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xany":187}],55:[function(require,module,exports){var _curry1=require("./internal/_curry1");var curryN=require("./curryN");var max=require("./max");var pluck=require("./pluck");var reduce=require("./reduce");var anyPass=_curry1(function anyPass(preds){return curryN(reduce(max,0,pluck("length",preds)),function(){var idx=0;var len=preds.length;while(idx<len){if(preds[idx].apply(this,arguments)){return true}idx+=1}return false})});module.exports=anyPass},{"./curryN":85,"./internal/_curry1":148,"./max":237,"./pluck":282,"./reduce":293}],56:[function(require,module,exports){var _concat=require("./internal/_concat");var _curry2=require("./internal/_curry2");var _reduce=require("./internal/_reduce");var map=require("./map");var ap=_curry2(function ap(applyF,applyX){return typeof applyX["fantasy-land/ap"]==="function"?applyX["fantasy-land/ap"](applyF):typeof applyF.ap==="function"?applyF.ap(applyX):typeof applyF==="function"?function(x){return applyF(x)(applyX(x))}:_reduce(function(acc,f){return _concat(acc,map(f,applyX))},[],applyF)});module.exports=ap},{"./internal/_concat":144,"./internal/_curry2":149,"./internal/_reduce":181,"./map":231}],57:[function(require,module,exports){var _aperture=require("./internal/_aperture");var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xaperture=require("./internal/_xaperture");var aperture=_curry2(_dispatchable([],_xaperture,_aperture));module.exports=aperture},{"./internal/_aperture":136,"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xaperture":188}],58:[function(require,module,exports){var _concat=require("./internal/_concat");var _curry2=require("./internal/_curry2");var append=_curry2(function append(el,list){return _concat(list,[el])});module.exports=append},{"./internal/_concat":144,"./internal/_curry2":149}],59:[function(require,module,exports){var _curry2=require("./internal/_curry2");var apply=_curry2(function apply(fn,args){return fn.apply(this,args)});module.exports=apply},{"./internal/_curry2":149}],60:[function(require,module,exports){var _curry1=require("./internal/_curry1");var apply=require("./apply");var curryN=require("./curryN");var map=require("./map");var max=require("./max");var pluck=require("./pluck");var reduce=require("./reduce");var values=require("./values");var applySpec=_curry1(function applySpec(spec){spec=map(function(v){return typeof v=="function"?v:applySpec(v)},spec);return curryN(reduce(max,0,pluck("length",values(spec))),function(){var args=arguments;return map(function(f){return apply(f,args)},spec)})});module.exports=applySpec},{"./apply":59,"./curryN":85,"./internal/_curry1":148,"./map":231,"./max":237,"./pluck":282,"./reduce":293,"./values":352}],61:[function(require,module,exports){var _curry2=require("./internal/_curry2");var applyTo=_curry2(function applyTo(x,f){return f(x)});module.exports=applyTo},{"./internal/_curry2":149}],62:[function(require,module,exports){var _curry3=require("./internal/_curry3");var ascend=_curry3(function ascend(fn,a,b){var aa=fn(a);var bb=fn(b);return aa<bb?-1:aa>bb?1:0});module.exports=ascend},{"./internal/_curry3":150}],63:[function(require,module,exports){var _curry3=require("./internal/_curry3");var assoc=_curry3(function assoc(prop,val,obj){var result={};for(var p in obj){result[p]=obj[p]}result[prop]=val;return result});module.exports=assoc},{"./internal/_curry3":150}],64:[function(require,module,exports){var _curry3=require("./internal/_curry3");var _has=require("./internal/_has");var _isArray=require("./internal/_isArray");var _isInteger=require("./internal/_isInteger");var assoc=require("./assoc");var isNil=require("./isNil");var assocPath=_curry3(function assocPath(path,val,obj){if(path.length===0){return val}var idx=path[0];if(path.length>1){var nextObj=!isNil(obj)&&_has(idx,obj)?obj[idx]:_isInteger(path[1])?[]:{};val=assocPath(Array.prototype.slice.call(path,1),val,nextObj)}if(_isInteger(idx)&&_isArray(obj)){var arr=[].concat(obj);arr[idx]=val;return arr}else{return assoc(idx,val,obj)}});module.exports=assocPath},{"./assoc":63,"./internal/_curry3":150,"./internal/_has":160,"./internal/_isArray":164,"./internal/_isInteger":167,"./isNil":215}],65:[function(require,module,exports){var _curry1=require("./internal/_curry1");var nAry=require("./nAry");var binary=_curry1(function binary(fn){return nAry(2,fn)});module.exports=binary},{"./internal/_curry1":148,"./nAry":255}],66:[function(require,module,exports){var _arity=require("./internal/_arity");var _curry2=require("./internal/_curry2");var bind=_curry2(function bind(fn,thisObj){return _arity(fn.length,function(){return fn.apply(thisObj,arguments)})});module.exports=bind},{"./internal/_arity":137,"./internal/_curry2":149}],67:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _isFunction=require("./internal/_isFunction");var and=require("./and");var lift=require("./lift");var both=_curry2(function both(f,g){return _isFunction(f)?function _both(){return f.apply(this,arguments)&&g.apply(this,arguments)}:lift(and)(f,g)});module.exports=both},{"./and":53,"./internal/_curry2":149,"./internal/_isFunction":166,"./lift":227}],68:[function(require,module,exports){var curry=require("./curry");var call=curry(function call(fn){return fn.apply(this,Array.prototype.slice.call(arguments,1))});module.exports=call},{"./curry":84}],69:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _makeFlat=require("./internal/_makeFlat");var _xchain=require("./internal/_xchain");var map=require("./map");var chain=_curry2(_dispatchable(["fantasy-land/chain","chain"],_xchain,function chain(fn,monad){if(typeof monad==="function"){return function(x){return fn(monad(x))(x)}}return _makeFlat(false)(map(fn,monad))}));module.exports=chain},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_makeFlat":174,"./internal/_xchain":189,"./map":231}],70:[function(require,module,exports){var _curry3=require("./internal/_curry3");var clamp=_curry3(function clamp(min,max,value){if(min>max){throw new Error("min must not be greater than max in clamp(min, max, value)")}return value<min?min:value>max?max:value});module.exports=clamp},{"./internal/_curry3":150}],71:[function(require,module,exports){var _clone=require("./internal/_clone");var _curry1=require("./internal/_curry1");var clone=_curry1(function clone(value){return value!=null&&typeof value.clone==="function"?value.clone():_clone(value,[],[],true)});module.exports=clone},{"./internal/_clone":141,"./internal/_curry1":148}],72:[function(require,module,exports){var _curry1=require("./internal/_curry1");var comparator=_curry1(function comparator(pred){return function(a,b){return pred(a,b)?-1:pred(b,a)?1:0}});module.exports=comparator},{"./internal/_curry1":148}],73:[function(require,module,exports){var lift=require("./lift");var not=require("./not");var complement=lift(not);module.exports=complement},{"./lift":227,"./not":258}],74:[function(require,module,exports){var pipe=require("./pipe");var reverse=require("./reverse");function compose(){if(arguments.length===0){throw new Error("compose requires at least one argument")}return pipe.apply(this,reverse(arguments))}module.exports=compose},{"./pipe":279,"./reverse":302}],75:[function(require,module,exports){var chain=require("./chain");var compose=require("./compose");var map=require("./map");function composeK(){if(arguments.length===0){throw new Error("composeK requires at least one argument")}var init=Array.prototype.slice.call(arguments);var last=init.pop();return compose(compose.apply(this,map(chain,init)),last)}module.exports=composeK},{"./chain":69,"./compose":74,"./map":231}],76:[function(require,module,exports){var pipeP=require("./pipeP");var reverse=require("./reverse");function composeP(){if(arguments.length===0){throw new Error("composeP requires at least one argument")}return pipeP.apply(this,reverse(arguments))}module.exports=composeP},{"./pipeP":281,"./reverse":302}],77:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _isArray=require("./internal/_isArray");var _isFunction=require("./internal/_isFunction");var _isString=require("./internal/_isString");var toString=require("./toString");var concat=_curry2(function concat(a,b){if(_isArray(a)){if(_isArray(b)){return a.concat(b)}throw new TypeError(toString(b)+" is not an array")}if(_isString(a)){if(_isString(b)){return a+b}throw new TypeError(toString(b)+" is not a string")}if(a!=null&&_isFunction(a["fantasy-land/concat"])){return a["fantasy-land/concat"](b)}if(a!=null&&_isFunction(a.concat)){return a.concat(b)}throw new TypeError(toString(a)+' does not have a method named "concat" or "fantasy-land/concat"')});module.exports=concat},{"./internal/_curry2":149,"./internal/_isArray":164,"./internal/_isFunction":166,"./internal/_isString":172,"./toString":330}],78:[function(require,module,exports){var _arity=require("./internal/_arity");var _curry1=require("./internal/_curry1");var map=require("./map");var max=require("./max");var reduce=require("./reduce");var cond=_curry1(function cond(pairs){var arity=reduce(max,0,map(function(pair){return pair[0].length},pairs));return _arity(arity,function(){var idx=0;while(idx<pairs.length){if(pairs[idx][0].apply(this,arguments)){return pairs[idx][1].apply(this,arguments)}idx+=1}})});module.exports=cond},{"./internal/_arity":137,"./internal/_curry1":148,"./map":231,"./max":237,"./reduce":293}],79:[function(require,module,exports){var _curry1=require("./internal/_curry1");var constructN=require("./constructN");var construct=_curry1(function construct(Fn){return constructN(Fn.length,Fn)});module.exports=construct},{"./constructN":80,"./internal/_curry1":148}],80:[function(require,module,exports){var _curry2=require("./internal/_curry2");var curry=require("./curry");var nAry=require("./nAry");var constructN=_curry2(function constructN(n,Fn){if(n>10){throw new Error("Constructor with greater than ten arguments")}if(n===0){return function(){return new Fn}}return curry(nAry(n,function($0,$1,$2,$3,$4,$5,$6,$7,$8,$9){switch(arguments.length){case 1:return new Fn($0);case 2:return new Fn($0,$1);case 3:return new Fn($0,$1,$2);case 4:return new Fn($0,$1,$2,$3);case 5:return new Fn($0,$1,$2,$3,$4);case 6:return new Fn($0,$1,$2,$3,$4,$5);case 7:return new Fn($0,$1,$2,$3,$4,$5,$6);case 8:return new Fn($0,$1,$2,$3,$4,$5,$6,$7);case 9:return new Fn($0,$1,$2,$3,$4,$5,$6,$7,$8);case 10:return new Fn($0,$1,$2,$3,$4,$5,$6,$7,$8,$9)}}))});module.exports=constructN},{"./curry":84,"./internal/_curry2":149,"./nAry":255}],81:[function(require,module,exports){var _contains=require("./internal/_contains");var _curry2=require("./internal/_curry2");var contains=_curry2(_contains);module.exports=contains},{"./internal/_contains":145,"./internal/_curry2":149}],82:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _map=require("./internal/_map");var curryN=require("./curryN");var max=require("./max");var pluck=require("./pluck");var reduce=require("./reduce");var converge=_curry2(function converge(after,fns){return curryN(reduce(max,0,pluck("length",fns)),function(){var args=arguments;var context=this;return after.apply(context,_map(function(fn){return fn.apply(context,args)},fns))})});module.exports=converge},{"./curryN":85,"./internal/_curry2":149,"./internal/_map":175,"./max":237,"./pluck":282,"./reduce":293}],83:[function(require,module,exports){var reduceBy=require("./reduceBy");var countBy=reduceBy(function(acc,elem){return acc+1},0);module.exports=countBy},{"./reduceBy":294}],84:[function(require,module,exports){var _curry1=require("./internal/_curry1");var curryN=require("./curryN");var curry=_curry1(function curry(fn){return curryN(fn.length,fn)});module.exports=curry},{"./curryN":85,"./internal/_curry1":148}],85:[function(require,module,exports){var _arity=require("./internal/_arity");var _curry1=require("./internal/_curry1");var _curry2=require("./internal/_curry2");var _curryN=require("./internal/_curryN");var curryN=_curry2(function curryN(length,fn){if(length===1){return _curry1(fn)}return _arity(length,_curryN(length,[],fn))});module.exports=curryN},{"./internal/_arity":137,"./internal/_curry1":148,"./internal/_curry2":149,"./internal/_curryN":151}],86:[function(require,module,exports){var add=require("./add");var dec=add(-1);module.exports=dec},{"./add":47}],87:[function(require,module,exports){var _curry2=require("./internal/_curry2");var defaultTo=_curry2(function defaultTo(d,v){return v==null||v!==v?d:v});module.exports=defaultTo},{"./internal/_curry2":149}],88:[function(require,module,exports){var _curry3=require("./internal/_curry3");var descend=_curry3(function descend(fn,a,b){var aa=fn(a);var bb=fn(b);return aa>bb?-1:aa<bb?1:0});module.exports=descend},{"./internal/_curry3":150}],89:[function(require,module,exports){var _contains=require("./internal/_contains");var _curry2=require("./internal/_curry2");var difference=_curry2(function difference(first,second){var out=[];var idx=0;var firstLen=first.length;while(idx<firstLen){if(!_contains(first[idx],second)&&!_contains(first[idx],out)){out[out.length]=first[idx]}idx+=1}return out});module.exports=difference},{"./internal/_contains":145,"./internal/_curry2":149}],90:[function(require,module,exports){var _containsWith=require("./internal/_containsWith");var _curry3=require("./internal/_curry3");var differenceWith=_curry3(function differenceWith(pred,first,second){var out=[];var idx=0;var firstLen=first.length;while(idx<firstLen){if(!_containsWith(pred,first[idx],second)&&!_containsWith(pred,first[idx],out)){out.push(first[idx])}idx+=1}return out});module.exports=differenceWith},{"./internal/_containsWith":146,"./internal/_curry3":150}],91:[function(require,module,exports){var _curry2=require("./internal/_curry2");var dissoc=_curry2(function dissoc(prop,obj){var result={};for(var p in obj){result[p]=obj[p]}delete result[prop];return result});module.exports=dissoc},{"./internal/_curry2":149}],92:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _isInteger=require("./internal/_isInteger");var assoc=require("./assoc");var dissoc=require("./dissoc");var remove=require("./remove");var update=require("./update");var dissocPath=_curry2(function dissocPath(path,obj){switch(path.length){case 0:return obj;case 1:return _isInteger(path[0])?remove(path[0],1,obj):dissoc(path[0],obj);default:var head=path[0];var tail=Array.prototype.slice.call(path,1);if(obj[head]==null){return obj}else if(_isInteger(path[0])){return update(head,dissocPath(tail,obj[head]),obj)}else{return assoc(head,dissocPath(tail,obj[head]),obj)}}});module.exports=dissocPath},{"./assoc":63,"./dissoc":91,"./internal/_curry2":149,"./internal/_isInteger":167,"./remove":299,"./update":350}],93:[function(require,module,exports){var _curry2=require("./internal/_curry2");var divide=_curry2(function divide(a,b){return a/b});module.exports=divide},{"./internal/_curry2":149}],94:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xdrop=require("./internal/_xdrop");var slice=require("./slice");var drop=_curry2(_dispatchable(["drop"],_xdrop,function drop(n,xs){return slice(Math.max(0,n),Infinity,xs)}));module.exports=drop},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xdrop":190,"./slice":306}],95:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _dropLast=require("./internal/_dropLast");var _xdropLast=require("./internal/_xdropLast");var dropLast=_curry2(_dispatchable([],_xdropLast,_dropLast));module.exports=dropLast},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_dropLast":153,"./internal/_xdropLast":191}],96:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _dropLastWhile=require("./internal/_dropLastWhile");var _xdropLastWhile=require("./internal/_xdropLastWhile");var dropLastWhile=_curry2(_dispatchable([],_xdropLastWhile,_dropLastWhile));module.exports=dropLastWhile},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_dropLastWhile":154,"./internal/_xdropLastWhile":192}],97:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _dispatchable=require("./internal/_dispatchable");var _xdropRepeatsWith=require("./internal/_xdropRepeatsWith");var dropRepeatsWith=require("./dropRepeatsWith");var equals=require("./equals");var dropRepeats=_curry1(_dispatchable([],_xdropRepeatsWith(equals),dropRepeatsWith(equals)));module.exports=dropRepeats},{"./dropRepeatsWith":98,"./equals":105,"./internal/_curry1":148,"./internal/_dispatchable":152,"./internal/_xdropRepeatsWith":193}],98:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xdropRepeatsWith=require("./internal/_xdropRepeatsWith");var last=require("./last");var dropRepeatsWith=_curry2(_dispatchable([],_xdropRepeatsWith,function dropRepeatsWith(pred,list){var result=[];var idx=1;var len=list.length;if(len!==0){result[0]=list[0];while(idx<len){if(!pred(last(result),list[idx])){result[result.length]=list[idx]}idx+=1}}return result}));module.exports=dropRepeatsWith},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xdropRepeatsWith":193,"./last":220}],99:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xdropWhile=require("./internal/_xdropWhile");var slice=require("./slice");var dropWhile=_curry2(_dispatchable(["dropWhile"],_xdropWhile,function dropWhile(pred,xs){var idx=0;var len=xs.length;while(idx<len&&pred(xs[idx])){idx+=1}return slice(idx,Infinity,xs)}));module.exports=dropWhile},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xdropWhile":194,"./slice":306}],100:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _isFunction=require("./internal/_isFunction");var lift=require("./lift");var or=require("./or");var either=_curry2(function either(f,g){return _isFunction(f)?function _either(){return f.apply(this,arguments)||g.apply(this,arguments)}:lift(or)(f,g)});module.exports=either},{"./internal/_curry2":149,"./internal/_isFunction":166,"./lift":227,"./or":266}],101:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _isArguments=require("./internal/_isArguments");var _isArray=require("./internal/_isArray");var _isObject=require("./internal/_isObject");var _isString=require("./internal/_isString");var empty=_curry1(function empty(x){return x!=null&&typeof x["fantasy-land/empty"]==="function"?x["fantasy-land/empty"]():x!=null&&x.constructor!=null&&typeof x.constructor["fantasy-land/empty"]==="function"?x.constructor["fantasy-land/empty"]():x!=null&&typeof x.empty==="function"?x.empty():x!=null&&x.constructor!=null&&typeof x.constructor.empty==="function"?x.constructor.empty():_isArray(x)?[]:_isString(x)?"":_isObject(x)?{}:_isArguments(x)?function(){return arguments}():void 0});module.exports=empty},{"./internal/_curry1":148,"./internal/_isArguments":163,"./internal/_isArray":164,"./internal/_isObject":169,"./internal/_isString":172}],102:[function(require,module,exports){var _curry2=require("./internal/_curry2");var equals=require("./equals");var takeLast=require("./takeLast");var endsWith=_curry2(function(suffix,list){return equals(takeLast(suffix.length,list),suffix)});module.exports=endsWith},{"./equals":105,"./internal/_curry2":149,"./takeLast":321}],103:[function(require,module,exports){var _curry3=require("./internal/_curry3");var equals=require("./equals");var eqBy=_curry3(function eqBy(f,x,y){return equals(f(x),f(y))});module.exports=eqBy},{"./equals":105,"./internal/_curry3":150}],104:[function(require,module,exports){var _curry3=require("./internal/_curry3");var equals=require("./equals");var eqProps=_curry3(function eqProps(prop,obj1,obj2){return equals(obj1[prop],obj2[prop])});module.exports=eqProps},{"./equals":105,"./internal/_curry3":150}],105:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _equals=require("./internal/_equals");var equals=_curry2(function equals(a,b){return _equals(a,b,[],[])});module.exports=equals},{"./internal/_curry2":149,"./internal/_equals":155}],106:[function(require,module,exports){var _curry2=require("./internal/_curry2");var evolve=_curry2(function evolve(transformations,object){var result={};var transformation,key,type;for(key in object){transformation=transformations[key];type=typeof transformation;result[key]=type==="function"?transformation(object[key]):transformation&&type==="object"?evolve(transformation,object[key]):object[key]}return result});module.exports=evolve},{"./internal/_curry2":149}],107:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _filter=require("./internal/_filter");var _isObject=require("./internal/_isObject");var _reduce=require("./internal/_reduce");var _xfilter=require("./internal/_xfilter");var keys=require("./keys");var filter=_curry2(_dispatchable(["filter"],_xfilter,function(pred,filterable){return _isObject(filterable)?_reduce(function(acc,key){if(pred(filterable[key])){acc[key]=filterable[key]}return acc},{},keys(filterable)):_filter(pred,filterable)}));module.exports=filter},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_filter":156,"./internal/_isObject":169,"./internal/_reduce":181,"./internal/_xfilter":196,"./keys":218}],108:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xfind=require("./internal/_xfind");var find=_curry2(_dispatchable(["find"],_xfind,function find(fn,list){var idx=0;var len=list.length;while(idx<len){if(fn(list[idx])){return list[idx]}idx+=1}}));module.exports=find},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xfind":197}],109:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xfindIndex=require("./internal/_xfindIndex");var findIndex=_curry2(_dispatchable([],_xfindIndex,function findIndex(fn,list){var idx=0;var len=list.length;while(idx<len){if(fn(list[idx])){return idx}idx+=1}return-1}));module.exports=findIndex},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xfindIndex":198}],110:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xfindLast=require("./internal/_xfindLast");var findLast=_curry2(_dispatchable([],_xfindLast,function findLast(fn,list){var idx=list.length-1;while(idx>=0){if(fn(list[idx])){return list[idx]}idx-=1}}));module.exports=findLast},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xfindLast":199}],111:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xfindLastIndex=require("./internal/_xfindLastIndex");var findLastIndex=_curry2(_dispatchable([],_xfindLastIndex,function findLastIndex(fn,list){var idx=list.length-1;while(idx>=0){if(fn(list[idx])){return idx}idx-=1}return-1}));module.exports=findLastIndex},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xfindLastIndex":200}],112:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _makeFlat=require("./internal/_makeFlat");var flatten=_curry1(_makeFlat(true));module.exports=flatten},{"./internal/_curry1":148,"./internal/_makeFlat":174}],113:[function(require,module,exports){var _curry1=require("./internal/_curry1");var curryN=require("./curryN");var flip=_curry1(function flip(fn){return curryN(fn.length,function(a,b){var args=Array.prototype.slice.call(arguments,0);args[0]=b;args[1]=a;return fn.apply(this,args)})});module.exports=flip},{"./curryN":85,"./internal/_curry1":148}],114:[function(require,module,exports){var _checkForMethod=require("./internal/_checkForMethod");var _curry2=require("./internal/_curry2");var forEach=_curry2(_checkForMethod("forEach",function forEach(fn,list){var len=list.length;var idx=0;while(idx<len){fn(list[idx]);idx+=1}return list}));module.exports=forEach},{"./internal/_checkForMethod":140,"./internal/_curry2":149}],115:[function(require,module,exports){var _curry2=require("./internal/_curry2");var keys=require("./keys");var forEachObjIndexed=_curry2(function forEachObjIndexed(fn,obj){var keyList=keys(obj);var idx=0;while(idx<keyList.length){var key=keyList[idx];fn(obj[key],key,obj);idx+=1}return obj});module.exports=forEachObjIndexed},{"./internal/_curry2":149,"./keys":218}],116:[function(require,module,exports){var _curry1=require("./internal/_curry1");var fromPairs=_curry1(function fromPairs(pairs){var result={};var idx=0;while(idx<pairs.length){result[pairs[idx][0]]=pairs[idx][1];idx+=1}return result});module.exports=fromPairs},{"./internal/_curry1":148}],117:[function(require,module,exports){var _checkForMethod=require("./internal/_checkForMethod");var _curry2=require("./internal/_curry2");var reduceBy=require("./reduceBy");var groupBy=_curry2(_checkForMethod("groupBy",reduceBy(function(acc,item){if(acc==null){acc=[]}acc.push(item);return acc},null)));module.exports=groupBy},{"./internal/_checkForMethod":140,"./internal/_curry2":149,"./reduceBy":294}],118:[function(require,module,exports){var _curry2=require("./internal/_curry2");var groupWith=_curry2(function(fn,list){var res=[];var idx=0;var len=list.length;while(idx<len){var nextidx=idx+1;while(nextidx<len&&fn(list[nextidx-1],list[nextidx])){nextidx+=1}res.push(list.slice(idx,nextidx));idx=nextidx}return res});module.exports=groupWith},{"./internal/_curry2":149}],119:[function(require,module,exports){var _curry2=require("./internal/_curry2");var gt=_curry2(function gt(a,b){return a>b});module.exports=gt},{"./internal/_curry2":149}],120:[function(require,module,exports){var _curry2=require("./internal/_curry2");var gte=_curry2(function gte(a,b){return a>=b});module.exports=gte},{"./internal/_curry2":149}],121:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _has=require("./internal/_has");var has=_curry2(_has);module.exports=has},{"./internal/_curry2":149,"./internal/_has":160}],122:[function(require,module,exports){var _curry2=require("./internal/_curry2");var hasIn=_curry2(function hasIn(prop,obj){return prop in obj});module.exports=hasIn},{"./internal/_curry2":149}],123:[function(require,module,exports){var nth=require("./nth");var head=nth(0);module.exports=head},{"./nth":259}],124:[function(require,module,exports){var _curry2=require("./internal/_curry2");var identical=_curry2(function identical(a,b){if(a===b){return a!==0||1/a===1/b}else{return a!==a&&b!==b}});module.exports=identical},{"./internal/_curry2":149}],125:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _identity=require("./internal/_identity");var identity=_curry1(_identity);module.exports=identity},{"./internal/_curry1":148,"./internal/_identity":161}],126:[function(require,module,exports){var _curry3=require("./internal/_curry3");var curryN=require("./curryN");var ifElse=_curry3(function ifElse(condition,onTrue,onFalse){return curryN(Math.max(condition.length,onTrue.length,onFalse.length),function _ifElse(){return condition.apply(this,arguments)?onTrue.apply(this,arguments):onFalse.apply(this,arguments)})});module.exports=ifElse},{"./curryN":85,"./internal/_curry3":150}],127:[function(require,module,exports){var add=require("./add");var inc=add(1);module.exports=inc},{"./add":47}],128:[function(require,module,exports){module.exports={};module.exports.F=require("./F");module.exports.T=require("./T");module.exports.__=require("./__");module.exports.add=require("./add");module.exports.addIndex=require("./addIndex");module.exports.adjust=require("./adjust");module.exports.all=require("./all");module.exports.allPass=require("./allPass");module.exports.always=require("./always");module.exports.and=require("./and");module.exports.any=require("./any");module.exports.anyPass=require("./anyPass");module.exports.ap=require("./ap");module.exports.aperture=require("./aperture");module.exports.append=require("./append");module.exports.apply=require("./apply");module.exports.applySpec=require("./applySpec");module.exports.applyTo=require("./applyTo");module.exports.ascend=require("./ascend");module.exports.assoc=require("./assoc");module.exports.assocPath=require("./assocPath");module.exports.binary=require("./binary");module.exports.bind=require("./bind");module.exports.both=require("./both");module.exports.call=require("./call");module.exports.chain=require("./chain");module.exports.clamp=require("./clamp");module.exports.clone=require("./clone");module.exports.comparator=require("./comparator");module.exports.complement=require("./complement");module.exports.compose=require("./compose");module.exports.composeK=require("./composeK");module.exports.composeP=require("./composeP");module.exports.concat=require("./concat");module.exports.cond=require("./cond");module.exports.construct=require("./construct");module.exports.constructN=require("./constructN");module.exports.contains=require("./contains");module.exports.converge=require("./converge");module.exports.countBy=require("./countBy");module.exports.curry=require("./curry");module.exports.curryN=require("./curryN");module.exports.dec=require("./dec");module.exports.defaultTo=require("./defaultTo");module.exports.descend=require("./descend");module.exports.difference=require("./difference");module.exports.differenceWith=require("./differenceWith");module.exports.dissoc=require("./dissoc");module.exports.dissocPath=require("./dissocPath");module.exports.divide=require("./divide");module.exports.drop=require("./drop");module.exports.dropLast=require("./dropLast");module.exports.dropLastWhile=require("./dropLastWhile");module.exports.dropRepeats=require("./dropRepeats");module.exports.dropRepeatsWith=require("./dropRepeatsWith");module.exports.dropWhile=require("./dropWhile");module.exports.either=require("./either");module.exports.empty=require("./empty");module.exports.endsWith=require("./endsWith");module.exports.eqBy=require("./eqBy");module.exports.eqProps=require("./eqProps");module.exports.equals=require("./equals");module.exports.evolve=require("./evolve");module.exports.filter=require("./filter");module.exports.find=require("./find");module.exports.findIndex=require("./findIndex");module.exports.findLast=require("./findLast");module.exports.findLastIndex=require("./findLastIndex");module.exports.flatten=require("./flatten");module.exports.flip=require("./flip");module.exports.forEach=require("./forEach");module.exports.forEachObjIndexed=require("./forEachObjIndexed");module.exports.fromPairs=require("./fromPairs");module.exports.groupBy=require("./groupBy");module.exports.groupWith=require("./groupWith");module.exports.gt=require("./gt");module.exports.gte=require("./gte");module.exports.has=require("./has");module.exports.hasIn=require("./hasIn");module.exports.head=require("./head");module.exports.identical=require("./identical");module.exports.identity=require("./identity");module.exports.ifElse=require("./ifElse");module.exports.inc=require("./inc");module.exports.indexBy=require("./indexBy");module.exports.indexOf=require("./indexOf");module.exports.init=require("./init");module.exports.innerJoin=require("./innerJoin");module.exports.insert=require("./insert");module.exports.insertAll=require("./insertAll");module.exports.intersection=require("./intersection");module.exports.intersperse=require("./intersperse");module.exports.into=require("./into");module.exports.invert=require("./invert");module.exports.invertObj=require("./invertObj");module.exports.invoker=require("./invoker");module.exports.is=require("./is");module.exports.isEmpty=require("./isEmpty");module.exports.isNil=require("./isNil");module.exports.join=require("./join");module.exports.juxt=require("./juxt");module.exports.keys=require("./keys");module.exports.keysIn=require("./keysIn");module.exports.last=require("./last");module.exports.lastIndexOf=require("./lastIndexOf");module.exports.length=require("./length");module.exports.lens=require("./lens");module.exports.lensIndex=require("./lensIndex");module.exports.lensPath=require("./lensPath");module.exports.lensProp=require("./lensProp");module.exports.lift=require("./lift");module.exports.liftN=require("./liftN");module.exports.lt=require("./lt");module.exports.lte=require("./lte");module.exports.map=require("./map");module.exports.mapAccum=require("./mapAccum");module.exports.mapAccumRight=require("./mapAccumRight");module.exports.mapObjIndexed=require("./mapObjIndexed");module.exports.match=require("./match");module.exports.mathMod=require("./mathMod");module.exports.max=require("./max");module.exports.maxBy=require("./maxBy");module.exports.mean=require("./mean");module.exports.median=require("./median");module.exports.memoize=require("./memoize");module.exports.memoizeWith=require("./memoizeWith");module.exports.merge=require("./merge");module.exports.mergeAll=require("./mergeAll");module.exports.mergeDeepLeft=require("./mergeDeepLeft");module.exports.mergeDeepRight=require("./mergeDeepRight");module.exports.mergeDeepWith=require("./mergeDeepWith");module.exports.mergeDeepWithKey=require("./mergeDeepWithKey");module.exports.mergeWith=require("./mergeWith");module.exports.mergeWithKey=require("./mergeWithKey");module.exports.min=require("./min");module.exports.minBy=require("./minBy");module.exports.modulo=require("./modulo");module.exports.multiply=require("./multiply");module.exports.nAry=require("./nAry");module.exports.negate=require("./negate");module.exports.none=require("./none");module.exports.not=require("./not");module.exports.nth=require("./nth");module.exports.nthArg=require("./nthArg");module.exports.o=require("./o");module.exports.objOf=require("./objOf");module.exports.of=require("./of");module.exports.omit=require("./omit");module.exports.once=require("./once");module.exports.or=require("./or");module.exports.over=require("./over");module.exports.pair=require("./pair");module.exports.partial=require("./partial");module.exports.partialRight=require("./partialRight");module.exports.partition=require("./partition");module.exports.path=require("./path");module.exports.pathEq=require("./pathEq");module.exports.pathOr=require("./pathOr");module.exports.pathSatisfies=require("./pathSatisfies");module.exports.pick=require("./pick");module.exports.pickAll=require("./pickAll");module.exports.pickBy=require("./pickBy");module.exports.pipe=require("./pipe");module.exports.pipeK=require("./pipeK");module.exports.pipeP=require("./pipeP");module.exports.pluck=require("./pluck");module.exports.prepend=require("./prepend");module.exports.product=require("./product");module.exports.project=require("./project");module.exports.prop=require("./prop");module.exports.propEq=require("./propEq");module.exports.propIs=require("./propIs");module.exports.propOr=require("./propOr");module.exports.propSatisfies=require("./propSatisfies");module.exports.props=require("./props");module.exports.range=require("./range");module.exports.reduce=require("./reduce");module.exports.reduceBy=require("./reduceBy");module.exports.reduceRight=require("./reduceRight");module.exports.reduceWhile=require("./reduceWhile");module.exports.reduced=require("./reduced");module.exports.reject=require("./reject");module.exports.remove=require("./remove");module.exports.repeat=require("./repeat");module.exports.replace=require("./replace");module.exports.reverse=require("./reverse");module.exports.scan=require("./scan");module.exports.sequence=require("./sequence");module.exports.set=require("./set");module.exports.slice=require("./slice");module.exports.sort=require("./sort");module.exports.sortBy=require("./sortBy");module.exports.sortWith=require("./sortWith");module.exports.split=require("./split");module.exports.splitAt=require("./splitAt");module.exports.splitEvery=require("./splitEvery");module.exports.splitWhen=require("./splitWhen");module.exports.startsWith=require("./startsWith");module.exports.subtract=require("./subtract");module.exports.sum=require("./sum");module.exports.symmetricDifference=require("./symmetricDifference");module.exports.symmetricDifferenceWith=require("./symmetricDifferenceWith");module.exports.tail=require("./tail");module.exports.take=require("./take");module.exports.takeLast=require("./takeLast");module.exports.takeLastWhile=require("./takeLastWhile");module.exports.takeWhile=require("./takeWhile");module.exports.tap=require("./tap");module.exports.test=require("./test");module.exports.times=require("./times");module.exports.toLower=require("./toLower");module.exports.toPairs=require("./toPairs");module.exports.toPairsIn=require("./toPairsIn");module.exports.toString=require("./toString");module.exports.toUpper=require("./toUpper");module.exports.transduce=require("./transduce");module.exports.transpose=require("./transpose");module.exports.traverse=require("./traverse");module.exports.trim=require("./trim");module.exports.tryCatch=require("./tryCatch");module.exports.type=require("./type");module.exports.unapply=require("./unapply");module.exports.unary=require("./unary");module.exports.uncurryN=require("./uncurryN");module.exports.unfold=require("./unfold");module.exports.union=require("./union");module.exports.unionWith=require("./unionWith");module.exports.uniq=require("./uniq");module.exports.uniqBy=require("./uniqBy");module.exports.uniqWith=require("./uniqWith");module.exports.unless=require("./unless");module.exports.unnest=require("./unnest");module.exports.until=require("./until");module.exports.update=require("./update");module.exports.useWith=require("./useWith");module.exports.values=require("./values");module.exports.valuesIn=require("./valuesIn");module.exports.view=require("./view");module.exports.when=require("./when");module.exports.where=require("./where");module.exports.whereEq=require("./whereEq");module.exports.without=require("./without");module.exports.xprod=require("./xprod");module.exports.zip=require("./zip");module.exports.zipObj=require("./zipObj");module.exports.zipWith=require("./zipWith")},{"./F":44,"./T":45,"./__":46,"./add":47,"./addIndex":48,"./adjust":49,"./all":50,"./allPass":51,"./always":52,"./and":53,"./any":54,"./anyPass":55,"./ap":56,"./aperture":57,"./append":58,"./apply":59,"./applySpec":60,"./applyTo":61,"./ascend":62,"./assoc":63,"./assocPath":64,"./binary":65,"./bind":66,"./both":67,"./call":68,"./chain":69,"./clamp":70,"./clone":71,"./comparator":72,"./complement":73,"./compose":74,"./composeK":75,"./composeP":76,"./concat":77,"./cond":78,"./construct":79,"./constructN":80,"./contains":81,"./converge":82,"./countBy":83,"./curry":84,"./curryN":85,"./dec":86,"./defaultTo":87,"./descend":88,"./difference":89,"./differenceWith":90,"./dissoc":91,"./dissocPath":92,"./divide":93,"./drop":94,"./dropLast":95,"./dropLastWhile":96,"./dropRepeats":97,"./dropRepeatsWith":98,"./dropWhile":99,"./either":100,"./empty":101,"./endsWith":102,"./eqBy":103,"./eqProps":104,"./equals":105,"./evolve":106,"./filter":107,"./find":108,"./findIndex":109,"./findLast":110,"./findLastIndex":111,"./flatten":112,"./flip":113,"./forEach":114,"./forEachObjIndexed":115,"./fromPairs":116,"./groupBy":117,"./groupWith":118,"./gt":119,"./gte":120,"./has":121,"./hasIn":122,"./head":123,"./identical":124,"./identity":125,"./ifElse":126,"./inc":127,"./indexBy":129,"./indexOf":130,"./init":131,"./innerJoin":132,"./insert":133,"./insertAll":134,"./intersection":207,"./intersperse":208,"./into":209,"./invert":210,"./invertObj":211,"./invoker":212,"./is":213,"./isEmpty":214,"./isNil":215,"./join":216,"./juxt":217,"./keys":218,"./keysIn":219,"./last":220,"./lastIndexOf":221,"./length":222,"./lens":223,"./lensIndex":224,"./lensPath":225,"./lensProp":226,"./lift":227,"./liftN":228,"./lt":229,"./lte":230,"./map":231,"./mapAccum":232,"./mapAccumRight":233,"./mapObjIndexed":234,"./match":235,"./mathMod":236,"./max":237,"./maxBy":238,"./mean":239,"./median":240,"./memoize":241,"./memoizeWith":242,"./merge":243,"./mergeAll":244,"./mergeDeepLeft":245,"./mergeDeepRight":246,"./mergeDeepWith":247,"./mergeDeepWithKey":248,"./mergeWith":249,"./mergeWithKey":250,"./min":251,"./minBy":252,"./modulo":253,"./multiply":254,"./nAry":255,"./negate":256,"./none":257,"./not":258,"./nth":259,"./nthArg":260,"./o":261,"./objOf":262,"./of":263,"./omit":264,"./once":265,"./or":266,"./over":267,"./pair":268,"./partial":269,"./partialRight":270,"./partition":271,"./path":272,"./pathEq":273,"./pathOr":274,"./pathSatisfies":275,"./pick":276,"./pickAll":277,"./pickBy":278,"./pipe":279,"./pipeK":280,"./pipeP":281,"./pluck":282,"./prepend":283,"./product":284,"./project":285,"./prop":286,"./propEq":287,"./propIs":288,"./propOr":289,"./propSatisfies":290,"./props":291,"./range":292,"./reduce":293,"./reduceBy":294,"./reduceRight":295,"./reduceWhile":296,"./reduced":297,"./reject":298,"./remove":299,"./repeat":300,"./replace":301,"./reverse":302,"./scan":303,"./sequence":304,"./set":305,"./slice":306,"./sort":307,"./sortBy":308,"./sortWith":309,"./split":310,"./splitAt":311,"./splitEvery":312,"./splitWhen":313,"./startsWith":314,"./subtract":315,"./sum":316,"./symmetricDifference":317,"./symmetricDifferenceWith":318,"./tail":319,"./take":320,"./takeLast":321,"./takeLastWhile":322,"./takeWhile":323,"./tap":324,"./test":325,"./times":326,"./toLower":327,"./toPairs":328,"./toPairsIn":329,"./toString":330,"./toUpper":331,"./transduce":332,"./transpose":333,"./traverse":334,"./trim":335,"./tryCatch":336,"./type":337,"./unapply":338,"./unary":339,"./uncurryN":340,"./unfold":341,"./union":342,"./unionWith":343,"./uniq":344,"./uniqBy":345,"./uniqWith":346,"./unless":347,"./unnest":348,"./until":349,"./update":350,"./useWith":351,"./values":352,"./valuesIn":353,"./view":354,"./when":355,"./where":356,"./whereEq":357,"./without":358,"./xprod":359,"./zip":360,"./zipObj":361,"./zipWith":362}],129:[function(require,module,exports){var reduceBy=require("./reduceBy");var indexBy=reduceBy(function(acc,elem){return elem},null);module.exports=indexBy},{"./reduceBy":294}],130:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _indexOf=require("./internal/_indexOf");var _isArray=require("./internal/_isArray");var indexOf=_curry2(function indexOf(target,xs){return typeof xs.indexOf==="function"&&!_isArray(xs)?xs.indexOf(target):_indexOf(xs,target,0)});module.exports=indexOf},{"./internal/_curry2":149,"./internal/_indexOf":162,"./internal/_isArray":164}],131:[function(require,module,exports){var slice=require("./slice");var init=slice(0,-1);module.exports=init},{"./slice":306}],132:[function(require,module,exports){var _containsWith=require("./internal/_containsWith");var _curry3=require("./internal/_curry3");var _filter=require("./internal/_filter");var innerJoin=_curry3(function innerJoin(pred,xs,ys){return _filter(function(x){return _containsWith(pred,x,ys)},xs)});module.exports=innerJoin},{"./internal/_containsWith":146,"./internal/_curry3":150,"./internal/_filter":156}],133:[function(require,module,exports){var _curry3=require("./internal/_curry3");var insert=_curry3(function insert(idx,elt,list){idx=idx<list.length&&idx>=0?idx:list.length;var result=Array.prototype.slice.call(list,0);result.splice(idx,0,elt);return result});module.exports=insert},{"./internal/_curry3":150}],134:[function(require,module,exports){var _curry3=require("./internal/_curry3");var insertAll=_curry3(function insertAll(idx,elts,list){idx=idx<list.length&&idx>=0?idx:list.length;return[].concat(Array.prototype.slice.call(list,0,idx),elts,Array.prototype.slice.call(list,idx))});module.exports=insertAll},{"./internal/_curry3":150}],135:[function(require,module,exports){var _contains=require("./_contains");var _Set=function(){function _Set(){this._nativeSet=typeof Set==="function"?new Set:null;this._items={}}_Set.prototype.add=function(item){return!hasOrAdd(item,true,this)};_Set.prototype.has=function(item){return hasOrAdd(item,false,this)};return _Set}();function hasOrAdd(item,shouldAdd,set){var type=typeof item;var prevSize,newSize;switch(type){case"string":case"number":if(item===0&&1/item===-Infinity){if(set._items["-0"]){return true}else{if(shouldAdd){set._items["-0"]=true}return false}}if(set._nativeSet!==null){if(shouldAdd){prevSize=set._nativeSet.size;set._nativeSet.add(item);newSize=set._nativeSet.size;return newSize===prevSize}else{return set._nativeSet.has(item)}}else{if(!(type in set._items)){if(shouldAdd){set._items[type]={};set._items[type][item]=true}return false}else if(item in set._items[type]){return true}else{if(shouldAdd){set._items[type][item]=true}return false}}case"boolean":if(type in set._items){var bIdx=item?1:0;if(set._items[type][bIdx]){return true}else{if(shouldAdd){set._items[type][bIdx]=true}return false}}else{if(shouldAdd){set._items[type]=item?[false,true]:[true,false]}return false}case"function":if(set._nativeSet!==null){if(shouldAdd){prevSize=set._nativeSet.size;set._nativeSet.add(item);newSize=set._nativeSet.size;return newSize===prevSize}else{return set._nativeSet.has(item)}}else{if(!(type in set._items)){if(shouldAdd){set._items[type]=[item]}return false}if(!_contains(item,set._items[type])){if(shouldAdd){set._items[type].push(item)}return false}return true}case"undefined":if(set._items[type]){return true}else{if(shouldAdd){set._items[type]=true}return false}case"object":if(item===null){if(!set._items["null"]){if(shouldAdd){set._items["null"]=true}return false}return true}default:type=Object.prototype.toString.call(item);if(!(type in set._items)){if(shouldAdd){set._items[type]=[item]}return false}if(!_contains(item,set._items[type])){if(shouldAdd){set._items[type].push(item)}return false}return true}}module.exports=_Set},{"./_contains":145}],136:[function(require,module,exports){function _aperture(n,list){var idx=0;var limit=list.length-(n-1);var acc=new Array(limit>=0?limit:0);while(idx<limit){acc[idx]=Array.prototype.slice.call(list,idx,idx+n);idx+=1}return acc}module.exports=_aperture},{}],137:[function(require,module,exports){function _arity(n,fn){switch(n){case 0:return function(){return fn.apply(this,arguments)};case 1:return function(a0){return fn.apply(this,arguments)};case 2:return function(a0,a1){return fn.apply(this,arguments)};case 3:return function(a0,a1,a2){return fn.apply(this,arguments)};case 4:return function(a0,a1,a2,a3){return fn.apply(this,arguments)};case 5:return function(a0,a1,a2,a3,a4){return fn.apply(this,arguments)};case 6:return function(a0,a1,a2,a3,a4,a5){return fn.apply(this,arguments)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){return fn.apply(this,arguments)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){return fn.apply(this,arguments)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){return fn.apply(this,arguments)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){return fn.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}module.exports=_arity},{}],138:[function(require,module,exports){function _arrayFromIterator(iter){var list=[];var next;while(!(next=iter.next()).done){list.push(next.value)}return list}module.exports=_arrayFromIterator},{}],139:[function(require,module,exports){var _objectAssign=require("./_objectAssign");module.exports=typeof Object.assign==="function"?Object.assign:_objectAssign},{"./_objectAssign":176}],140:[function(require,module,exports){var _isArray=require("./_isArray");function _checkForMethod(methodname,fn){return function(){var length=arguments.length;if(length===0){return fn()}var obj=arguments[length-1];return _isArray(obj)||typeof obj[methodname]!=="function"?fn.apply(this,arguments):obj[methodname].apply(obj,Array.prototype.slice.call(arguments,0,length-1))}}module.exports=_checkForMethod},{"./_isArray":164}],141:[function(require,module,exports){var _cloneRegExp=require("./_cloneRegExp");var type=require("../type");function _clone(value,refFrom,refTo,deep){var copy=function copy(copiedValue){var len=refFrom.length;var idx=0;while(idx<len){if(value===refFrom[idx]){return refTo[idx]}idx+=1}refFrom[idx+1]=value;refTo[idx+1]=copiedValue;for(var key in value){copiedValue[key]=deep?_clone(value[key],refFrom,refTo,true):value[key]}return copiedValue};switch(type(value)){case"Object":return copy({});case"Array":return copy([]);case"Date":return new Date(value.valueOf());case"RegExp":return _cloneRegExp(value);default:return value}}module.exports=_clone},{"../type":337,"./_cloneRegExp":142}],142:[function(require,module,exports){function _cloneRegExp(pattern){return new RegExp(pattern.source,(pattern.global?"g":"")+(pattern.ignoreCase?"i":"")+(pattern.multiline?"m":"")+(pattern.sticky?"y":"")+(pattern.unicode?"u":""))}module.exports=_cloneRegExp},{}],143:[function(require,module,exports){function _complement(f){return function(){return!f.apply(this,arguments)}}module.exports=_complement},{}],144:[function(require,module,exports){function _concat(set1,set2){set1=set1||[];set2=set2||[];var idx;var len1=set1.length;var len2=set2.length;var result=[];idx=0;while(idx<len1){result[result.length]=set1[idx];idx+=1}idx=0;while(idx<len2){result[result.length]=set2[idx];idx+=1}return result}module.exports=_concat},{}],145:[function(require,module,exports){var _indexOf=require("./_indexOf");function _contains(a,list){return _indexOf(list,a,0)>=0}module.exports=_contains},{"./_indexOf":162}],146:[function(require,module,exports){function _containsWith(pred,x,list){var idx=0;var len=list.length;while(idx<len){if(pred(x,list[idx])){return true}idx+=1}return false}module.exports=_containsWith},{}],147:[function(require,module,exports){var _arity=require("./_arity");var _curry2=require("./_curry2");function _createPartialApplicator(concat){return _curry2(function(fn,args){return _arity(Math.max(0,fn.length-args.length),function(){return fn.apply(this,concat(args,arguments))})})}module.exports=_createPartialApplicator},{"./_arity":137,"./_curry2":149}],148:[function(require,module,exports){var _isPlaceholder=require("./_isPlaceholder");function _curry1(fn){return function f1(a){if(arguments.length===0||_isPlaceholder(a)){return f1}else{return fn.apply(this,arguments)}}}module.exports=_curry1},{"./_isPlaceholder":170}],149:[function(require,module,exports){var _curry1=require("./_curry1");var _isPlaceholder=require("./_isPlaceholder");function _curry2(fn){return function f2(a,b){switch(arguments.length){case 0:return f2;case 1:return _isPlaceholder(a)?f2:_curry1(function(_b){return fn(a,_b)});default:return _isPlaceholder(a)&&_isPlaceholder(b)?f2:_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b)}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b)}):fn(a,b)}}}module.exports=_curry2},{"./_curry1":148,"./_isPlaceholder":170}],150:[function(require,module,exports){var _curry1=require("./_curry1");var _curry2=require("./_curry2");var _isPlaceholder=require("./_isPlaceholder");function _curry3(fn){return function f3(a,b,c){switch(arguments.length){case 0:return f3;case 1:return _isPlaceholder(a)?f3:_curry2(function(_b,_c){return fn(a,_b,_c)});case 2:return _isPlaceholder(a)&&_isPlaceholder(b)?f3:_isPlaceholder(a)?_curry2(function(_a,_c){return fn(_a,b,_c)}):_isPlaceholder(b)?_curry2(function(_b,_c){return fn(a,_b,_c)}):_curry1(function(_c){return fn(a,b,_c)});default:return _isPlaceholder(a)&&_isPlaceholder(b)&&_isPlaceholder(c)?f3:_isPlaceholder(a)&&_isPlaceholder(b)?_curry2(function(_a,_b){return fn(_a,_b,c)}):_isPlaceholder(a)&&_isPlaceholder(c)?_curry2(function(_a,_c){return fn(_a,b,_c)}):_isPlaceholder(b)&&_isPlaceholder(c)?_curry2(function(_b,_c){return fn(a,_b,_c)}):_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b,c)}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b,c)}):_isPlaceholder(c)?_curry1(function(_c){return fn(a,b,_c)}):fn(a,b,c)}}}module.exports=_curry3},{"./_curry1":148,"./_curry2":149,"./_isPlaceholder":170}],151:[function(require,module,exports){var _arity=require("./_arity");var _isPlaceholder=require("./_isPlaceholder");function _curryN(length,received,fn){return function(){var combined=[];var argsIdx=0;var left=length;var combinedIdx=0;while(combinedIdx<received.length||argsIdx<arguments.length){var result;if(combinedIdx<received.length&&(!_isPlaceholder(received[combinedIdx])||argsIdx>=arguments.length)){result=received[combinedIdx]}else{result=arguments[argsIdx];argsIdx+=1}combined[combinedIdx]=result;if(!_isPlaceholder(result)){left-=1}combinedIdx+=1}return left<=0?fn.apply(this,combined):_arity(left,_curryN(length,combined,fn))}}module.exports=_curryN},{"./_arity":137,"./_isPlaceholder":170}],152:[function(require,module,exports){var _isArray=require("./_isArray");var _isTransformer=require("./_isTransformer");function _dispatchable(methodNames,xf,fn){return function(){if(arguments.length===0){return fn()}var args=Array.prototype.slice.call(arguments,0);var obj=args.pop();if(!_isArray(obj)){var idx=0;while(idx<methodNames.length){if(typeof obj[methodNames[idx]]==="function"){return obj[methodNames[idx]].apply(obj,args)}idx+=1}if(_isTransformer(obj)){var transducer=xf.apply(null,args);return transducer(obj)}}return fn.apply(this,arguments)}}module.exports=_dispatchable},{"./_isArray":164,"./_isTransformer":173}],153:[function(require,module,exports){var take=require("../take");function dropLast(n,xs){return take(n<xs.length?xs.length-n:0,xs)}module.exports=dropLast},{"../take":320}],154:[function(require,module,exports){var slice=require("../slice");function dropLastWhile(pred,xs){var idx=xs.length-1;while(idx>=0&&pred(xs[idx])){idx-=1}return slice(0,idx+1,xs)}module.exports=dropLastWhile},{"../slice":306}],155:[function(require,module,exports){var _arrayFromIterator=require("./_arrayFromIterator");var _containsWith=require("./_containsWith");var _functionName=require("./_functionName");var _has=require("./_has");var identical=require("../identical");var keys=require("../keys");var type=require("../type");function _uniqContentEquals(aIterator,bIterator,stackA,stackB){var a=_arrayFromIterator(aIterator);var b=_arrayFromIterator(bIterator);function eq(_a,_b){return _equals(_a,_b,stackA.slice(),stackB.slice())}return!_containsWith(function(b,aItem){return!_containsWith(eq,aItem,b)},b,a)}function _equals(a,b,stackA,stackB){if(identical(a,b)){return true}var typeA=type(a);if(typeA!==type(b)){return false}if(a==null||b==null){return false}if(typeof a["fantasy-land/equals"]==="function"||typeof b["fantasy-land/equals"]==="function"){return typeof a["fantasy-land/equals"]==="function"&&a["fantasy-land/equals"](b)&&typeof b["fantasy-land/equals"]==="function"&&b["fantasy-land/equals"](a)}if(typeof a.equals==="function"||typeof b.equals==="function"){return typeof a.equals==="function"&&a.equals(b)&&typeof b.equals==="function"&&b.equals(a)}switch(typeA){case"Arguments":case"Array":case"Object":if(typeof a.constructor==="function"&&_functionName(a.constructor)==="Promise"){return a===b}break;case"Boolean":case"Number":case"String":if(!(typeof a===typeof b&&identical(a.valueOf(),b.valueOf()))){return false}break;case"Date":if(!identical(a.valueOf(),b.valueOf())){return false}break;case"Error":return a.name===b.name&&a.message===b.message;case"RegExp":if(!(a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline&&a.sticky===b.sticky&&a.unicode===b.unicode)){return false}break}var idx=stackA.length-1;while(idx>=0){if(stackA[idx]===a){return stackB[idx]===b}idx-=1}switch(typeA){case"Map":if(a.size!==b.size){return false}return _uniqContentEquals(a.entries(),b.entries(),stackA.concat([a]),stackB.concat([b]));case"Set":if(a.size!==b.size){return false}return _uniqContentEquals(a.values(),b.values(),stackA.concat([a]),stackB.concat([b]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return false}var keysA=keys(a);if(keysA.length!==keys(b).length){return false}var extendedStackA=stackA.concat([a]);var extendedStackB=stackB.concat([b]);idx=keysA.length-1;while(idx>=0){var key=keysA[idx];if(!(_has(key,b)&&_equals(b[key],a[key],extendedStackA,extendedStackB))){return false}idx-=1}return true}module.exports=_equals},{"../identical":124,"../keys":218,"../type":337,"./_arrayFromIterator":138,"./_containsWith":146,"./_functionName":159,"./_has":160}],156:[function(require,module,exports){function _filter(fn,list){var idx=0;var len=list.length;var result=[];while(idx<len){if(fn(list[idx])){result[result.length]=list[idx]}idx+=1}return result}module.exports=_filter},{}],157:[function(require,module,exports){var _forceReduced=require("./_forceReduced");var _isArrayLike=require("./_isArrayLike");var _reduce=require("./_reduce");var _xfBase=require("./_xfBase");var preservingReduced=function(xf){return{"@@transducer/init":_xfBase.init,"@@transducer/result":function(result){return xf["@@transducer/result"](result)},"@@transducer/step":function(result,input){var ret=xf["@@transducer/step"](result,input);return ret["@@transducer/reduced"]?_forceReduced(ret):ret}}};var _flatCat=function _xcat(xf){var rxf=preservingReduced(xf);return{"@@transducer/init":_xfBase.init,"@@transducer/result":function(result){return rxf["@@transducer/result"](result)},"@@transducer/step":function(result,input){return!_isArrayLike(input)?_reduce(rxf,result,[input]):_reduce(rxf,result,input)}}};module.exports=_flatCat},{"./_forceReduced":158,"./_isArrayLike":165,"./_reduce":181,"./_xfBase":195}],158:[function(require,module,exports){function _forceReduced(x){return{"@@transducer/value":x,"@@transducer/reduced":true}}module.exports=_forceReduced},{}],159:[function(require,module,exports){function _functionName(f){var match=String(f).match(/^function (\w*)/);return match==null?"":match[1]}module.exports=_functionName},{}],160:[function(require,module,exports){function _has(prop,obj){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=_has},{}],161:[function(require,module,exports){function _identity(x){return x}module.exports=_identity},{}],162:[function(require,module,exports){var equals=require("../equals");function _indexOf(list,a,idx){var inf,item;if(typeof list.indexOf==="function"){switch(typeof a){case"number":if(a===0){inf=1/a;while(idx<list.length){item=list[idx];if(item===0&&1/item===inf){return idx}idx+=1}return-1}else if(a!==a){while(idx<list.length){item=list[idx];if(typeof item==="number"&&item!==item){return idx}idx+=1}return-1}return list.indexOf(a,idx);case"string":case"boolean":case"function":case"undefined":return list.indexOf(a,idx);case"object":if(a===null){return list.indexOf(a,idx)}}}while(idx<list.length){if(equals(list[idx],a)){return idx}idx+=1}return-1}module.exports=_indexOf},{"../equals":105}],163:[function(require,module,exports){var _has=require("./_has");var toString=Object.prototype.toString;var _isArguments=function(){return toString.call(arguments)==="[object Arguments]"?function _isArguments(x){return toString.call(x)==="[object Arguments]"}:function _isArguments(x){return _has("callee",x)}};module.exports=_isArguments},{"./_has":160}],164:[function(require,module,exports){module.exports=Array.isArray||function _isArray(val){return val!=null&&val.length>=0&&Object.prototype.toString.call(val)==="[object Array]"}},{}],165:[function(require,module,exports){var _curry1=require("./_curry1");var _isArray=require("./_isArray");var _isString=require("./_isString");var _isArrayLike=_curry1(function isArrayLike(x){if(_isArray(x)){return true}if(!x){return false}if(typeof x!=="object"){return false}if(_isString(x)){return false}if(x.nodeType===1){return!!x.length}if(x.length===0){return true}if(x.length>0){return x.hasOwnProperty(0)&&x.hasOwnProperty(x.length-1)}return false});module.exports=_isArrayLike},{"./_curry1":148,"./_isArray":164,"./_isString":172}],166:[function(require,module,exports){function _isFunction(x){return Object.prototype.toString.call(x)==="[object Function]"}module.exports=_isFunction},{}],167:[function(require,module,exports){module.exports=Number.isInteger||function _isInteger(n){return n<<0===n}},{}],168:[function(require,module,exports){function _isNumber(x){return Object.prototype.toString.call(x)==="[object Number]"}module.exports=_isNumber},{}],169:[function(require,module,exports){function _isObject(x){return Object.prototype.toString.call(x)==="[object Object]"}module.exports=_isObject},{}],170:[function(require,module,exports){function _isPlaceholder(a){return a!=null&&typeof a==="object"&&a["@@functional/placeholder"]===true}module.exports=_isPlaceholder},{}],171:[function(require,module,exports){function _isRegExp(x){return Object.prototype.toString.call(x)==="[object RegExp]"}module.exports=_isRegExp},{}],172:[function(require,module,exports){function _isString(x){return Object.prototype.toString.call(x)==="[object String]"}module.exports=_isString},{}],173:[function(require,module,exports){function _isTransformer(obj){return typeof obj["@@transducer/step"]==="function"}module.exports=_isTransformer},{}],174:[function(require,module,exports){var _isArrayLike=require("./_isArrayLike");function _makeFlat(recursive){return function flatt(list){var value,jlen,j;var result=[];var idx=0;var ilen=list.length;while(idx<ilen){if(_isArrayLike(list[idx])){value=recursive?flatt(list[idx]):list[idx];j=0;jlen=value.length;while(j<jlen){result[result.length]=value[j];j+=1}}else{result[result.length]=list[idx]}idx+=1}return result}}module.exports=_makeFlat},{"./_isArrayLike":165}],175:[function(require,module,exports){function _map(fn,functor){var idx=0;var len=functor.length;var result=Array(len);while(idx<len){result[idx]=fn(functor[idx]);idx+=1}return result}module.exports=_map},{}],176:[function(require,module,exports){var _has=require("./_has");function _objectAssign(target){if(target==null){throw new TypeError("Cannot convert undefined or null to object")}var output=Object(target);var idx=1;var length=arguments.length;while(idx<length){var source=arguments[idx];if(source!=null){for(var nextKey in source){if(_has(nextKey,source)){output[nextKey]=source[nextKey]}}}idx+=1}return output}module.exports=_objectAssign},{"./_has":160}],177:[function(require,module,exports){function _of(x){return[x]}module.exports=_of},{}],178:[function(require,module,exports){function _pipe(f,g){return function(){return g.call(this,f.apply(this,arguments))}}module.exports=_pipe},{}],179:[function(require,module,exports){function _pipeP(f,g){return function(){var ctx=this;return f.apply(ctx,arguments).then(function(x){return g.call(ctx,x)})}}module.exports=_pipeP},{}],180:[function(require,module,exports){function _quote(s){var escaped=s.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+escaped.replace(/"/g,'\\"')+'"'}module.exports=_quote},{}],181:[function(require,module,exports){var _isArrayLike=require("./_isArrayLike");var _xwrap=require("./_xwrap");var bind=require("../bind");function _arrayReduce(xf,acc,list){var idx=0;var len=list.length;while(idx<len){acc=xf["@@transducer/step"](acc,list[idx]);if(acc&&acc["@@transducer/reduced"]){acc=acc["@@transducer/value"];break}idx+=1}return xf["@@transducer/result"](acc)}function _iterableReduce(xf,acc,iter){var step=iter.next();while(!step.done){acc=xf["@@transducer/step"](acc,step.value);if(acc&&acc["@@transducer/reduced"]){acc=acc["@@transducer/value"];break}step=iter.next()}return xf["@@transducer/result"](acc)}function _methodReduce(xf,acc,obj,methodName){return xf["@@transducer/result"](obj[methodName](bind(xf["@@transducer/step"],xf),acc))}var symIterator=typeof Symbol!=="undefined"?Symbol.iterator:"@@iterator";function _reduce(fn,acc,list){if(typeof fn==="function"){fn=_xwrap(fn)}if(_isArrayLike(list)){return _arrayReduce(fn,acc,list)}if(typeof list["fantasy-land/reduce"]==="function"){return _methodReduce(fn,acc,list,"fantasy-land/reduce")}if(list[symIterator]!=null){return _iterableReduce(fn,acc,list[symIterator]())}if(typeof list.next==="function"){return _iterableReduce(fn,acc,list)}if(typeof list.reduce==="function"){return _methodReduce(fn,acc,list,"reduce")}throw new TypeError("reduce: list must be array or iterable")}module.exports=_reduce},{"../bind":66,"./_isArrayLike":165,"./_xwrap":206}],182:[function(require,module,exports){function _reduced(x){return x&&x["@@transducer/reduced"]?x:{"@@transducer/value":x,"@@transducer/reduced":true}}module.exports=_reduced},{}],183:[function(require,module,exports){var _assign=require("./_assign");var _identity=require("./_identity");var _isArrayLike=require("./_isArrayLike");var _isTransformer=require("./_isTransformer");var objOf=require("../objOf");var _stepCatArray={"@@transducer/init":Array,"@@transducer/step":function(xs,x){xs.push(x);return xs},"@@transducer/result":_identity};var _stepCatString={"@@transducer/init":String,"@@transducer/step":function(a,b){return a+b},"@@transducer/result":_identity};var _stepCatObject={"@@transducer/init":Object,"@@transducer/step":function(result,input){return _assign(result,_isArrayLike(input)?objOf(input[0],input[1]):input)},"@@transducer/result":_identity};function _stepCat(obj){if(_isTransformer(obj)){return obj}if(_isArrayLike(obj)){return _stepCatArray}if(typeof obj==="string"){return _stepCatString}if(typeof obj==="object"){return _stepCatObject}throw new Error("Cannot create transformer for "+obj)}module.exports=_stepCat},{"../objOf":262,"./_assign":139,"./_identity":161,"./_isArrayLike":165,"./_isTransformer":173}],184:[function(require,module,exports){var pad=function pad(n){return(n<10?"0":"")+n};var _toISOString=typeof Date.prototype.toISOString==="function"?function _toISOString(d){return d.toISOString()}:function _toISOString(d){return d.getUTCFullYear()+"-"+pad(d.getUTCMonth()+1)+"-"+pad(d.getUTCDate())+"T"+pad(d.getUTCHours())+":"+pad(d.getUTCMinutes())+":"+pad(d.getUTCSeconds())+"."+(d.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};module.exports=_toISOString},{}],185:[function(require,module,exports){var _contains=require("./_contains");var _map=require("./_map");var _quote=require("./_quote");var _toISOString=require("./_toISOString");var keys=require("../keys");var reject=require("../reject");function _toString(x,seen){var recur=function recur(y){var xs=seen.concat([x]);return _contains(y,xs)?"<Circular>":_toString(y,xs)};var mapPairs=function(obj,keys){return _map(function(k){return _quote(k)+": "+recur(obj[k])},keys.slice().sort())};switch(Object.prototype.toString.call(x)){case"[object Arguments]":return"(function() { return arguments; }("+_map(recur,x).join(", ")+"))";case"[object Array]":return"["+_map(recur,x).concat(mapPairs(x,reject(function(k){return/^\d+$/.test(k)},keys(x)))).join(", ")+"]";case"[object Boolean]":return typeof x==="object"?"new Boolean("+recur(x.valueOf())+")":x.toString();case"[object Date]":return"new Date("+(isNaN(x.valueOf())?recur(NaN):_quote(_toISOString(x)))+")";case"[object Null]":return"null";case"[object Number]":return typeof x==="object"?"new Number("+recur(x.valueOf())+")":1/x===-Infinity?"-0":x.toString(10);case"[object String]":return typeof x==="object"?"new String("+recur(x.valueOf())+")":_quote(x);case"[object Undefined]":return"undefined";default:if(typeof x.toString==="function"){var repr=x.toString();if(repr!=="[object Object]"){return repr}}return"{"+mapPairs(x,keys(x)).join(", ")+"}"}}module.exports=_toString},{"../keys":218,"../reject":298,"./_contains":145,"./_map":175,"./_quote":180,"./_toISOString":184}],186:[function(require,module,exports){var _curry2=require("./_curry2");var _reduced=require("./_reduced");var _xfBase=require("./_xfBase");var XAll=function(){function XAll(f,xf){this.xf=xf;this.f=f;this.all=true}XAll.prototype["@@transducer/init"]=_xfBase.init;XAll.prototype["@@transducer/result"]=function(result){if(this.all){result=this.xf["@@transducer/step"](result,true)}return this.xf["@@transducer/result"](result)};XAll.prototype["@@transducer/step"]=function(result,input){if(!this.f(input)){this.all=false;result=_reduced(this.xf["@@transducer/step"](result,false))}return result};return XAll}();var _xall=_curry2(function _xall(f,xf){return new XAll(f,xf)});module.exports=_xall},{"./_curry2":149,"./_reduced":182,"./_xfBase":195}],187:[function(require,module,exports){var _curry2=require("./_curry2");var _reduced=require("./_reduced");var _xfBase=require("./_xfBase");var XAny=function(){function XAny(f,xf){this.xf=xf;this.f=f;this.any=false}XAny.prototype["@@transducer/init"]=_xfBase.init;XAny.prototype["@@transducer/result"]=function(result){if(!this.any){result=this.xf["@@transducer/step"](result,false)}return this.xf["@@transducer/result"](result)};XAny.prototype["@@transducer/step"]=function(result,input){if(this.f(input)){this.any=true;result=_reduced(this.xf["@@transducer/step"](result,true))}return result};return XAny}();var _xany=_curry2(function _xany(f,xf){return new XAny(f,xf)});module.exports=_xany},{"./_curry2":149,"./_reduced":182,"./_xfBase":195}],188:[function(require,module,exports){var _concat=require("./_concat");var _curry2=require("./_curry2");var _xfBase=require("./_xfBase");var XAperture=function(){function XAperture(n,xf){this.xf=xf;this.pos=0;this.full=false;this.acc=new Array(n)}XAperture.prototype["@@transducer/init"]=_xfBase.init;XAperture.prototype["@@transducer/result"]=function(result){this.acc=null;return this.xf["@@transducer/result"](result)};XAperture.prototype["@@transducer/step"]=function(result,input){this.store(input);return this.full?this.xf["@@transducer/step"](result,this.getCopy()):result};XAperture.prototype.store=function(input){this.acc[this.pos]=input;this.pos+=1;if(this.pos===this.acc.length){this.pos=0;this.full=true}};XAperture.prototype.getCopy=function(){return _concat(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))};return XAperture}();var _xaperture=_curry2(function _xaperture(n,xf){return new XAperture(n,xf)});module.exports=_xaperture},{"./_concat":144,"./_curry2":149,"./_xfBase":195}],189:[function(require,module,exports){var _curry2=require("./_curry2");var _flatCat=require("./_flatCat");var map=require("../map");var _xchain=_curry2(function _xchain(f,xf){return map(f,_flatCat(xf))});module.exports=_xchain},{"../map":231,"./_curry2":149,"./_flatCat":157}],190:[function(require,module,exports){var _curry2=require("./_curry2");var _xfBase=require("./_xfBase");var XDrop=function(){function XDrop(n,xf){this.xf=xf;this.n=n}XDrop.prototype["@@transducer/init"]=_xfBase.init;XDrop.prototype["@@transducer/result"]=_xfBase.result;XDrop.prototype["@@transducer/step"]=function(result,input){if(this.n>0){this.n-=1;return result}return this.xf["@@transducer/step"](result,input)};return XDrop}();var _xdrop=_curry2(function _xdrop(n,xf){return new XDrop(n,xf)});module.exports=_xdrop},{"./_curry2":149,"./_xfBase":195}],191:[function(require,module,exports){var _curry2=require("./_curry2");var _xfBase=require("./_xfBase");var XDropLast=function(){function XDropLast(n,xf){this.xf=xf;this.pos=0;this.full=false;this.acc=new Array(n)}XDropLast.prototype["@@transducer/init"]=_xfBase.init;XDropLast.prototype["@@transducer/result"]=function(result){this.acc=null;return this.xf["@@transducer/result"](result)};XDropLast.prototype["@@transducer/step"]=function(result,input){if(this.full){result=this.xf["@@transducer/step"](result,this.acc[this.pos])}this.store(input);return result};XDropLast.prototype.store=function(input){this.acc[this.pos]=input;this.pos+=1;if(this.pos===this.acc.length){this.pos=0;this.full=true}};return XDropLast}();var _xdropLast=_curry2(function _xdropLast(n,xf){return new XDropLast(n,xf)});module.exports=_xdropLast},{"./_curry2":149,"./_xfBase":195}],192:[function(require,module,exports){var _curry2=require("./_curry2");var _reduce=require("./_reduce");var _xfBase=require("./_xfBase");var XDropLastWhile=function(){function XDropLastWhile(fn,xf){this.f=fn;this.retained=[];this.xf=xf}XDropLastWhile.prototype["@@transducer/init"]=_xfBase.init;XDropLastWhile.prototype["@@transducer/result"]=function(result){this.retained=null;return this.xf["@@transducer/result"](result)};XDropLastWhile.prototype["@@transducer/step"]=function(result,input){return this.f(input)?this.retain(result,input):this.flush(result,input)};XDropLastWhile.prototype.flush=function(result,input){result=_reduce(this.xf["@@transducer/step"],result,this.retained);this.retained=[];return this.xf["@@transducer/step"](result,input)};XDropLastWhile.prototype.retain=function(result,input){this.retained.push(input);return result};return XDropLastWhile}();var _xdropLastWhile=_curry2(function _xdropLastWhile(fn,xf){return new XDropLastWhile(fn,xf)});module.exports=_xdropLastWhile},{"./_curry2":149,"./_reduce":181,"./_xfBase":195}],193:[function(require,module,exports){var _curry2=require("./_curry2");var _xfBase=require("./_xfBase");var XDropRepeatsWith=function(){function XDropRepeatsWith(pred,xf){this.xf=xf;this.pred=pred;this.lastValue=undefined;this.seenFirstValue=false}XDropRepeatsWith.prototype["@@transducer/init"]=_xfBase.init;XDropRepeatsWith.prototype["@@transducer/result"]=_xfBase.result;XDropRepeatsWith.prototype["@@transducer/step"]=function(result,input){var sameAsLast=false;if(!this.seenFirstValue){this.seenFirstValue=true}else if(this.pred(this.lastValue,input)){sameAsLast=true}this.lastValue=input;return sameAsLast?result:this.xf["@@transducer/step"](result,input)};return XDropRepeatsWith}();var _xdropRepeatsWith=_curry2(function _xdropRepeatsWith(pred,xf){return new XDropRepeatsWith(pred,xf)});module.exports=_xdropRepeatsWith},{"./_curry2":149,"./_xfBase":195}],194:[function(require,module,exports){var _curry2=require("./_curry2");var _xfBase=require("./_xfBase");var XDropWhile=function(){function XDropWhile(f,xf){this.xf=xf;this.f=f}XDropWhile.prototype["@@transducer/init"]=_xfBase.init;XDropWhile.prototype["@@transducer/result"]=_xfBase.result;XDropWhile.prototype["@@transducer/step"]=function(result,input){if(this.f){if(this.f(input)){return result}this.f=null}return this.xf["@@transducer/step"](result,input)};return XDropWhile}();var _xdropWhile=_curry2(function _xdropWhile(f,xf){return new XDropWhile(f,xf)});module.exports=_xdropWhile},{"./_curry2":149,"./_xfBase":195}],195:[function(require,module,exports){module.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(result){return this.xf["@@transducer/result"](result)}}},{}],196:[function(require,module,exports){var _curry2=require("./_curry2");var _xfBase=require("./_xfBase");var XFilter=function(){function XFilter(f,xf){this.xf=xf;this.f=f}XFilter.prototype["@@transducer/init"]=_xfBase.init;XFilter.prototype["@@transducer/result"]=_xfBase.result;XFilter.prototype["@@transducer/step"]=function(result,input){return this.f(input)?this.xf["@@transducer/step"](result,input):result};return XFilter}();var _xfilter=_curry2(function _xfilter(f,xf){return new XFilter(f,xf)});module.exports=_xfilter},{"./_curry2":149,"./_xfBase":195}],197:[function(require,module,exports){var _curry2=require("./_curry2");var _reduced=require("./_reduced");var _xfBase=require("./_xfBase");var XFind=function(){function XFind(f,xf){this.xf=xf;this.f=f;this.found=false}XFind.prototype["@@transducer/init"]=_xfBase.init;XFind.prototype["@@transducer/result"]=function(result){if(!this.found){result=this.xf["@@transducer/step"](result,void 0)}return this.xf["@@transducer/result"](result)};XFind.prototype["@@transducer/step"]=function(result,input){if(this.f(input)){this.found=true;result=_reduced(this.xf["@@transducer/step"](result,input))}return result};return XFind}();var _xfind=_curry2(function _xfind(f,xf){return new XFind(f,xf)});module.exports=_xfind},{"./_curry2":149,"./_reduced":182,"./_xfBase":195}],198:[function(require,module,exports){var _curry2=require("./_curry2");var _reduced=require("./_reduced");var _xfBase=require("./_xfBase");var XFindIndex=function(){function XFindIndex(f,xf){this.xf=xf;this.f=f;this.idx=-1;this.found=false}XFindIndex.prototype["@@transducer/init"]=_xfBase.init;XFindIndex.prototype["@@transducer/result"]=function(result){if(!this.found){result=this.xf["@@transducer/step"](result,-1)}return this.xf["@@transducer/result"](result)};XFindIndex.prototype["@@transducer/step"]=function(result,input){this.idx+=1;if(this.f(input)){this.found=true;result=_reduced(this.xf["@@transducer/step"](result,this.idx))}return result};return XFindIndex}();var _xfindIndex=_curry2(function _xfindIndex(f,xf){return new XFindIndex(f,xf)});module.exports=_xfindIndex},{"./_curry2":149,"./_reduced":182,"./_xfBase":195}],199:[function(require,module,exports){var _curry2=require("./_curry2");var _xfBase=require("./_xfBase");var XFindLast=function(){function XFindLast(f,xf){this.xf=xf;this.f=f}XFindLast.prototype["@@transducer/init"]=_xfBase.init;XFindLast.prototype["@@transducer/result"]=function(result){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](result,this.last))};XFindLast.prototype["@@transducer/step"]=function(result,input){if(this.f(input)){this.last=input}return result};return XFindLast}();var _xfindLast=_curry2(function _xfindLast(f,xf){return new XFindLast(f,xf)});module.exports=_xfindLast},{"./_curry2":149,"./_xfBase":195}],200:[function(require,module,exports){var _curry2=require("./_curry2");var _xfBase=require("./_xfBase");var XFindLastIndex=function(){function XFindLastIndex(f,xf){this.xf=xf;this.f=f;this.idx=-1;this.lastIdx=-1}XFindLastIndex.prototype["@@transducer/init"]=_xfBase.init;XFindLastIndex.prototype["@@transducer/result"]=function(result){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](result,this.lastIdx))};XFindLastIndex.prototype["@@transducer/step"]=function(result,input){this.idx+=1;if(this.f(input)){this.lastIdx=this.idx}return result};return XFindLastIndex}();var _xfindLastIndex=_curry2(function _xfindLastIndex(f,xf){return new XFindLastIndex(f,xf)});module.exports=_xfindLastIndex},{"./_curry2":149,"./_xfBase":195}],201:[function(require,module,exports){var _curry2=require("./_curry2");var _xfBase=require("./_xfBase");var XMap=function(){function XMap(f,xf){this.xf=xf;this.f=f}XMap.prototype["@@transducer/init"]=_xfBase.init;XMap.prototype["@@transducer/result"]=_xfBase.result;XMap.prototype["@@transducer/step"]=function(result,input){return this.xf["@@transducer/step"](result,this.f(input))};return XMap}();var _xmap=_curry2(function _xmap(f,xf){return new XMap(f,xf)});module.exports=_xmap},{"./_curry2":149,"./_xfBase":195}],202:[function(require,module,exports){var _curryN=require("./_curryN");var _has=require("./_has");var _xfBase=require("./_xfBase");var XReduceBy=function(){function XReduceBy(valueFn,valueAcc,keyFn,xf){this.valueFn=valueFn;this.valueAcc=valueAcc;this.keyFn=keyFn;this.xf=xf;this.inputs={}}XReduceBy.prototype["@@transducer/init"]=_xfBase.init;XReduceBy.prototype["@@transducer/result"]=function(result){var key;for(key in this.inputs){if(_has(key,this.inputs)){result=this.xf["@@transducer/step"](result,this.inputs[key]);if(result["@@transducer/reduced"]){result=result["@@transducer/value"];break}}}this.inputs=null;return this.xf["@@transducer/result"](result)};XReduceBy.prototype["@@transducer/step"]=function(result,input){var key=this.keyFn(input);this.inputs[key]=this.inputs[key]||[key,this.valueAcc];this.inputs[key][1]=this.valueFn(this.inputs[key][1],input);return result};return XReduceBy}();var _xreduceBy=_curryN(4,[],function _xreduceBy(valueFn,valueAcc,keyFn,xf){return new XReduceBy(valueFn,valueAcc,keyFn,xf)});module.exports=_xreduceBy},{"./_curryN":151,"./_has":160,"./_xfBase":195}],203:[function(require,module,exports){var _curry2=require("./_curry2");var _reduced=require("./_reduced");var _xfBase=require("./_xfBase");var XTake=function(){function XTake(n,xf){this.xf=xf;this.n=n;this.i=0}XTake.prototype["@@transducer/init"]=_xfBase.init;XTake.prototype["@@transducer/result"]=_xfBase.result;XTake.prototype["@@transducer/step"]=function(result,input){this.i+=1;var ret=this.n===0?result:this.xf["@@transducer/step"](result,input);return this.n>=0&&this.i>=this.n?_reduced(ret):ret};return XTake}();var _xtake=_curry2(function _xtake(n,xf){return new XTake(n,xf)});module.exports=_xtake},{"./_curry2":149,"./_reduced":182,"./_xfBase":195}],204:[function(require,module,exports){var _curry2=require("./_curry2");var _reduced=require("./_reduced");var _xfBase=require("./_xfBase");var XTakeWhile=function(){function XTakeWhile(f,xf){this.xf=xf;this.f=f}XTakeWhile.prototype["@@transducer/init"]=_xfBase.init;XTakeWhile.prototype["@@transducer/result"]=_xfBase.result;XTakeWhile.prototype["@@transducer/step"]=function(result,input){return this.f(input)?this.xf["@@transducer/step"](result,input):_reduced(result)};return XTakeWhile}();var _xtakeWhile=_curry2(function _xtakeWhile(f,xf){return new XTakeWhile(f,xf)});module.exports=_xtakeWhile},{"./_curry2":149,"./_reduced":182,"./_xfBase":195}],205:[function(require,module,exports){var _curry2=require("./_curry2");var _xfBase=require("./_xfBase");var XTap=function(){function XTap(f,xf){this.xf=xf;this.f=f}XTap.prototype["@@transducer/init"]=_xfBase.init;XTap.prototype["@@transducer/result"]=_xfBase.result;XTap.prototype["@@transducer/step"]=function(result,input){this.f(input);return this.xf["@@transducer/step"](result,input)};return XTap}();var _xtap=_curry2(function _xtap(f,xf){return new XTap(f,xf)});module.exports=_xtap},{"./_curry2":149,"./_xfBase":195}],206:[function(require,module,exports){var XWrap=function(){function XWrap(fn){this.f=fn}XWrap.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")};XWrap.prototype["@@transducer/result"]=function(acc){return acc};XWrap.prototype["@@transducer/step"]=function(acc,x){return this.f(acc,x)};return XWrap}();function _xwrap(fn){return new XWrap(fn)}module.exports=_xwrap},{}],207:[function(require,module,exports){var _contains=require("./internal/_contains");var _curry2=require("./internal/_curry2");var _filter=require("./internal/_filter");var flip=require("./flip");var uniq=require("./uniq");var intersection=_curry2(function intersection(list1,list2){var lookupList,filteredList;if(list1.length>list2.length){lookupList=list1;filteredList=list2}else{lookupList=list2;filteredList=list1}return uniq(_filter(flip(_contains)(lookupList),filteredList))});module.exports=intersection},{"./flip":113,"./internal/_contains":145,"./internal/_curry2":149,"./internal/_filter":156,"./uniq":344}],208:[function(require,module,exports){var _checkForMethod=require("./internal/_checkForMethod");var _curry2=require("./internal/_curry2");var intersperse=_curry2(_checkForMethod("intersperse",function intersperse(separator,list){var out=[];var idx=0;var length=list.length;while(idx<length){if(idx===length-1){out.push(list[idx])}else{out.push(list[idx],separator)}idx+=1}return out}));module.exports=intersperse},{"./internal/_checkForMethod":140,"./internal/_curry2":149}],209:[function(require,module,exports){var _clone=require("./internal/_clone");var _curry3=require("./internal/_curry3");var _isTransformer=require("./internal/_isTransformer");var _reduce=require("./internal/_reduce");var _stepCat=require("./internal/_stepCat");var into=_curry3(function into(acc,xf,list){return _isTransformer(acc)?_reduce(xf(acc),acc["@@transducer/init"](),list):_reduce(xf(_stepCat(acc)),_clone(acc,[],[],false),list)});module.exports=into},{"./internal/_clone":141,"./internal/_curry3":150,"./internal/_isTransformer":173,"./internal/_reduce":181,"./internal/_stepCat":183}],210:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _has=require("./internal/_has");var keys=require("./keys");var invert=_curry1(function invert(obj){var props=keys(obj);var len=props.length;var idx=0;var out={};while(idx<len){var key=props[idx];var val=obj[key];var list=_has(val,out)?out[val]:out[val]=[];list[list.length]=key;idx+=1}return out});module.exports=invert},{"./internal/_curry1":148,"./internal/_has":160,"./keys":218}],211:[function(require,module,exports){var _curry1=require("./internal/_curry1");var keys=require("./keys");var invertObj=_curry1(function invertObj(obj){var props=keys(obj);var len=props.length;var idx=0;var out={};while(idx<len){var key=props[idx];out[obj[key]]=key;idx+=1}return out});module.exports=invertObj},{"./internal/_curry1":148,"./keys":218}],212:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _isFunction=require("./internal/_isFunction");var curryN=require("./curryN");var toString=require("./toString");var invoker=_curry2(function invoker(arity,method){return curryN(arity+1,function(){var target=arguments[arity];if(target!=null&&_isFunction(target[method])){return target[method].apply(target,Array.prototype.slice.call(arguments,0,arity))}throw new TypeError(toString(target)+' does not have a method named "'+method+'"')})});module.exports=invoker},{"./curryN":85,"./internal/_curry2":149,"./internal/_isFunction":166,"./toString":330}],213:[function(require,module,exports){var _curry2=require("./internal/_curry2");var is=_curry2(function is(Ctor,val){return val!=null&&val.constructor===Ctor||val instanceof Ctor});module.exports=is},{"./internal/_curry2":149}],214:[function(require,module,exports){var _curry1=require("./internal/_curry1");var empty=require("./empty");var equals=require("./equals");var isEmpty=_curry1(function isEmpty(x){return x!=null&&equals(x,empty(x))});module.exports=isEmpty},{"./empty":101,"./equals":105,"./internal/_curry1":148}],215:[function(require,module,exports){var _curry1=require("./internal/_curry1");var isNil=_curry1(function isNil(x){return x==null});module.exports=isNil},{"./internal/_curry1":148}],216:[function(require,module,exports){var invoker=require("./invoker");var join=invoker(1,"join");module.exports=join},{"./invoker":212}],217:[function(require,module,exports){var _curry1=require("./internal/_curry1");var converge=require("./converge");var juxt=_curry1(function juxt(fns){return converge(function(){return Array.prototype.slice.call(arguments,0)},fns)});module.exports=juxt},{"./converge":82,"./internal/_curry1":148}],218:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _has=require("./internal/_has");var _isArguments=require("./internal/_isArguments");var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString");var nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];var hasArgsEnumBug=function(){"use strict";return arguments.propertyIsEnumerable("length")}();var contains=function contains(list,item){var idx=0;while(idx<list.length){if(list[idx]===item){return true}idx+=1}return false};var _keys=typeof Object.keys==="function"&&!hasArgsEnumBug?function keys(obj){return Object(obj)!==obj?[]:Object.keys(obj)}:function keys(obj){if(Object(obj)!==obj){return[]}var prop,nIdx;var ks=[];var checkArgsLength=hasArgsEnumBug&&_isArguments(obj);for(prop in obj){if(_has(prop,obj)&&(!checkArgsLength||prop!=="length")){ks[ks.length]=prop}}if(hasEnumBug){nIdx=nonEnumerableProps.length-1;while(nIdx>=0){prop=nonEnumerableProps[nIdx];if(_has(prop,obj)&&!contains(ks,prop)){ks[ks.length]=prop}nIdx-=1}}return ks};var keys=_curry1(_keys);module.exports=keys},{"./internal/_curry1":148,"./internal/_has":160,"./internal/_isArguments":163}],219:[function(require,module,exports){var _curry1=require("./internal/_curry1");var keysIn=_curry1(function keysIn(obj){var prop;var ks=[];for(prop in obj){ks[ks.length]=prop}return ks});module.exports=keysIn},{"./internal/_curry1":148}],220:[function(require,module,exports){var nth=require("./nth");var last=nth(-1);module.exports=last},{"./nth":259}],221:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _isArray=require("./internal/_isArray");var equals=require("./equals");var lastIndexOf=_curry2(function lastIndexOf(target,xs){if(typeof xs.lastIndexOf==="function"&&!_isArray(xs)){return xs.lastIndexOf(target)}else{var idx=xs.length-1;while(idx>=0){if(equals(xs[idx],target)){return idx}idx-=1}return-1}});module.exports=lastIndexOf},{"./equals":105,"./internal/_curry2":149,"./internal/_isArray":164}],222:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _isNumber=require("./internal/_isNumber");var length=_curry1(function length(list){return list!=null&&_isNumber(list.length)?list.length:NaN});module.exports=length},{"./internal/_curry1":148,"./internal/_isNumber":168}],223:[function(require,module,exports){var _curry2=require("./internal/_curry2");var map=require("./map");var lens=_curry2(function lens(getter,setter){return function(toFunctorFn){return function(target){return map(function(focus){return setter(focus,target)},toFunctorFn(getter(target)))}}});module.exports=lens},{"./internal/_curry2":149,"./map":231}],224:[function(require,module,exports){var _curry1=require("./internal/_curry1");var lens=require("./lens");var nth=require("./nth");var update=require("./update");var lensIndex=_curry1(function lensIndex(n){return lens(nth(n),update(n))});module.exports=lensIndex},{"./internal/_curry1":148,"./lens":223,"./nth":259,"./update":350}],225:[function(require,module,exports){var _curry1=require("./internal/_curry1");var assocPath=require("./assocPath");var lens=require("./lens");var path=require("./path");var lensPath=_curry1(function lensPath(p){return lens(path(p),assocPath(p))});module.exports=lensPath},{"./assocPath":64,"./internal/_curry1":148,"./lens":223,"./path":272}],226:[function(require,module,exports){var _curry1=require("./internal/_curry1");var assoc=require("./assoc");var lens=require("./lens");var prop=require("./prop");var lensProp=_curry1(function lensProp(k){return lens(prop(k),assoc(k))});module.exports=lensProp},{"./assoc":63,"./internal/_curry1":148,"./lens":223,"./prop":286}],227:[function(require,module,exports){var _curry1=require("./internal/_curry1");var liftN=require("./liftN");var lift=_curry1(function lift(fn){return liftN(fn.length,fn)});module.exports=lift},{"./internal/_curry1":148,"./liftN":228}],228:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _reduce=require("./internal/_reduce");var ap=require("./ap");var curryN=require("./curryN");var map=require("./map");var liftN=_curry2(function liftN(arity,fn){var lifted=curryN(arity,fn);return curryN(arity,function(){return _reduce(ap,map(lifted,arguments[0]),Array.prototype.slice.call(arguments,1))})});module.exports=liftN},{"./ap":56,"./curryN":85,"./internal/_curry2":149,"./internal/_reduce":181,"./map":231}],229:[function(require,module,exports){var _curry2=require("./internal/_curry2");var lt=_curry2(function lt(a,b){return a<b});module.exports=lt},{"./internal/_curry2":149}],230:[function(require,module,exports){var _curry2=require("./internal/_curry2");var lte=_curry2(function lte(a,b){return a<=b});module.exports=lte},{"./internal/_curry2":149}],231:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _map=require("./internal/_map");var _reduce=require("./internal/_reduce");var _xmap=require("./internal/_xmap");var curryN=require("./curryN");var keys=require("./keys");var map=_curry2(_dispatchable(["fantasy-land/map","map"],_xmap,function map(fn,functor){switch(Object.prototype.toString.call(functor)){case"[object Function]":return curryN(functor.length,function(){return fn.call(this,functor.apply(this,arguments))});case"[object Object]":return _reduce(function(acc,key){acc[key]=fn(functor[key]);return acc},{},keys(functor));default:return _map(fn,functor)}}));module.exports=map},{"./curryN":85,"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_map":175,"./internal/_reduce":181,"./internal/_xmap":201,"./keys":218}],232:[function(require,module,exports){var _curry3=require("./internal/_curry3");var mapAccum=_curry3(function mapAccum(fn,acc,list){var idx=0;var len=list.length;var result=[];var tuple=[acc];while(idx<len){tuple=fn(tuple[0],list[idx]);result[idx]=tuple[1];idx+=1}return[tuple[0],result]});module.exports=mapAccum},{"./internal/_curry3":150}],233:[function(require,module,exports){var _curry3=require("./internal/_curry3");var mapAccumRight=_curry3(function mapAccumRight(fn,acc,list){var idx=list.length-1;var result=[];var tuple=[acc];while(idx>=0){tuple=fn(list[idx],tuple[0]);result[idx]=tuple[1];idx-=1}return[result,tuple[0]]});module.exports=mapAccumRight},{"./internal/_curry3":150}],234:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _reduce=require("./internal/_reduce");var keys=require("./keys");var mapObjIndexed=_curry2(function mapObjIndexed(fn,obj){return _reduce(function(acc,key){acc[key]=fn(obj[key],key,obj);return acc},{},keys(obj))});module.exports=mapObjIndexed},{"./internal/_curry2":149,"./internal/_reduce":181,"./keys":218}],235:[function(require,module,exports){var _curry2=require("./internal/_curry2");var match=_curry2(function match(rx,str){return str.match(rx)||[]});module.exports=match},{"./internal/_curry2":149}],236:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _isInteger=require("./internal/_isInteger");var mathMod=_curry2(function mathMod(m,p){if(!_isInteger(m)){return NaN}if(!_isInteger(p)||p<1){return NaN}return(m%p+p)%p});module.exports=mathMod},{"./internal/_curry2":149,"./internal/_isInteger":167}],237:[function(require,module,exports){var _curry2=require("./internal/_curry2");var max=_curry2(function max(a,b){return b>a?b:a});module.exports=max},{"./internal/_curry2":149}],238:[function(require,module,exports){var _curry3=require("./internal/_curry3");var maxBy=_curry3(function maxBy(f,a,b){return f(b)>f(a)?b:a});module.exports=maxBy},{"./internal/_curry3":150}],239:[function(require,module,exports){var _curry1=require("./internal/_curry1");var sum=require("./sum");var mean=_curry1(function mean(list){return sum(list)/list.length});module.exports=mean},{"./internal/_curry1":148,"./sum":316}],240:[function(require,module,exports){var _curry1=require("./internal/_curry1");var mean=require("./mean");var median=_curry1(function median(list){var len=list.length;if(len===0){return NaN}var width=2-len%2;var idx=(len-width)/2;return mean(Array.prototype.slice.call(list,0).sort(function(a,b){return a<b?-1:a>b?1:0}).slice(idx,idx+width))});module.exports=median},{"./internal/_curry1":148,"./mean":239}],241:[function(require,module,exports){var memoizeWith=require("./memoizeWith");var toString=require("./toString");var memoize=memoizeWith(function(){return toString(arguments)});module.exports=memoize},{"./memoizeWith":242,"./toString":330}],242:[function(require,module,exports){var _arity=require("./internal/_arity");var _curry2=require("./internal/_curry2");var _has=require("./internal/_has");var memoizeWith=_curry2(function memoizeWith(mFn,fn){var cache={};return _arity(fn.length,function(){var key=mFn.apply(this,arguments);if(!_has(key,cache)){cache[key]=fn.apply(this,arguments)}return cache[key]})});module.exports=memoizeWith},{"./internal/_arity":137,"./internal/_curry2":149,"./internal/_has":160}],243:[function(require,module,exports){var _assign=require("./internal/_assign");var _curry2=require("./internal/_curry2");var merge=_curry2(function merge(l,r){return _assign({},l,r)});module.exports=merge},{"./internal/_assign":139,"./internal/_curry2":149}],244:[function(require,module,exports){var _assign=require("./internal/_assign");var _curry1=require("./internal/_curry1");var mergeAll=_curry1(function mergeAll(list){return _assign.apply(null,[{}].concat(list))});module.exports=mergeAll},{"./internal/_assign":139,"./internal/_curry1":148}],245:[function(require,module,exports){var _curry2=require("./internal/_curry2");var mergeDeepWithKey=require("./mergeDeepWithKey");var mergeDeepLeft=_curry2(function mergeDeepLeft(lObj,rObj){return mergeDeepWithKey(function(k,lVal,rVal){return lVal},lObj,rObj)});module.exports=mergeDeepLeft},{"./internal/_curry2":149,"./mergeDeepWithKey":248}],246:[function(require,module,exports){var _curry2=require("./internal/_curry2");var mergeDeepWithKey=require("./mergeDeepWithKey");var mergeDeepRight=_curry2(function mergeDeepRight(lObj,rObj){return mergeDeepWithKey(function(k,lVal,rVal){return rVal},lObj,rObj)});module.exports=mergeDeepRight},{"./internal/_curry2":149,"./mergeDeepWithKey":248}],247:[function(require,module,exports){var _curry3=require("./internal/_curry3");var mergeDeepWithKey=require("./mergeDeepWithKey");var mergeDeepWith=_curry3(function mergeDeepWith(fn,lObj,rObj){return mergeDeepWithKey(function(k,lVal,rVal){return fn(lVal,rVal)},lObj,rObj)});module.exports=mergeDeepWith},{"./internal/_curry3":150,"./mergeDeepWithKey":248}],248:[function(require,module,exports){var _curry3=require("./internal/_curry3");var _isObject=require("./internal/_isObject");var mergeWithKey=require("./mergeWithKey");var mergeDeepWithKey=_curry3(function mergeDeepWithKey(fn,lObj,rObj){return mergeWithKey(function(k,lVal,rVal){if(_isObject(lVal)&&_isObject(rVal)){return mergeDeepWithKey(fn,lVal,rVal)}else{return fn(k,lVal,rVal)}},lObj,rObj)});module.exports=mergeDeepWithKey},{"./internal/_curry3":150,"./internal/_isObject":169,"./mergeWithKey":250}],249:[function(require,module,exports){var _curry3=require("./internal/_curry3");var mergeWithKey=require("./mergeWithKey");var mergeWith=_curry3(function mergeWith(fn,l,r){return mergeWithKey(function(_,_l,_r){return fn(_l,_r)},l,r)});module.exports=mergeWith},{"./internal/_curry3":150,"./mergeWithKey":250}],250:[function(require,module,exports){var _curry3=require("./internal/_curry3");var _has=require("./internal/_has");var mergeWithKey=_curry3(function mergeWithKey(fn,l,r){var result={};var k;for(k in l){if(_has(k,l)){result[k]=_has(k,r)?fn(k,l[k],r[k]):l[k]}}for(k in r){if(_has(k,r)&&!_has(k,result)){result[k]=r[k]}}return result});module.exports=mergeWithKey},{"./internal/_curry3":150,"./internal/_has":160}],251:[function(require,module,exports){var _curry2=require("./internal/_curry2");var min=_curry2(function min(a,b){return b<a?b:a});module.exports=min},{"./internal/_curry2":149}],252:[function(require,module,exports){var _curry3=require("./internal/_curry3");var minBy=_curry3(function minBy(f,a,b){return f(b)<f(a)?b:a});module.exports=minBy},{"./internal/_curry3":150}],253:[function(require,module,exports){var _curry2=require("./internal/_curry2");var modulo=_curry2(function modulo(a,b){return a%b});module.exports=modulo},{"./internal/_curry2":149}],254:[function(require,module,exports){var _curry2=require("./internal/_curry2");var multiply=_curry2(function multiply(a,b){return a*b});module.exports=multiply},{"./internal/_curry2":149}],255:[function(require,module,exports){var _curry2=require("./internal/_curry2");var nAry=_curry2(function nAry(n,fn){switch(n){case 0:return function(){return fn.call(this)};case 1:return function(a0){return fn.call(this,a0)};case 2:return function(a0,a1){return fn.call(this,a0,a1)};case 3:return function(a0,a1,a2){return fn.call(this,a0,a1,a2)};case 4:return function(a0,a1,a2,a3){return fn.call(this,a0,a1,a2,a3)};case 5:return function(a0,a1,a2,a3,a4){return fn.call(this,a0,a1,a2,a3,a4)};case 6:return function(a0,a1,a2,a3,a4,a5){return fn.call(this,a0,a1,a2,a3,a4,a5)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){return fn.call(this,a0,a1,a2,a3,a4,a5,a6)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7,a8)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){return fn.call(this,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}});module.exports=nAry},{"./internal/_curry2":149}],256:[function(require,module,exports){var _curry1=require("./internal/_curry1");var negate=_curry1(function negate(n){return-n});module.exports=negate},{"./internal/_curry1":148}],257:[function(require,module,exports){var _complement=require("./internal/_complement");var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xany=require("./internal/_xany");var any=require("./any");var none=_curry2(_complement(_dispatchable(["any"],_xany,any)));module.exports=none},{"./any":54,"./internal/_complement":143,"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xany":187}],258:[function(require,module,exports){var _curry1=require("./internal/_curry1");var not=_curry1(function not(a){return!a});module.exports=not},{"./internal/_curry1":148}],259:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _isString=require("./internal/_isString");var nth=_curry2(function nth(offset,list){var idx=offset<0?list.length+offset:offset;return _isString(list)?list.charAt(idx):list[idx]});module.exports=nth},{"./internal/_curry2":149,"./internal/_isString":172}],260:[function(require,module,exports){var _curry1=require("./internal/_curry1");var curryN=require("./curryN");var nth=require("./nth");var nthArg=_curry1(function nthArg(n){var arity=n<0?1:n+1;return curryN(arity,function(){return nth(n,arguments)})});module.exports=nthArg},{"./curryN":85,"./internal/_curry1":148,"./nth":259}],261:[function(require,module,exports){var _curry3=require("./internal/_curry3");var o=_curry3(function o(f,g,x){return f(g(x))});module.exports=o},{"./internal/_curry3":150}],262:[function(require,module,exports){var _curry2=require("./internal/_curry2");var objOf=_curry2(function objOf(key,val){var obj={};obj[key]=val;return obj});module.exports=objOf},{"./internal/_curry2":149}],263:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _of=require("./internal/_of");var of=_curry1(_of);module.exports=of},{"./internal/_curry1":148,"./internal/_of":177}],264:[function(require,module,exports){var _curry2=require("./internal/_curry2");var omit=_curry2(function omit(names,obj){var result={};var index={};var idx=0;var len=names.length;while(idx<len){index[names[idx]]=1;idx+=1}for(var prop in obj){if(!index.hasOwnProperty(prop)){result[prop]=obj[prop]}}return result});module.exports=omit},{"./internal/_curry2":149}],265:[function(require,module,exports){var _arity=require("./internal/_arity");var _curry1=require("./internal/_curry1");var once=_curry1(function once(fn){var called=false;var result;return _arity(fn.length,function(){if(called){return result}called=true;result=fn.apply(this,arguments);return result})});module.exports=once},{"./internal/_arity":137,"./internal/_curry1":148}],266:[function(require,module,exports){var _curry2=require("./internal/_curry2");var or=_curry2(function or(a,b){return a||b});module.exports=or},{"./internal/_curry2":149}],267:[function(require,module,exports){var _curry3=require("./internal/_curry3");var Identity=function(x){return{value:x,map:function(f){return Identity(f(x))}}};var over=_curry3(function over(lens,f,x){return lens(function(y){return Identity(f(y))})(x).value});module.exports=over},{"./internal/_curry3":150}],268:[function(require,module,exports){var _curry2=require("./internal/_curry2");var pair=_curry2(function pair(fst,snd){return[fst,snd]});module.exports=pair},{"./internal/_curry2":149}],269:[function(require,module,exports){var _concat=require("./internal/_concat");var _createPartialApplicator=require("./internal/_createPartialApplicator");var partial=_createPartialApplicator(_concat);module.exports=partial},{"./internal/_concat":144,"./internal/_createPartialApplicator":147}],270:[function(require,module,exports){var _concat=require("./internal/_concat");var _createPartialApplicator=require("./internal/_createPartialApplicator");var flip=require("./flip");var partialRight=_createPartialApplicator(flip(_concat));module.exports=partialRight},{"./flip":113,"./internal/_concat":144,"./internal/_createPartialApplicator":147}],271:[function(require,module,exports){var filter=require("./filter");var juxt=require("./juxt");var reject=require("./reject");var partition=juxt([filter,reject]);module.exports=partition},{"./filter":107,"./juxt":217,"./reject":298}],272:[function(require,module,exports){var _curry2=require("./internal/_curry2");var path=_curry2(function path(paths,obj){var val=obj;var idx=0;while(idx<paths.length){if(val==null){return}val=val[paths[idx]];idx+=1}return val});module.exports=path},{"./internal/_curry2":149}],273:[function(require,module,exports){var _curry3=require("./internal/_curry3");var equals=require("./equals");var path=require("./path");var pathEq=_curry3(function pathEq(_path,val,obj){return equals(path(_path,obj),val)});module.exports=pathEq},{"./equals":105,"./internal/_curry3":150,"./path":272}],274:[function(require,module,exports){var _curry3=require("./internal/_curry3");var defaultTo=require("./defaultTo");var path=require("./path");var pathOr=_curry3(function pathOr(d,p,obj){return defaultTo(d,path(p,obj))});module.exports=pathOr},{"./defaultTo":87,"./internal/_curry3":150,"./path":272}],275:[function(require,module,exports){var _curry3=require("./internal/_curry3");var path=require("./path");var pathSatisfies=_curry3(function pathSatisfies(pred,propPath,obj){return propPath.length>0&&pred(path(propPath,obj))});module.exports=pathSatisfies},{"./internal/_curry3":150,"./path":272}],276:[function(require,module,exports){var _curry2=require("./internal/_curry2");var pick=_curry2(function pick(names,obj){var result={};var idx=0;while(idx<names.length){if(names[idx]in obj){result[names[idx]]=obj[names[idx]]}idx+=1}return result});module.exports=pick},{"./internal/_curry2":149}],277:[function(require,module,exports){var _curry2=require("./internal/_curry2");var pickAll=_curry2(function pickAll(names,obj){var result={};var idx=0;var len=names.length;while(idx<len){var name=names[idx];result[name]=obj[name];idx+=1}return result});module.exports=pickAll},{"./internal/_curry2":149}],278:[function(require,module,exports){var _curry2=require("./internal/_curry2");var pickBy=_curry2(function pickBy(test,obj){var result={};for(var prop in obj){if(test(obj[prop],prop,obj)){result[prop]=obj[prop]}}return result});module.exports=pickBy},{"./internal/_curry2":149}],279:[function(require,module,exports){var _arity=require("./internal/_arity");var _pipe=require("./internal/_pipe");var reduce=require("./reduce");var tail=require("./tail");function pipe(){if(arguments.length===0){throw new Error("pipe requires at least one argument")}return _arity(arguments[0].length,reduce(_pipe,arguments[0],tail(arguments)))}module.exports=pipe},{"./internal/_arity":137,"./internal/_pipe":178,"./reduce":293,"./tail":319}],280:[function(require,module,exports){var composeK=require("./composeK");var reverse=require("./reverse");function pipeK(){if(arguments.length===0){throw new Error("pipeK requires at least one argument")}return composeK.apply(this,reverse(arguments))}module.exports=pipeK},{"./composeK":75,"./reverse":302}],281:[function(require,module,exports){var _arity=require("./internal/_arity");var _pipeP=require("./internal/_pipeP");var reduce=require("./reduce");var tail=require("./tail");function pipeP(){if(arguments.length===0){throw new Error("pipeP requires at least one argument")}return _arity(arguments[0].length,reduce(_pipeP,arguments[0],tail(arguments)))}module.exports=pipeP},{"./internal/_arity":137,"./internal/_pipeP":179,"./reduce":293,"./tail":319}],282:[function(require,module,exports){var _curry2=require("./internal/_curry2");var map=require("./map");var prop=require("./prop");var pluck=_curry2(function pluck(p,list){return map(prop(p),list)});module.exports=pluck},{"./internal/_curry2":149,"./map":231,"./prop":286}],283:[function(require,module,exports){var _concat=require("./internal/_concat");var _curry2=require("./internal/_curry2");var prepend=_curry2(function prepend(el,list){return _concat([el],list)});module.exports=prepend},{"./internal/_concat":144,"./internal/_curry2":149}],284:[function(require,module,exports){var multiply=require("./multiply");var reduce=require("./reduce");var product=reduce(multiply,1);module.exports=product},{"./multiply":254,"./reduce":293}],285:[function(require,module,exports){var _map=require("./internal/_map");var identity=require("./identity");var pickAll=require("./pickAll");var useWith=require("./useWith");var project=useWith(_map,[pickAll,identity]);module.exports=project},{"./identity":125,"./internal/_map":175,"./pickAll":277,"./useWith":351}],286:[function(require,module,exports){var _curry2=require("./internal/_curry2");var path=require("./path");var prop=_curry2(function prop(p,obj){return path([p],obj)});module.exports=prop},{"./internal/_curry2":149,"./path":272}],287:[function(require,module,exports){var _curry3=require("./internal/_curry3");var equals=require("./equals");var propEq=_curry3(function propEq(name,val,obj){return equals(val,obj[name])});module.exports=propEq},{"./equals":105,"./internal/_curry3":150}],288:[function(require,module,exports){var _curry3=require("./internal/_curry3");var is=require("./is");var propIs=_curry3(function propIs(type,name,obj){return is(type,obj[name])});module.exports=propIs},{"./internal/_curry3":150,"./is":213}],289:[function(require,module,exports){var _curry3=require("./internal/_curry3");var _has=require("./internal/_has");var propOr=_curry3(function propOr(val,p,obj){return obj!=null&&_has(p,obj)?obj[p]:val});module.exports=propOr},{"./internal/_curry3":150,"./internal/_has":160}],290:[function(require,module,exports){var _curry3=require("./internal/_curry3");var propSatisfies=_curry3(function propSatisfies(pred,name,obj){return pred(obj[name])});module.exports=propSatisfies},{"./internal/_curry3":150}],291:[function(require,module,exports){var _curry2=require("./internal/_curry2");var props=_curry2(function props(ps,obj){var len=ps.length;var out=[];var idx=0;while(idx<len){out[idx]=obj[ps[idx]];idx+=1}return out});module.exports=props},{"./internal/_curry2":149}],292:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _isNumber=require("./internal/_isNumber");var range=_curry2(function range(from,to){if(!(_isNumber(from)&&_isNumber(to))){throw new TypeError("Both arguments to range must be numbers")}var result=[];var n=from;while(n<to){result.push(n);n+=1}return result});module.exports=range},{"./internal/_curry2":149,"./internal/_isNumber":168}],293:[function(require,module,exports){var _curry3=require("./internal/_curry3");var _reduce=require("./internal/_reduce");var reduce=_curry3(_reduce);module.exports=reduce},{"./internal/_curry3":150,"./internal/_reduce":181}],294:[function(require,module,exports){var _curryN=require("./internal/_curryN");var _dispatchable=require("./internal/_dispatchable");var _has=require("./internal/_has");var _reduce=require("./internal/_reduce");var _xreduceBy=require("./internal/_xreduceBy");var reduceBy=_curryN(4,[],_dispatchable([],_xreduceBy,function reduceBy(valueFn,valueAcc,keyFn,list){return _reduce(function(acc,elt){var key=keyFn(elt);acc[key]=valueFn(_has(key,acc)?acc[key]:valueAcc,elt);return acc},{},list)}));module.exports=reduceBy},{"./internal/_curryN":151,"./internal/_dispatchable":152,"./internal/_has":160,"./internal/_reduce":181,"./internal/_xreduceBy":202}],295:[function(require,module,exports){var _curry3=require("./internal/_curry3");var reduceRight=_curry3(function reduceRight(fn,acc,list){var idx=list.length-1;while(idx>=0){acc=fn(list[idx],acc);idx-=1}return acc});module.exports=reduceRight},{"./internal/_curry3":150}],296:[function(require,module,exports){var _curryN=require("./internal/_curryN");var _reduce=require("./internal/_reduce");var _reduced=require("./internal/_reduced");var reduceWhile=_curryN(4,[],function _reduceWhile(pred,fn,a,list){return _reduce(function(acc,x){return pred(acc,x)?fn(acc,x):_reduced(acc)},a,list)});module.exports=reduceWhile},{"./internal/_curryN":151,"./internal/_reduce":181,"./internal/_reduced":182}],297:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _reduced=require("./internal/_reduced");var reduced=_curry1(_reduced);module.exports=reduced},{"./internal/_curry1":148,"./internal/_reduced":182}],298:[function(require,module,exports){var _complement=require("./internal/_complement");var _curry2=require("./internal/_curry2");var filter=require("./filter");var reject=_curry2(function reject(pred,filterable){return filter(_complement(pred),filterable)});module.exports=reject},{"./filter":107,"./internal/_complement":143,"./internal/_curry2":149}],299:[function(require,module,exports){var _curry3=require("./internal/_curry3");var remove=_curry3(function remove(start,count,list){var result=Array.prototype.slice.call(list,0);result.splice(start,count);return result});module.exports=remove},{"./internal/_curry3":150}],300:[function(require,module,exports){var _curry2=require("./internal/_curry2");var always=require("./always");var times=require("./times");var repeat=_curry2(function repeat(value,n){return times(always(value),n)});module.exports=repeat},{"./always":52,"./internal/_curry2":149,"./times":326}],301:[function(require,module,exports){var _curry3=require("./internal/_curry3");var replace=_curry3(function replace(regex,replacement,str){return str.replace(regex,replacement)});module.exports=replace},{"./internal/_curry3":150}],302:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _isString=require("./internal/_isString");var reverse=_curry1(function reverse(list){return _isString(list)?list.split("").reverse().join(""):Array.prototype.slice.call(list,0).reverse()});module.exports=reverse},{"./internal/_curry1":148,"./internal/_isString":172}],303:[function(require,module,exports){var _curry3=require("./internal/_curry3");var scan=_curry3(function scan(fn,acc,list){var idx=0;var len=list.length;var result=[acc];while(idx<len){acc=fn(acc,list[idx]);result[idx+1]=acc;idx+=1}return result});module.exports=scan},{"./internal/_curry3":150}],304:[function(require,module,exports){var _curry2=require("./internal/_curry2");var ap=require("./ap");var map=require("./map");var prepend=require("./prepend");var reduceRight=require("./reduceRight");var sequence=_curry2(function sequence(of,traversable){return typeof traversable.sequence==="function"?traversable.sequence(of):reduceRight(function(x,acc){return ap(map(prepend,x),acc)},of([]),traversable)});module.exports=sequence},{"./ap":56,"./internal/_curry2":149,"./map":231,"./prepend":283,"./reduceRight":295}],305:[function(require,module,exports){var _curry3=require("./internal/_curry3");var always=require("./always");var over=require("./over");var set=_curry3(function set(lens,v,x){return over(lens,always(v),x)});module.exports=set},{"./always":52,"./internal/_curry3":150,"./over":267}],306:[function(require,module,exports){var _checkForMethod=require("./internal/_checkForMethod");var _curry3=require("./internal/_curry3");var slice=_curry3(_checkForMethod("slice",function slice(fromIndex,toIndex,list){return Array.prototype.slice.call(list,fromIndex,toIndex)}));module.exports=slice},{"./internal/_checkForMethod":140,"./internal/_curry3":150}],307:[function(require,module,exports){var _curry2=require("./internal/_curry2");var sort=_curry2(function sort(comparator,list){return Array.prototype.slice.call(list,0).sort(comparator)});module.exports=sort},{"./internal/_curry2":149}],308:[function(require,module,exports){var _curry2=require("./internal/_curry2");var sortBy=_curry2(function sortBy(fn,list){return Array.prototype.slice.call(list,0).sort(function(a,b){var aa=fn(a);var bb=fn(b);return aa<bb?-1:aa>bb?1:0})});module.exports=sortBy},{"./internal/_curry2":149}],309:[function(require,module,exports){var _curry2=require("./internal/_curry2");var sortWith=_curry2(function sortWith(fns,list){return Array.prototype.slice.call(list,0).sort(function(a,b){var result=0;var i=0;while(result===0&&i<fns.length){result=fns[i](a,b);i+=1}return result})});module.exports=sortWith},{"./internal/_curry2":149}],310:[function(require,module,exports){var invoker=require("./invoker");var split=invoker(1,"split");module.exports=split},{"./invoker":212}],311:[function(require,module,exports){var _curry2=require("./internal/_curry2");var length=require("./length");var slice=require("./slice");var splitAt=_curry2(function splitAt(index,array){return[slice(0,index,array),slice(index,length(array),array)]});module.exports=splitAt},{"./internal/_curry2":149,"./length":222,"./slice":306}],312:[function(require,module,exports){var _curry2=require("./internal/_curry2");var slice=require("./slice");var splitEvery=_curry2(function splitEvery(n,list){if(n<=0){throw new Error("First argument to splitEvery must be a positive integer")}var result=[];var idx=0;while(idx<list.length){result.push(slice(idx,idx+=n,list))}return result});module.exports=splitEvery},{"./internal/_curry2":149,"./slice":306}],313:[function(require,module,exports){var _curry2=require("./internal/_curry2");var splitWhen=_curry2(function splitWhen(pred,list){var idx=0;var len=list.length;var prefix=[];while(idx<len&&!pred(list[idx])){prefix.push(list[idx]);idx+=1}return[prefix,Array.prototype.slice.call(list,idx)]});module.exports=splitWhen},{"./internal/_curry2":149}],314:[function(require,module,exports){var _curry2=require("./internal/_curry2");var equals=require("./equals");var take=require("./take");var startsWith=_curry2(function(prefix,list){return equals(take(prefix.length,list),prefix)});module.exports=startsWith},{"./equals":105,"./internal/_curry2":149,"./take":320}],315:[function(require,module,exports){var _curry2=require("./internal/_curry2");var subtract=_curry2(function subtract(a,b){return Number(a)-Number(b)});module.exports=subtract},{"./internal/_curry2":149}],316:[function(require,module,exports){var add=require("./add");var reduce=require("./reduce");var sum=reduce(add,0);module.exports=sum},{"./add":47,"./reduce":293}],317:[function(require,module,exports){var _curry2=require("./internal/_curry2");var concat=require("./concat");var difference=require("./difference");var symmetricDifference=_curry2(function symmetricDifference(list1,list2){return concat(difference(list1,list2),difference(list2,list1))});module.exports=symmetricDifference},{"./concat":77,"./difference":89,"./internal/_curry2":149}],318:[function(require,module,exports){var _curry3=require("./internal/_curry3");var concat=require("./concat");var differenceWith=require("./differenceWith");var symmetricDifferenceWith=_curry3(function symmetricDifferenceWith(pred,list1,list2){return concat(differenceWith(pred,list1,list2),differenceWith(pred,list2,list1))});module.exports=symmetricDifferenceWith},{"./concat":77,"./differenceWith":90,"./internal/_curry3":150}],319:[function(require,module,exports){var _checkForMethod=require("./internal/_checkForMethod");var _curry1=require("./internal/_curry1");var slice=require("./slice");var tail=_curry1(_checkForMethod("tail",slice(1,Infinity)));module.exports=tail},{"./internal/_checkForMethod":140,"./internal/_curry1":148,"./slice":306}],320:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xtake=require("./internal/_xtake");var slice=require("./slice");var take=_curry2(_dispatchable(["take"],_xtake,function take(n,xs){return slice(0,n<0?Infinity:n,xs)}));module.exports=take},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xtake":203,"./slice":306}],321:[function(require,module,exports){var _curry2=require("./internal/_curry2");var drop=require("./drop");var takeLast=_curry2(function takeLast(n,xs){return drop(n>=0?xs.length-n:0,xs)});module.exports=takeLast},{"./drop":94,"./internal/_curry2":149}],322:[function(require,module,exports){var _curry2=require("./internal/_curry2");var slice=require("./slice");var takeLastWhile=_curry2(function takeLastWhile(fn,xs){var idx=xs.length-1;while(idx>=0&&fn(xs[idx])){idx-=1}return slice(idx+1,Infinity,xs)});module.exports=takeLastWhile},{"./internal/_curry2":149,"./slice":306}],323:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xtakeWhile=require("./internal/_xtakeWhile");var slice=require("./slice");var takeWhile=_curry2(_dispatchable(["takeWhile"],_xtakeWhile,function takeWhile(fn,xs){var idx=0;var len=xs.length;while(idx<len&&fn(xs[idx])){idx+=1}return slice(0,idx,xs)}));module.exports=takeWhile},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xtakeWhile":204,"./slice":306}],324:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _dispatchable=require("./internal/_dispatchable");var _xtap=require("./internal/_xtap");var tap=_curry2(_dispatchable([],_xtap,function tap(fn,x){fn(x);return x}));module.exports=tap},{"./internal/_curry2":149,"./internal/_dispatchable":152,"./internal/_xtap":205}],325:[function(require,module,exports){var _cloneRegExp=require("./internal/_cloneRegExp");var _curry2=require("./internal/_curry2");var _isRegExp=require("./internal/_isRegExp");var toString=require("./toString");var test=_curry2(function test(pattern,str){if(!_isRegExp(pattern)){throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+toString(pattern))}return _cloneRegExp(pattern).test(str)});module.exports=test},{"./internal/_cloneRegExp":142,"./internal/_curry2":149,"./internal/_isRegExp":171,"./toString":330}],326:[function(require,module,exports){var _curry2=require("./internal/_curry2");var times=_curry2(function times(fn,n){var len=Number(n);var idx=0;var list;if(len<0||isNaN(len)){throw new RangeError("n must be a non-negative number")}list=new Array(len);while(idx<len){list[idx]=fn(idx);idx+=1}return list});module.exports=times},{"./internal/_curry2":149}],327:[function(require,module,exports){var invoker=require("./invoker");var toLower=invoker(0,"toLowerCase");module.exports=toLower},{"./invoker":212}],328:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _has=require("./internal/_has");var toPairs=_curry1(function toPairs(obj){var pairs=[];for(var prop in obj){if(_has(prop,obj)){pairs[pairs.length]=[prop,obj[prop]]}}return pairs});module.exports=toPairs},{"./internal/_curry1":148,"./internal/_has":160}],329:[function(require,module,exports){var _curry1=require("./internal/_curry1");var toPairsIn=_curry1(function toPairsIn(obj){var pairs=[];for(var prop in obj){pairs[pairs.length]=[prop,obj[prop]]}return pairs});module.exports=toPairsIn},{"./internal/_curry1":148}],330:[function(require,module,exports){var _curry1=require("./internal/_curry1");var _toString=require("./internal/_toString");var toString=_curry1(function toString(val){return _toString(val,[])});module.exports=toString},{"./internal/_curry1":148,"./internal/_toString":185}],331:[function(require,module,exports){var invoker=require("./invoker");var toUpper=invoker(0,"toUpperCase");module.exports=toUpper},{"./invoker":212}],332:[function(require,module,exports){var _reduce=require("./internal/_reduce");var _xwrap=require("./internal/_xwrap");var curryN=require("./curryN");var transduce=curryN(4,function transduce(xf,fn,acc,list){return _reduce(xf(typeof fn==="function"?_xwrap(fn):fn),acc,list)});module.exports=transduce},{"./curryN":85,"./internal/_reduce":181,"./internal/_xwrap":206}],333:[function(require,module,exports){var _curry1=require("./internal/_curry1");var transpose=_curry1(function transpose(outerlist){var i=0;var result=[];while(i<outerlist.length){var innerlist=outerlist[i];var j=0;while(j<innerlist.length){if(typeof result[j]==="undefined"){result[j]=[]}result[j].push(innerlist[j]);j+=1}i+=1}return result});module.exports=transpose},{"./internal/_curry1":148}],334:[function(require,module,exports){var _curry3=require("./internal/_curry3");var map=require("./map");var sequence=require("./sequence");var traverse=_curry3(function traverse(of,f,traversable){return typeof traversable["fantasy-land/traverse"]==="function"?traversable["fantasy-land/traverse"](f,of):sequence(of,map(f,traversable))});module.exports=traverse},{"./internal/_curry3":150,"./map":231,"./sequence":304}],335:[function(require,module,exports){var _curry1=require("./internal/_curry1");var ws="\t\n\v\f\r   ᠎    "+"         　\u2028"+"\u2029\ufeff";var zeroWidth="​";var hasProtoTrim=typeof String.prototype.trim==="function";var _trim=!hasProtoTrim||ws.trim()||!zeroWidth.trim()?function trim(str){var beginRx=new RegExp("^["+ws+"]["+ws+"]*");var endRx=new RegExp("["+ws+"]["+ws+"]*$");return str.replace(beginRx,"").replace(endRx,"")}:function trim(str){return str.trim()};var trim=_curry1(_trim);module.exports=trim},{"./internal/_curry1":148}],336:[function(require,module,exports){var _arity=require("./internal/_arity");var _concat=require("./internal/_concat");var _curry2=require("./internal/_curry2");var tryCatch=_curry2(function _tryCatch(tryer,catcher){return _arity(tryer.length,function(){try{return tryer.apply(this,arguments)}catch(e){return catcher.apply(this,_concat([e],arguments))}})});module.exports=tryCatch},{"./internal/_arity":137,"./internal/_concat":144,"./internal/_curry2":149}],337:[function(require,module,exports){var _curry1=require("./internal/_curry1");var type=_curry1(function type(val){return val===null?"Null":val===undefined?"Undefined":Object.prototype.toString.call(val).slice(8,-1)});module.exports=type},{"./internal/_curry1":148}],338:[function(require,module,exports){var _curry1=require("./internal/_curry1");var unapply=_curry1(function unapply(fn){return function(){return fn(Array.prototype.slice.call(arguments,0))}});module.exports=unapply},{"./internal/_curry1":148}],339:[function(require,module,exports){var _curry1=require("./internal/_curry1");var nAry=require("./nAry");var unary=_curry1(function unary(fn){return nAry(1,fn)});module.exports=unary},{"./internal/_curry1":148,"./nAry":255}],340:[function(require,module,exports){var _curry2=require("./internal/_curry2");var curryN=require("./curryN");var uncurryN=_curry2(function uncurryN(depth,fn){return curryN(depth,function(){var currentDepth=1;var value=fn;var idx=0;var endIdx;while(currentDepth<=depth&&typeof value==="function"){endIdx=currentDepth===depth?arguments.length:idx+value.length;value=value.apply(this,Array.prototype.slice.call(arguments,idx,endIdx));currentDepth+=1;idx=endIdx}return value})});module.exports=uncurryN},{"./curryN":85,"./internal/_curry2":149}],341:[function(require,module,exports){var _curry2=require("./internal/_curry2");var unfold=_curry2(function unfold(fn,seed){var pair=fn(seed);var result=[];while(pair&&pair.length){result[result.length]=pair[0];pair=fn(pair[1])}return result});module.exports=unfold},{"./internal/_curry2":149}],342:[function(require,module,exports){var _concat=require("./internal/_concat");var _curry2=require("./internal/_curry2");var compose=require("./compose");var uniq=require("./uniq");var union=_curry2(compose(uniq,_concat));module.exports=union},{"./compose":74,"./internal/_concat":144,"./internal/_curry2":149,"./uniq":344}],343:[function(require,module,exports){var _concat=require("./internal/_concat");var _curry3=require("./internal/_curry3");var uniqWith=require("./uniqWith");var unionWith=_curry3(function unionWith(pred,list1,list2){return uniqWith(pred,_concat(list1,list2))});module.exports=unionWith},{"./internal/_concat":144,"./internal/_curry3":150,"./uniqWith":346}],344:[function(require,module,exports){var identity=require("./identity");var uniqBy=require("./uniqBy");var uniq=uniqBy(identity);module.exports=uniq},{"./identity":125,"./uniqBy":345}],345:[function(require,module,exports){var _Set=require("./internal/_Set");var _curry2=require("./internal/_curry2");var uniqBy=_curry2(function uniqBy(fn,list){var set=new _Set;var result=[];var idx=0;var appliedItem,item;while(idx<list.length){item=list[idx];appliedItem=fn(item);if(set.add(appliedItem)){result.push(item)}idx+=1}return result});module.exports=uniqBy},{"./internal/_Set":135,"./internal/_curry2":149}],346:[function(require,module,exports){var _containsWith=require("./internal/_containsWith");var _curry2=require("./internal/_curry2");var uniqWith=_curry2(function uniqWith(pred,list){var idx=0;var len=list.length;var result=[];var item;while(idx<len){item=list[idx];if(!_containsWith(pred,item,result)){result[result.length]=item}idx+=1}return result});module.exports=uniqWith},{"./internal/_containsWith":146,"./internal/_curry2":149}],347:[function(require,module,exports){var _curry3=require("./internal/_curry3");var unless=_curry3(function unless(pred,whenFalseFn,x){return pred(x)?x:whenFalseFn(x)});module.exports=unless},{"./internal/_curry3":150}],348:[function(require,module,exports){var _identity=require("./internal/_identity");var chain=require("./chain");var unnest=chain(_identity);module.exports=unnest},{"./chain":69,"./internal/_identity":161}],349:[function(require,module,exports){var _curry3=require("./internal/_curry3");var until=_curry3(function until(pred,fn,init){var val=init;while(!pred(val)){val=fn(val)}return val});module.exports=until},{"./internal/_curry3":150}],350:[function(require,module,exports){var _curry3=require("./internal/_curry3");var adjust=require("./adjust");var always=require("./always");var update=_curry3(function update(idx,x,list){return adjust(always(x),idx,list)});module.exports=update},{"./adjust":49,"./always":52,"./internal/_curry3":150}],351:[function(require,module,exports){var _curry2=require("./internal/_curry2");var curryN=require("./curryN");var useWith=_curry2(function useWith(fn,transformers){return curryN(transformers.length,function(){var args=[];var idx=0;while(idx<transformers.length){args.push(transformers[idx].call(this,arguments[idx]));idx+=1}return fn.apply(this,args.concat(Array.prototype.slice.call(arguments,transformers.length)))})});module.exports=useWith},{"./curryN":85,"./internal/_curry2":149}],352:[function(require,module,exports){var _curry1=require("./internal/_curry1");var keys=require("./keys");var values=_curry1(function values(obj){var props=keys(obj);var len=props.length;var vals=[];var idx=0;while(idx<len){vals[idx]=obj[props[idx]];idx+=1}return vals});module.exports=values},{"./internal/_curry1":148,"./keys":218}],353:[function(require,module,exports){var _curry1=require("./internal/_curry1");var valuesIn=_curry1(function valuesIn(obj){var prop;var vs=[];for(prop in obj){vs[vs.length]=obj[prop]}return vs});module.exports=valuesIn},{"./internal/_curry1":148}],354:[function(require,module,exports){var _curry2=require("./internal/_curry2");var Const=function(x){return{value:x,"fantasy-land/map":function(){return this}}};var view=_curry2(function view(lens,x){return lens(Const)(x).value});module.exports=view},{"./internal/_curry2":149}],355:[function(require,module,exports){var _curry3=require("./internal/_curry3");var when=_curry3(function when(pred,whenTrueFn,x){return pred(x)?whenTrueFn(x):x});module.exports=when},{"./internal/_curry3":150}],356:[function(require,module,exports){var _curry2=require("./internal/_curry2");var _has=require("./internal/_has");var where=_curry2(function where(spec,testObj){for(var prop in spec){if(_has(prop,spec)&&!spec[prop](testObj[prop])){return false}}return true});module.exports=where},{"./internal/_curry2":149,"./internal/_has":160}],357:[function(require,module,exports){var _curry2=require("./internal/_curry2");var equals=require("./equals");var map=require("./map");var where=require("./where");var whereEq=_curry2(function whereEq(spec,testObj){return where(map(equals,spec),testObj)});module.exports=whereEq},{"./equals":105,"./internal/_curry2":149,"./map":231,"./where":356}],358:[function(require,module,exports){var _contains=require("./internal/_contains");var _curry2=require("./internal/_curry2");var flip=require("./flip");var reject=require("./reject");var without=_curry2(function(xs,list){return reject(flip(_contains)(xs),list)});module.exports=without},{"./flip":113,"./internal/_contains":145,"./internal/_curry2":149,"./reject":298}],359:[function(require,module,exports){var _curry2=require("./internal/_curry2");var xprod=_curry2(function xprod(a,b){var idx=0;var ilen=a.length;var j;var jlen=b.length;var result=[];while(idx<ilen){j=0;while(j<jlen){result[result.length]=[a[idx],b[j]];j+=1}idx+=1}return result});module.exports=xprod},{"./internal/_curry2":149}],360:[function(require,module,exports){var _curry2=require("./internal/_curry2");var zip=_curry2(function zip(a,b){var rv=[];var idx=0;var len=Math.min(a.length,b.length);while(idx<len){rv[idx]=[a[idx],b[idx]];idx+=1}return rv});module.exports=zip},{"./internal/_curry2":149}],361:[function(require,module,exports){var _curry2=require("./internal/_curry2");var zipObj=_curry2(function zipObj(keys,values){var idx=0;var len=Math.min(keys.length,values.length);var out={};while(idx<len){out[keys[idx]]=values[idx];idx+=1}return out});module.exports=zipObj},{"./internal/_curry2":149}],362:[function(require,module,exports){var _curry3=require("./internal/_curry3");var zipWith=_curry3(function zipWith(fn,a,b){var rv=[];var idx=0;var len=Math.min(a.length,b.length);while(idx<len){rv[idx]=fn(a[idx],b[idx]);idx+=1}return rv});module.exports=zipWith},{"./internal/_curry3":150}]},{},[11])(11)});