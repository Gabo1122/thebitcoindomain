"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.factory = function (transform) { return function (data) {
    var errors = [];
    var result = Object.entries(transform)
        .reduce(function (acc, _a) {
        var _b;
        var name = _a[0], transformer = _a[1];
        try {
            var value = transformer(data);
            return Object.assign(acc, (_b = {}, _b[name] = value, _b));
        }
        catch (e) {
            errors.push({
                path: name,
                message: e.message
            });
        }
    }, Object.create(null));
    if (errors.length) {
        throw new Error("Errors: " + JSON.stringify(errors, null, 4));
    }
    return result;
}; };
//# sourceMappingURL=factory.js.map